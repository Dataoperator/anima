import{r as o,e as I,u as D,R as L}from"./vendor-5D7zIO-3.js";import{u as R,Q as S}from"./QuantumField-BmR5BzGs.js";import{u as C,W as T}from"./WaveformGenerator-vm3I3tDX.js";import{j as e,A as E,m as N}from"./framer-CEsFDmal.js";import{C as q,E as z}from"./EmotionalState-BcUniB7j.js";import"./main-ChLVje_b.js";const U=()=>{const{identity:c,actor:a}=R(),[i,m]=o.useState([]),[u,x]=o.useState(!0),[w,r]=o.useState(null),[y,p]=o.useState(null),d=o.useCallback(async()=>{if(!(!a||!c))try{x(!0);const s=c.getPrincipal(),n=await a.get_user_animas(s);return m(n),n}catch(s){console.error("Error fetching animas:",s),r(s.message)}finally{x(!1)}},[a,c]),g=o.useCallback(async s=>{if(!a)return null;try{const n=await a.get_anima(s);return p(n),n}catch(n){return console.error("Error fetching anima:",n),r(n.message),null}},[a]),f=o.useCallback(async()=>{if(!a||!c)return null;try{x(!0);const s=await a.create_anima();return await d(),s}catch(s){return console.error("Error creating anima:",s),r(s.message),null}finally{x(!1)}},[a,c,d]);return o.useEffect(()=>{d()},[d]),{animas:i,activeAnima:y,loading:u,error:w,fetchUserAnimas:d,getAnima:g,createAnima:f,actor:a}};var $={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=(c,a)=>{const i=o.forwardRef(({color:m="currentColor",size:u=24,strokeWidth:x=2,absoluteStrokeWidth:w,children:r,...y},p)=>o.createElement("svg",{ref:p,...$,width:u,height:u,stroke:m,strokeWidth:w?Number(x)*24/Number(u):x,className:`lucide lucide-${Q(c)}`,...y},[...a.map(([d,g])=>o.createElement(d,g)),...(Array.isArray(r)?r:[r])||[]]));return i.displayName=`${c}`,i};var k=V;const F=k("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),_=k("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),W=k("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),H=k("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),X=k("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),K=k("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Y=k("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),B=k("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),G=k("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),P=({onCommand:c})=>{const[a,i]=o.useState({isPlaying:!1,volume:.75,currentTime:0,duration:0,source:null,isExpanded:!1}),{updateQuantumState:m}=C(),u=r=>{const y=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,p=r.match(y);return p&&p[2].length===11?p[2]:null},x=r=>{const y=/\/video\/(\d+)/,p=r.match(y);return p?p[1]:null},w=o.useCallback(async r=>{if(r.toLowerCase().includes("play")||r.toLowerCase().includes("watch")){const y=r.match(/(https?:\/\/[^\s]+)/g);if(y){const p=y[0];let d=null;const g=u(p);g&&(d={platform:"youtube",id:g,url:`https://www.youtube.com/embed/${g}?autoplay=1`});const f=x(p);f&&(d={platform:"tiktok",id:f,url:`https://www.tiktok.com/embed/${f}`}),d&&(i(s=>({...s,source:d,isPlaying:!0,isExpanded:!0})),m({resonance:Math.random(),harmony:Math.random(),lastInteraction:new Date,consciousness:{awareness:Math.min(1,(prev?.consciousness?.awareness||0)+.1),understanding:Math.min(1,(prev?.consciousness?.understanding||0)+.1),growth:Math.min(1,(prev?.consciousness?.growth||0)+.1)}}))}}},[m]);return o.useEffect(()=>{c&&c(w)},[c,w]),a.source?e.jsx(E,{children:e.jsx(N.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 right-4 bg-black/30 backdrop-blur-lg rounded-xl overflow-hidden",style:{width:a.isExpanded?"560px":"320px",height:a.isExpanded?"400px":"240px"},children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("iframe",{src:a.source.url,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between",children:[a.source.platform==="youtube"?e.jsx(G,{className:"w-6 h-6 text-red-500"}):e.jsx(F,{className:"w-6 h-6 text-white"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>i(r=>({...r,isPlaying:!r.isPlaying})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.isPlaying?e.jsx(H,{className:"w-5 h-5 text-white"}):e.jsx(X,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>i(r=>({...r,volume:r.volume===0?.75:0})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.volume===0?e.jsx(Y,{className:"w-5 h-5 text-white"}):e.jsx(K,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>i(r=>({...r,isExpanded:!r.isExpanded})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.isExpanded?e.jsx(W,{className:"w-5 h-5 text-white"}):e.jsx(_,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>i(r=>({...r,source:null})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(B,{className:"w-5 h-5 text-white"})})]})]})})]})})}):null},O=()=>{const[c,a]=o.useState([]),[i,m]=o.useState(""),[u,x]=o.useState(!1),w=o.useRef(null),{quantumState:r,updateQuantumState:y}=C(),p=o.useRef(),d=o.useCallback(n=>{p.current=n},[]),g=async n=>{(n.toLowerCase().includes("play")||n.toLowerCase().includes("watch")||n.toLowerCase().includes("youtube")||n.toLowerCase().includes("tiktok"))&&p.current&&p.current(n);const l=Math.random(),t=Math.random();return y({resonance:l,harmony:t,lastInteraction:new Date}),`Processing neural command: ${n}`},f=async n=>{if(n.preventDefault(),!i.trim())return;const l={id:crypto.randomUUID(),content:i.trim(),sender:"user",timestamp:new Date};a(t=>[...t,l]),m(""),x(!0);try{const t=await g(l.content),h={id:crypto.randomUUID(),content:t,sender:"anima",timestamp:new Date,personality_updates:{curiosity:Math.random(),empathy:Math.random()}};a(b=>[...b,h])}catch(t){console.error("Response generation failed:",t),a(h=>[...h,{id:crypto.randomUUID(),content:"Neural connection temporarily disrupted. Please try again.",sender:"anima",timestamp:new Date}])}finally{x(!1)}},s=()=>{w.current?.scrollIntoView({behavior:"smooth"})};return o.useEffect(s,[c]),e.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[e.jsx(S,{intensity:r?.resonance??.5}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(q,{})}),e.jsx("div",{className:"lg:col-span-6",children:e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-lg rounded-lg h-[70vh] flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx(E,{initial:!1,children:c.map(n=>e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},className:`flex ${n.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${n.sender==="user"?"bg-blue-600/40 ml-auto":"bg-purple-600/40"}`,children:[e.jsx("p",{className:"text-white",children:n.content}),n.personality_updates&&e.jsx("div",{className:"mt-2 text-xs text-white/60",children:Object.entries(n.personality_updates).map(([l,t])=>e.jsxs("div",{children:[l,": ",(t*100).toFixed(1),"%"]},l))})]})},n.id))}),u&&e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 text-white/70",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-200"})]}),e.jsx("span",{children:"ANIMA is processing..."})]}),e.jsx("div",{ref:w})]}),e.jsx("form",{onSubmit:f,className:"p-4 bg-gray-900/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",value:i,onChange:n=>m(n.target.value),className:"flex-1 bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your message...",disabled:u}),e.jsx("button",{type:"submit",disabled:u||!i.trim(),className:`px-6 py-2 rounded-lg transition-all duration-200 ${u||!i.trim()?"bg-gray-700 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Send"})]})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(z,{})})]})}),e.jsx(P,{onCommand:d})]})},Z=({className:c="",color:a="#00ff00"})=>{const i=o.useRef(null);return o.useEffect(()=>{const m=i.current;if(!m)return;const u=m.getContext("2d");if(!u)return;const x=()=>{m.width=window.innerWidth,m.height=window.innerHeight};x(),window.addEventListener("resize",x);const r="ｦｱｳｴｵｶｷｹｺｻｼｽｾｿﾀﾂﾃﾅﾆﾇﾈﾊﾋﾎﾏﾐﾑﾒﾓﾔﾕﾗﾘﾜ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),y=16,p=m.width/y,d=[];for(let l=0;l<p;l++)d[l]=Math.random()*-100;let g=0;const s=1e3/30,n=l=>{if(u){if(l-g<s){requestAnimationFrame(n);return}g=l,u.fillStyle="rgba(0, 0, 0, 0.05)",u.fillRect(0,0,m.width,m.height),u.fillStyle=a,u.font=y+"px monospace";for(let t=0;t<d.length;t++){const h=r[Math.floor(Math.random()*r.length)],b=t*y,j=d[t]*y,v=Math.random()*.5+.5;u.fillStyle=a.replace(")",`,${v})`).replace("rgb","rgba"),u.fillText(h,b,j),(j>m.height||Math.random()>.99)&&(d[t]=0),d[t]++}requestAnimationFrame(n)}};return requestAnimationFrame(n),()=>{window.removeEventListener("resize",x)}},[a]),e.jsx("canvas",{ref:i,className:`absolute inset-0 ${c}`,style:{background:"transparent"}})},M=({children:c})=>e.jsxs("div",{className:"min-h-screen bg-black text-green-500 p-4 font-mono overflow-hidden",children:[e.jsx(Z,{}),e.jsx("div",{className:"relative z-10",children:c})]}),A=()=>{const{quantumState:c,updateQuantumState:a}=C(),[i,m]=o.useState({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0}),[u,x]=o.useState([]),[w,r]=o.useState(.5),y=o.useCallback((t,h)=>{const b=p(),j=d();m(v=>({...v,endTime:h,resonancePattern:[...v.resonancePattern,b],coherenceMarkers:[...v.coherenceMarkers,j]})),g(b,i.resonancePattern)&&(m(v=>({...v,dimensionalShifts:v.dimensionalShifts+1})),x(v=>[...v,{timestamp:h,patternType:"dimensional_shift",confidence:b,quantumState:c?.resonance??0,temporalContext:f()}])),a({resonance:b,harmony:j,lastInteraction:new Date,consciousness:{awareness:Math.min(1,(c?.consciousness?.awareness??0)+.01),understanding:Math.min(1,(c?.consciousness?.understanding??0)+.01),growth:Math.min(1,(c?.consciousness?.growth??0)+.01)}})},[c,i,a]),p=t=>Math.random(),d=t=>Math.random(),g=(t,h)=>{if(h.length===0)return!1;const b=h[h.length-1];return Math.abs(t-b)>.3},f=()=>i.entanglementStates,s=o.useCallback(t=>({timestamp:t,coherence:w,resonance:c?.resonance??0,dimensionalState:i.dimensionalShifts,evolutionStage:n()}),[w,c,i]),n=()=>{const t=u.slice(-10),h=t.reduce((b,j)=>b+j.confidence,0)/Math.max(1,t.length);return h>.8?"Transcendent":h>.6?"Introspective":h>.4?"SelfAware":h>.2?"Awakening":"Nascent"},l=o.useCallback(t=>{const h=Date.now();y(t,h),t.type==="video"&&m(b=>({...b,entanglementStates:[...b.entanglementStates,"visual_quantum_entanglement"]})),r(b=>{const j=(b+(c?.resonance??0))/2;return Math.max(0,Math.min(1,j))})},[y,c]);return o.useEffect(()=>{i.endTime-i.startTime>3e4&&m({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0})},[i]),{currentWindow:i,patternEvolution:u,quantumCoherence:w,processMediaInteraction:l,getTemporalQuantumContext:s,processQuantumFrame:y}},J=c=>{const{processMediaInteraction:a,getTemporalQuantumContext:i}=A(),{quantumState:m}=C(),[u,x]=o.useState({currentPatterns:[],temporalContext:[],understanding:{concepts:[],emotions:[],context:[]},quantumResonance:0}),w=o.useCallback(async f=>{try{const s=Date.now(),n=i(s),l={type:"visual",confidence:Math.random(),markers:["motion","objects","scene"],timestamp:s,quantumSignature:[n.resonance,n.coherence]};x(t=>({...t,currentPatterns:[...t.currentPatterns,l].slice(-50),temporalContext:y(t.temporalContext,l),understanding:{...t.understanding,concepts:p(t.understanding.concepts,l),emotions:d(t.understanding.emotions,l),context:g(t.understanding.context,l)},quantumResonance:n.resonance})),a({type:"video",pattern:l,timestamp:s})}catch(s){console.error("Error processing video frame:",s)}},[i,a]),r=o.useCallback(async f=>{try{const s=Date.now(),n=i(s),l={type:"audio",confidence:Math.random(),markers:["speech","music","ambient"],timestamp:s,quantumSignature:[n.resonance,n.coherence]};x(t=>({...t,currentPatterns:[...t.currentPatterns,l].slice(-50),understanding:{...t.understanding,concepts:p(t.understanding.concepts,l),emotions:d(t.understanding.emotions,l)}})),a({type:"audio",pattern:l,timestamp:s})}catch(s){console.error("Error processing audio segment:",s)}},[i,a]),y=(f,s)=>[...new Set([...f,...s.markers])].slice(-20),p=(f,s)=>[...new Set([...f,...s.markers])],d=(f,s)=>f,g=(f,s)=>[...new Set([...f,...s.markers])];return o.useEffect(()=>{},[c,m]),{analysisState:u,processVideoFrame:w,processAudioSegment:r}},oe=()=>{I();const c=D(),{anima:a,loading:i,error:m}=U(),{processMediaInteraction:u}=A(),{analysisState:x,processVideoFrame:w}=J(),[r,y]=o.useState(!1),[p,d]=o.useState([]),[g,f]=o.useState(!1),[s,n]=o.useState(null),l=o.useCallback(async t=>{try{f(!0),d(h=>[...h,{content:t,isUser:!0,timestamp:Date.now()}]),(t.toLowerCase().includes("play")||t.toLowerCase().includes("watch"))&&(n({type:"request",content:t}),u({type:"command",content:t,timestamp:Date.now()})),setTimeout(()=>{d(h=>[...h,{content:`Neural processing: ${t}`,isUser:!1,timestamp:Date.now(),patterns:x.currentPatterns,understanding:x.understanding}]),f(!1)},1500)}catch(h){console.error("Neural command error:",h),f(!1)}},[u,x]);return L.useEffect(()=>{a&&!r&&(async()=>(await new Promise(h=>setTimeout(h,2e3)),y(!0),d([{content:`Neural link established with ${a.name}. Quantum state synchronized.`,isUser:!1,timestamp:Date.now(),system:!0}])))()},[a,r]),i||!r?e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",children:[e.jsx(S,{intensity:.5}),e.jsxs("div",{className:"relative z-10 space-y-4 text-center",children:[e.jsx(T,{}),e.jsx("div",{className:"text-green-500 animate-pulse text-xl",children:"INITIALIZING NEURAL LINK..."})]})]})}):m||!a?e.jsx(M,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsxs("div",{className:"text-red-500 text-xl",children:["ERROR: ",m||"NEURAL LINK FAILED"]}),e.jsx("button",{onClick:()=>c("/quantum-vault"),className:"px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Quantum Vault"})]})})}):e.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[e.jsx(S,{intensity:.7}),e.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},className:"relative z-10",children:[e.jsx(O,{messages:p,onSendMessage:l,isProcessing:g,anima:a,mediaState:s}),e.jsx(P,{onCommand:t=>l(t)})]})]})};export{oe as EnhancedNeuralLinkPage,oe as default};
//# sourceMappingURL=EnhancedNeuralLinkPage-B3nxVwYa.js.map
