{"version":3,"file":"GenesisPage-B3KzYiwh.js","sources":["../../src/components/ui/button.tsx","../../src/components/ui/input.tsx","../../src/components/ui/alert.jsx","../../src/components/pages/GenesisPage.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'default' | 'destructive' | 'outline' | 'ghost' | 'link';\n  size?: 'default' | 'sm' | 'lg' | 'icon';\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'default', size = 'default', ...props }, ref) => {\n    return (\n      <button\n        className={cn(\n          \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-400 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background\",\n          {\n            'bg-primary text-primary-foreground hover:bg-primary/90': variant === 'default',\n            'bg-destructive text-destructive-foreground hover:bg-destructive/90': variant === 'destructive',\n            'border border-input hover:bg-accent hover:text-accent-foreground': variant === 'outline',\n            'hover:bg-accent hover:text-accent-foreground': variant === 'ghost',\n            'underline-offset-4 hover:underline text-primary': variant === 'link',\n            'h-10 py-2 px-4': size === 'default',\n            'h-9 px-3': size === 'sm',\n            'h-11 px-8': size === 'lg',\n            'h-10 w-10': size === 'icon',\n          },\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button };","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n\nexport { Input };","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Alert = React.forwardRef(({ className, variant = \"default\", ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(\n      \"relative w-full rounded-lg border p-4\",\n      {\n        \"bg-background text-foreground\": variant === \"default\",\n        \"bg-destructive/15 text-destructive border-destructive/50\": variant === \"destructive\",\n      },\n      className\n    )}\n    {...props}\n  />\n));\nAlert.displayName = \"Alert\";\n\nconst AlertTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nAlertTitle.displayName = \"AlertTitle\";\n\nconst AlertDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n));\nAlertDescription.displayName = \"AlertDescription\";\n\nexport { Alert, AlertTitle, AlertDescription };","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '@/contexts/auth-context';\nimport { useAnima } from '@/contexts/anima-context';\nimport { Principal } from '@dfinity/principal';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card } from '@/components/ui/card';\nimport { Alert } from '@/components/ui/alert';\n\n// Genesis fee in ICP (e.g. 1 ICP = 100000000 e8s)\nconst GENESIS_FEE = BigInt(100000000); // 1 ICP\n\nexport function GenesisPage() {\n  const navigate = useNavigate();\n  const { principal } = useAuth();\n  const { createActor } = useAnima();\n  const [name, setName] = useState('');\n  const [isCreating, setIsCreating] = useState(false);\n  const [error, setError] = useState(null);\n\n  const initiateGenesis = async () => {\n    if (!name.trim()) {\n      setError('Please enter a name for your Anima');\n      return;\n    }\n\n    setIsCreating(true);\n    setError(null);\n\n    try {\n      const actor = createActor();\n      \n      // First approve ICP transfer\n      const ledgerActor = await actor.getLedgerActor();\n      await ledgerActor.approve({\n        amount: GENESIS_FEE,\n        spender: Principal.fromText(process.env.ANIMA_CANISTER_ID)\n      });\n\n      // Then create the Anima\n      const result = await actor.create_anima(name);\n      \n      // Navigate to the new Anima\n      navigate(`/anima/${result.toString()}`);\n    } catch (err) {\n      console.error('Genesis failed:', err);\n      setError(err.message || 'Failed to create Anima');\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-black p-8\">\n      <Card className=\"max-w-md mx-auto bg-black/50 backdrop-blur border-amber-500/20\">\n        <div className=\"p-6 space-y-6\">\n          <h1 className=\"text-3xl font-serif text-amber-400 text-center\">\n            Anima Genesis\n          </h1>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-amber-300 mb-1\">\n                Name Your Anima\n              </label>\n              <Input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                className=\"bg-black/30 border-amber-500/30 text-amber-100\"\n                placeholder=\"Enter a mystical name...\"\n              />\n            </div>\n\n            <div className=\"p-4 rounded bg-amber-900/20 border border-amber-500/20\">\n              <h3 className=\"font-medium text-amber-400 mb-2\">Genesis Fee</h3>\n              <p className=\"text-amber-200\">1 ICP</p>\n              <p className=\"text-sm text-amber-300/60 mt-1\">\n                This fee is used to sustain the eternal flame of your Anima\n              </p>\n            </div>\n\n            {error && (\n              <Alert variant=\"destructive\">\n                {error}\n              </Alert>\n            )}\n\n            <Button\n              onClick={initiateGenesis}\n              disabled={isCreating}\n              className=\"w-full bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700\"\n            >\n              {isCreating ? (\n                <span className=\"flex items-center\">\n                  <span className=\"animate-spin mr-2\">âš¡</span>\n                  Initiating Genesis...\n                </span>\n              ) : (\n                'Begin Genesis Ritual'\n              )}\n            </Button>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}"],"names":["Button","React","forwardRef","className","variant","size","props","ref","_jsx","cn","displayName","Input","type","Alert","role","AlertTitle","AlertDescription","GENESIS_FEE","BigInt","GenesisPage","navigate","useNavigate","useAuth","createActor","useAnima","name","setName","useState","isCreating","setIsCreating","error","setError","initiateGenesis","trim","actor","getLedgerActor","approve","amount","spender","Principal","fromText","process","ANIMA_CANISTER_ID","result","create_anima","toString","err","message","children","Card","_jsxs","value","onChange","e","target","placeholder","onClick","disabled"],"mappings":"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"}