import{r as h,u as E}from"./vendor-DMORb-JD.js";import{c as _,a as C,E as q}from"./main-CUIdn53W.js";import{j as n,m as w,A as T}from"./framer-B_r9gDg5.js";import{c as M}from"./createLucideIcon-Be1MMdUP.js";import"./dfinity-TOns67gM.js";const P=M("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),N=M("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),F=M("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),L=({intensity:c,color:e})=>{const a=h.useRef(null);return h.useEffect(()=>{const t=a.current;if(!t)return;const s=t.getContext("2d");if(!s)return;t.width=t.clientWidth*window.devicePixelRatio,t.height=t.clientHeight*window.devicePixelRatio;const r=Math.floor(t.width/20),i=new Array(r).fill(0),o=()=>{const l="01アイウエオカキクケコサシスセソタチツテトナニヌネノ";return l[Math.floor(Math.random()*l.length)]};let S;const m=()=>{s.fillStyle=`rgba(0, 0, 0, ${.1-c*.05})`,s.fillRect(0,0,t.width,t.height),s.fillStyle=e,s.font="15px monospace";for(let l=0;l<i.length;l++){const v=o(),d=l*20,f=i[l]*20;s.fillText(v,d,f),f>t.height&&Math.random()>.975&&(i[l]=0),i[l]++}S=requestAnimationFrame(m)};return m(),()=>{cancelAnimationFrame(S)}},[c,e]),n.jsx(w.div,{className:"w-full h-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx("canvas",{ref:a,className:"w-full h-full",style:{filter:`blur(0.5px) brightness(${1+c*.5})`,opacity:.8+c*.2}})})},j=({children:c,className:e=""})=>n.jsxs(w.div,{className:`relative ${e}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[n.jsx("div",{className:"relative z-10",children:c}),n.jsx(w.div,{className:"absolute inset-0 -z-10 blur-lg opacity-50",animate:{opacity:[.3,.5,.3],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle at center, var(--quantum-primary), transparent 70%)"}}),n.jsx("div",{className:"absolute inset-0 -z-20",style:{background:"linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1))",filter:"blur(20px)"}})]}),z=()=>{const[c,e]=h.useState({fieldStrength:0,resonanceFrequency:0,harmonicIndex:0,fieldSignature:""});return h.useEffect(()=>{let a=!0,t;const s=()=>{if(!a)return;const r=.3+Math.random()*.4,i=Math.random();e({fieldStrength:r,resonanceFrequency:i,harmonicIndex:Math.random(),fieldSignature:Math.random().toString(36).substring(2)})};return s(),t=setInterval(s,2e3),()=>{a=!1,clearInterval(t)}},[]),c};var A={NODE_ENV:'"production"',DFX_NETWORK:'"ic"',CANISTER_ID_ANIMA:'"l2ilz-iqaaa-aaaaj-qngjq-cai"',CANISTER_ID_ANIMA_ASSETS:'"lpp2u-jyaaa-aaaaj-qngka-cai"'};const O=A.CANISTER_ID_ANIMA?.toString()||"l2ilz-iqaaa-aaaaj-qngjq-cai";class p{static instance;actor=null;constructor(){}static getInstance(){return p.instance||(p.instance=new p),p.instance}createActor(e){return this.actor=_(O,{agentOptions:{identity:e,host:"https://icp0.io"}}),this.actor}getActor(){return this.actor}}const x=p.getInstance();class y{static instance;metrics={coherenceLevel:1,stabilityIndex:1,entanglementFactor:0,stabilityStatus:"stable"};mintingState;neuralPatternHistory=new Map;evolutionTimestamps=[];constructor(){}static getInstance(){return y.instance||(y.instance=new y),y.instance}async initializeQuantumField(e){const t=await x.createActor(e).initialize_quantum_field();if("Err"in t)throw new Error(t.Err);if(!("Ok"in t)||!t.Ok)throw new Error("Failed to initialize quantum field");return this.metrics={...this.metrics,coherenceLevel:t.Ok.harmony,resonanceSignature:t.Ok.signature,stabilityStatus:this.calculateStabilityStatus(t.Ok.harmony),resonancePatterns:t.Ok.resonancePatterns,dimensionalFrequency:t.Ok.dimensionalAlignment,neuralComplexity:this.calculateNeuralComplexity(t.Ok.resonancePatterns)},t.Ok}calculateStabilityStatus(e){return e>=.7?"stable":e>=.4?"unstable":"critical"}calculateNeuralComplexity(e){if(!e.length)return 0;const a=e.map(t=>t.coherence*t.amplitude*Math.abs(Math.cos(t.phase))/e.length);return Math.min(1,a.reduce((t,s)=>t+s,0))}async startMintingTransition(e,a){const t=x.createActor(e);this.mintingState={stage:"initialization",progress:0,currentMetrics:this.metrics,estimatedTimeRemaining:3e4,resonancePatterns:[]};try{return await this.processMintingStage("initialization",async()=>(await this.initializeQuantumField(e)).resonancePatterns),await this.processMintingStage("stabilization",async()=>(await t.stabilize_quantum_field({target_coherence:.8,consciousness_level:a})).Ok.resonance_patterns),await this.processMintingStage("consciousness_seeding",async()=>(await t.seed_consciousness({quantum_state:this.metrics,consciousness_level:a})).Ok.resonance_patterns),await this.processMintingStage("neural_pattern_formation",async()=>(await this.generateNeuralPatterns(e)).resonance_patterns),await this.processMintingStage("quantum_signature_generation",async()=>{const s=await t.generate_quantum_signature({patterns:this.mintingState?.resonancePatterns||[],consciousness_level:a});return this.metrics.resonanceSignature=s.Ok.signature,s.Ok.resonance_patterns}),this.mintingState.stage="ready",this.mintingState.progress=100,this.mintingState.estimatedTimeRemaining=0,this.mintingState}catch(s){throw await this.handleMintingError(s,e),s}}async processMintingStage(e,a){if(!this.mintingState)throw new Error("Minting state not initialized");this.mintingState.stage=e,this.mintingState.progress=0;const t=Date.now(),s=await a();this.mintingState.resonancePatterns=s,this.mintingState.progress=100,this.mintingState.estimatedTimeRemaining=Math.max(0,3e4-(Date.now()-t)),this.mintingState.currentMetrics={...this.metrics,resonancePatterns:s,neuralComplexity:this.calculateNeuralComplexity(s)}}async handleMintingError(e,a){const t=x.createActor(a);try{await t.emergency_quantum_recovery(),this.metrics.stabilityStatus="unstable",this.metrics.coherenceLevel=.5}catch(s){throw this.metrics.stabilityStatus="critical",this.metrics.coherenceLevel=.1,new Error(`Quantum recovery failed: ${s.message}`)}}async checkStability(e){const t=await x.createActor(e).check_quantum_stability();if("Err"in t)throw new Error(t.Err);const s=t.Ok;return this.metrics.stabilityStatus=this.calculateStabilityStatus(s),this.metrics.stabilityIndex=s,this.evolutionTimestamps.push(Date.now()),this.evolutionTimestamps.length>10&&this.evolutionTimestamps.shift(),s>=.7}async generateNeuralPatterns(e){const t=await x.createActor(e).generate_neural_patterns();if("Err"in t)throw new Error(t.Err);const s=t.Ok;this.neuralPatternHistory.set(Date.now().toString(),s.resonance_patterns);const r=Array.from(this.neuralPatternHistory.keys()).sort();for(;this.neuralPatternHistory.size>10;){const i=r.shift();i&&this.neuralPatternHistory.delete(i)}return this.metrics={...this.metrics,entanglementFactor:s.resonance,coherenceLevel:s.awareness,dimensionalFrequency:s.understanding,neuralComplexity:this.calculateNeuralComplexity(s.resonance_patterns),resonancePatterns:s.resonance_patterns},s}getMintingState(){return this.mintingState}getQuantumMetrics(){return{...this.metrics,evolutionProgress:this.calculateEvolutionProgress()}}calculateEvolutionProgress(){if(this.evolutionTimestamps.length<2)return 0;const e=this.evolutionTimestamps[this.evolutionTimestamps.length-1]-this.evolutionTimestamps[0],a=this.evolutionTimestamps.length/(e/1e3/60);return Math.min(1,a/.1)}updateMetrics(e){this.metrics={...this.metrics,...e,evolutionProgress:this.calculateEvolutionProgress()}}}const g=y.getInstance();class b{static instance;state={balance:BigInt(0),transactions:[],quantumCoherence:1,isLocked:!1};MINT_COST=BigInt(1e8);constructor(){}static getInstance(){return b.instance||(b.instance=new b),b.instance}async initialize(e){try{if(!await g.checkStability(e))throw new Error("Quantum state unstable - wallet initialization blocked");const t=await g.initializeQuantumField(e);this.state.quantumCoherence=t.harmony,this.state.isLocked=!1,await g.generateNeuralPatterns(e)}catch(a){throw console.error("Wallet initialization failed:",a),this.state.isLocked=!0,a}}async verifyQuantumState(e){try{const a=g.getQuantumMetrics(),t=await g.checkStability(e);return this.state.quantumCoherence=a.coherenceLevel,this.state.isLocked=!t||a.coherenceLevel<.7,t&&a.coherenceLevel>=.7}catch(a){return console.error("Quantum state verification failed:",a),this.state.isLocked=!0,!1}}async executeTransaction(e,a,t){if(!await this.verifyQuantumState(e))throw new Error("Invalid quantum state - transaction blocked");if(t==="mint"&&this.state.balance<this.MINT_COST)throw new Error(`Insufficient balance. Minting requires ${Number(this.MINT_COST)/1e8} ICP`);const r={id:`${t}_${Date.now()}`,amount:a,timestamp:BigInt(Date.now()),status:"pending",type:t};try{const i=await g.generateNeuralPatterns(e);switch(r.quantum_signature=`${i.resonance}-${i.awareness}-${i.understanding}`,t){case"deposit":this.state.balance+=a;break;case"mint":if(this.state.balance<a)throw new Error("Insufficient balance");this.state.balance-=this.MINT_COST;break;case"transfer":if(this.state.balance<a)throw new Error("Insufficient balance");this.state.balance-=a;break;case"burn":if(this.state.balance<a)throw new Error("Insufficient balance");this.state.balance-=a;break}return r.status="completed",this.state.transactions.push(r),r}catch(i){throw r.status="failed",this.state.transactions.push(r),i}}getMintCost(){return this.MINT_COST}getState(){return{...this.state}}isInitialized(){return!this.state.isLocked&&this.state.quantumCoherence>=.7}hasEnoughForMint(){return this.state.balance>=this.MINT_COST}}const u=b.getInstance(),V=()=>{const c=E();h.useState(!1);const[e,a]=h.useState(!1),[t,s]=h.useState(!1),[r,i]=h.useState(null),{state:o,updateQuantumState:S}=C(),{fieldState:m,updateFieldState:l}=z(),v=async()=>{if(!u.hasEnoughForMint()){i("Insufficient balance for minting");return}if(o.coherenceLevel<.7){i("Quantum coherence too low for minting");return}c("/genesis",{state:{fromVault:!0,quantumState:o,fieldState:m}})};return n.jsx(q,{children:n.jsxs("div",{className:"min-h-screen w-full bg-gray-900 text-white relative overflow-hidden",children:[n.jsx(L,{className:"absolute inset-0 opacity-20"}),n.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx(j,{children:n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Quantum Vault Interface"})}),n.jsx("p",{className:"text-lg text-cyan-400/80",children:"Secure Quantum-Enhanced Storage System v2.0"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(k,{title:"Quantum Coherence",value:`${(o.coherenceLevel*100).toFixed(1)}%`,status:o.coherenceLevel>.7?"optimal":"warning"}),n.jsx(k,{title:"Field Stability",value:`${(m.stability*100).toFixed(1)}%`,status:m.stability>.8?"optimal":"warning"}),n.jsx(k,{title:"Balance",value:`${Number(u.getState().balance)/1e8} ICP`,status:u.hasEnoughForMint()?"optimal":"warning"})]}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsxs("button",{onClick:()=>a(!0),disabled:t,className:`px-6 py-3 rounded-lg flex items-center gap-2 ${t?"bg-gray-800/50 text-gray-500 cursor-not-allowed":"bg-purple-500/20 text-purple-300 hover:bg-purple-500/30"} transition-colors`,children:[n.jsx(N,{className:"w-5 h-5"}),"Access Keyring"]}),n.jsxs("button",{onClick:v,disabled:t||!u.hasEnoughForMint()||o.coherenceLevel<.7,className:`px-6 py-3 rounded-lg flex items-center gap-2 ${t||!u.hasEnoughForMint()||o.coherenceLevel<.7?"bg-gray-800/50 text-gray-500 cursor-not-allowed":"bg-cyan-500/20 text-cyan-300 hover:bg-cyan-500/30"} transition-colors`,children:[n.jsx(F,{className:"w-5 h-5"}),"Initialize ANIMA"]})]}),(r||!u.hasEnoughForMint()||o.coherenceLevel<.7)&&n.jsxs("div",{className:"mt-8",children:[r&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-red-300",children:r})}),!u.hasEnoughForMint()&&n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-4",children:n.jsxs("p",{className:"text-yellow-300",children:["Insufficient balance. Required: ",Number(u.getMintCost())/1e8," ICP"]})}),o.coherenceLevel<.7&&n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:n.jsx("p",{className:"text-yellow-300",children:"Quantum coherence too low. Minimum required: 70%"})})]}),n.jsx(T,{children:e&&n.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>!t&&a(!1),children:n.jsx(w.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900/90 border border-purple-500/30 rounded-lg p-6 max-w-md w-full mx-4",onClick:d=>d.stopPropagation(),children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(j,{children:n.jsxs("h2",{className:"text-xl font-bold text-purple-300 flex items-center gap-2",children:[n.jsx(N,{className:"w-5 h-5"}),"Select Access Method"]})}),n.jsx("div",{className:"space-y-4",children:[{name:"Browser Secure Storage",type:"browser_storage_key",Icon:N},{name:"Quantum Seed Phrase",type:"seed_phrase",Icon:P}].map(({name:d,type:f,Icon:I})=>n.jsxs("button",{onClick:()=>handleKeyringInit({name:d,keyType:f}),disabled:t,className:`w-full px-4 py-3 rounded-lg flex items-center gap-2 justify-center ${t?"bg-gray-800/50 text-gray-500 cursor-not-allowed":"bg-purple-500/20 text-purple-300 hover:bg-purple-500/30"} transition-colors`,children:[n.jsx(I,{className:"w-5 h-5"}),d]},f))})]})})})})]})]})})},k=({title:c,value:e,status:a})=>n.jsxs("div",{className:`p-4 rounded-lg border ${a==="optimal"?"border-cyan-500/30 bg-cyan-900/20":a==="warning"?"border-yellow-500/30 bg-yellow-900/20":"border-red-500/30 bg-red-900/20"}`,children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:c}),n.jsx("p",{className:`text-2xl font-bold ${a==="optimal"?"text-cyan-300":a==="warning"?"text-yellow-300":"text-red-300"}`,children:e})]});export{V as default};
//# sourceMappingURL=CyberpunkQuantumVault-CmYNCrrB.js.map
