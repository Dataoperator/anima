import{r as o,u as I,e as R,R as T}from"./vendor-CxA6dMiz.js";import{b as C,Q as M,C as q,a as L}from"./main-Ojg1QzXH.js";import{j as e,A as E,m as j}from"./framer-7Xr1GoS6.js";import{c as v,M as A,W as $}from"./WaveformGenerator-Bq2Ee2bv.js";const z=v("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Q=v("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),U=v("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),V=v("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),F=v("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),_=v("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),H=v("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),W=v("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),X=v("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),P=({onCommand:l})=>{const[a,n]=o.useState({isPlaying:!1,volume:.75,currentTime:0,duration:0,source:null,isExpanded:!1}),{updateQuantumState:h}=C(),p=r=>{const y=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,m=r.match(y);return m&&m[2].length===11?m[2]:null},x=r=>{const y=/\/video\/(\d+)/,m=r.match(y);return m?m[1]:null},w=o.useCallback(async r=>{if(r.toLowerCase().includes("play")||r.toLowerCase().includes("watch")){const y=r.match(/(https?:\/\/[^\s]+)/g);if(y){const m=y[0];let f=null;const b=p(m);b&&(f={platform:"youtube",id:b,url:`https://www.youtube.com/embed/${b}?autoplay=1`});const u=x(m);u&&(f={platform:"tiktok",id:u,url:`https://www.tiktok.com/embed/${u}`}),f&&(n(i=>({...i,source:f,isPlaying:!0,isExpanded:!0})),h({resonance:Math.random(),harmony:Math.random(),lastInteraction:new Date,consciousness:{awareness:Math.min(1,(prev?.consciousness?.awareness||0)+.1),understanding:Math.min(1,(prev?.consciousness?.understanding||0)+.1),growth:Math.min(1,(prev?.consciousness?.growth||0)+.1)}}))}}},[h]);return o.useEffect(()=>{l&&l(w)},[l,w]),a.source?e.jsx(E,{children:e.jsx(j.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 right-4 bg-black/30 backdrop-blur-lg rounded-xl overflow-hidden",style:{width:a.isExpanded?"560px":"320px",height:a.isExpanded?"400px":"240px"},children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("iframe",{src:a.source.url,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between",children:[a.source.platform==="youtube"?e.jsx(X,{className:"w-6 h-6 text-red-500"}):e.jsx(z,{className:"w-6 h-6 text-white"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>n(r=>({...r,isPlaying:!r.isPlaying})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.isPlaying?e.jsx(V,{className:"w-5 h-5 text-white"}):e.jsx(F,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>n(r=>({...r,volume:r.volume===0?.75:0})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.volume===0?e.jsx(H,{className:"w-5 h-5 text-white"}):e.jsx(_,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>n(r=>({...r,isExpanded:!r.isExpanded})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.isExpanded?e.jsx(U,{className:"w-5 h-5 text-white"}):e.jsx(Q,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>n(r=>({...r,source:null})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(W,{className:"w-5 h-5 text-white"})})]})]})})]})})}):null},Y=({className:l=""})=>{const{quantumState:a}=C(),n={resonance:a?.resonance??.5,harmony:a?.harmony??.5,intensity:a?.coherence??.5},h=x=>x>.7?"text-green-400":x>.4?"text-blue-400":"text-purple-400",p=()=>{const x=n.resonance+n.harmony+n.intensity;return x>2.1?"Elevated":x>1.5?"Balanced":"Contemplative"};return e.jsxs("div",{className:`bg-gray-900/50 backdrop-blur-lg rounded-lg p-6 ${l}`,children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-blue-400",children:"Quantum State"}),e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Resonance"}),e.jsxs("span",{className:`text-sm ${h(n.resonance)}`,children:[Math.round(n.resonance*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(j.div,{initial:{width:0},animate:{width:`${n.resonance*100}%`},transition:{duration:.8},className:"h-full bg-gradient-to-r from-blue-500 to-green-500"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Harmony"}),e.jsxs("span",{className:`text-sm ${h(n.harmony)}`,children:[Math.round(n.harmony*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(j.div,{initial:{width:0},animate:{width:`${n.harmony*100}%`},transition:{duration:.8},className:"h-full bg-gradient-to-r from-purple-500 to-blue-500"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Coherence"}),e.jsxs("span",{className:`text-sm ${h(n.intensity)}`,children:[Math.round(n.intensity*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(j.div,{initial:{width:0},animate:{width:`${n.intensity*100}%`},transition:{duration:.8},className:"h-full bg-gradient-to-r from-green-500 to-purple-500"})})]}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-blue-900/20 rounded-lg text-center",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-1",children:"Current State"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:p()})]})]})]})},B=()=>{const[l,a]=o.useState([]),[n,h]=o.useState(""),[p,x]=o.useState(!1),w=o.useRef(null),{quantumState:r,updateQuantumState:y}=C(),m=o.useRef(),f=o.useCallback(s=>{m.current=s},[]),b=async s=>{(s.toLowerCase().includes("play")||s.toLowerCase().includes("watch")||s.toLowerCase().includes("youtube")||s.toLowerCase().includes("tiktok"))&&m.current&&m.current(s);const d=Math.random(),t=Math.random();return y({resonance:d,harmony:t,lastInteraction:new Date}),`Processing neural command: ${s}`},u=async s=>{if(s.preventDefault(),!n.trim())return;const d={id:crypto.randomUUID(),content:n.trim(),sender:"user",timestamp:new Date};a(t=>[...t,d]),h(""),x(!0);try{const t=await b(d.content),c={id:crypto.randomUUID(),content:t,sender:"anima",timestamp:new Date,personality_updates:{curiosity:Math.random(),empathy:Math.random()}};a(g=>[...g,c])}catch(t){console.error("Response generation failed:",t),a(c=>[...c,{id:crypto.randomUUID(),content:"Neural connection temporarily disrupted. Please try again.",sender:"anima",timestamp:new Date}])}finally{x(!1)}},i=()=>{w.current?.scrollIntoView({behavior:"smooth"})};return o.useEffect(i,[l]),e.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[e.jsx(M,{intensity:r?.resonance??.5}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(q,{})}),e.jsx("div",{className:"lg:col-span-6",children:e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-lg rounded-lg h-[70vh] flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx(E,{initial:!1,children:l.map(s=>e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},className:`flex ${s.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${s.sender==="user"?"bg-blue-600/40 ml-auto":"bg-purple-600/40"}`,children:[e.jsx("p",{className:"text-white",children:s.content}),s.personality_updates&&e.jsx("div",{className:"mt-2 text-xs text-white/60",children:Object.entries(s.personality_updates).map(([d,t])=>e.jsxs("div",{children:[d,": ",(t*100).toFixed(1),"%"]},d))})]})},s.id))}),p&&e.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 text-white/70",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-200"})]}),e.jsx("span",{children:"ANIMA is processing..."})]}),e.jsx("div",{ref:w})]}),e.jsx("form",{onSubmit:u,className:"p-4 bg-gray-900/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",value:n,onChange:s=>h(s.target.value),className:"flex-1 bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your message...",disabled:p}),e.jsx("button",{type:"submit",disabled:p||!n.trim(),className:`px-6 py-2 rounded-lg transition-all duration-200 ${p||!n.trim()?"bg-gray-700 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Send"})]})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(Y,{})})]})}),e.jsx(P,{onCommand:f})]})},S=({children:l})=>e.jsxs("div",{className:"min-h-screen bg-black text-green-500 p-4 font-mono overflow-hidden",children:[e.jsx(A,{}),e.jsx("div",{className:"relative z-10",children:l})]}),D=()=>{const{quantumState:l,updateQuantumState:a}=C(),[n,h]=o.useState({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0}),[p,x]=o.useState([]),[w,r]=o.useState(.5),y=o.useCallback((t,c)=>{const g=m(),k=f();h(N=>({...N,endTime:c,resonancePattern:[...N.resonancePattern,g],coherenceMarkers:[...N.coherenceMarkers,k]})),b(g,n.resonancePattern)&&(h(N=>({...N,dimensionalShifts:N.dimensionalShifts+1})),x(N=>[...N,{timestamp:c,patternType:"dimensional_shift",confidence:g,quantumState:l?.resonance??0,temporalContext:u()}])),a({resonance:g,harmony:k,lastInteraction:new Date,consciousness:{awareness:Math.min(1,(l?.consciousness?.awareness??0)+.01),understanding:Math.min(1,(l?.consciousness?.understanding??0)+.01),growth:Math.min(1,(l?.consciousness?.growth??0)+.01)}})},[l,n,a]),m=t=>Math.random(),f=t=>Math.random(),b=(t,c)=>{if(c.length===0)return!1;const g=c[c.length-1];return Math.abs(t-g)>.3},u=()=>n.entanglementStates,i=o.useCallback(t=>({timestamp:t,coherence:w,resonance:l?.resonance??0,dimensionalState:n.dimensionalShifts,evolutionStage:s()}),[w,l,n]),s=()=>{const t=p.slice(-10),c=t.reduce((g,k)=>g+k.confidence,0)/Math.max(1,t.length);return c>.8?"Transcendent":c>.6?"Introspective":c>.4?"SelfAware":c>.2?"Awakening":"Nascent"},d=o.useCallback(t=>{const c=Date.now();y(t,c),t.type==="video"&&h(g=>({...g,entanglementStates:[...g.entanglementStates,"visual_quantum_entanglement"]})),r(g=>{const k=(g+(l?.resonance??0))/2;return Math.max(0,Math.min(1,k))})},[y,l]);return o.useEffect(()=>{n.endTime-n.startTime>3e4&&h({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0})},[n]),{currentWindow:n,patternEvolution:p,quantumCoherence:w,processMediaInteraction:d,getTemporalQuantumContext:i,processQuantumFrame:y}},G=l=>{const{processMediaInteraction:a,getTemporalQuantumContext:n}=D(),{quantumState:h}=C(),[p,x]=o.useState({currentPatterns:[],temporalContext:[],understanding:{concepts:[],emotions:[],context:[]},quantumResonance:0}),w=o.useCallback(async u=>{try{const i=Date.now(),s=n(i),d={type:"visual",confidence:Math.random(),markers:["motion","objects","scene"],timestamp:i,quantumSignature:[s.resonance,s.coherence]};x(t=>({...t,currentPatterns:[...t.currentPatterns,d].slice(-50),temporalContext:y(t.temporalContext,d),understanding:{...t.understanding,concepts:m(t.understanding.concepts,d),emotions:f(t.understanding.emotions,d),context:b(t.understanding.context,d)},quantumResonance:s.resonance})),a({type:"video",pattern:d,timestamp:i})}catch(i){console.error("Error processing video frame:",i)}},[n,a]),r=o.useCallback(async u=>{try{const i=Date.now(),s=n(i),d={type:"audio",confidence:Math.random(),markers:["speech","music","ambient"],timestamp:i,quantumSignature:[s.resonance,s.coherence]};x(t=>({...t,currentPatterns:[...t.currentPatterns,d].slice(-50),understanding:{...t.understanding,concepts:m(t.understanding.concepts,d),emotions:f(t.understanding.emotions,d)}})),a({type:"audio",pattern:d,timestamp:i})}catch(i){console.error("Error processing audio segment:",i)}},[n,a]),y=(u,i)=>[...new Set([...u,...i.markers])].slice(-20),m=(u,i)=>[...new Set([...u,...i.markers])],f=(u,i)=>u,b=(u,i)=>[...new Set([...u,...i.markers])];return o.useEffect(()=>{},[l,h]),{analysisState:p,processVideoFrame:w,processAudioSegment:r}},ee=()=>{I();const l=R(),{anima:a,loading:n,error:h}=L(),{processMediaInteraction:p}=D(),{analysisState:x,processVideoFrame:w}=G(),[r,y]=o.useState(!1),[m,f]=o.useState([]),[b,u]=o.useState(!1),[i,s]=o.useState(null),d=o.useCallback(async t=>{try{u(!0),f(c=>[...c,{content:t,isUser:!0,timestamp:Date.now()}]),(t.toLowerCase().includes("play")||t.toLowerCase().includes("watch"))&&(s({type:"request",content:t}),p({type:"command",content:t,timestamp:Date.now()})),setTimeout(()=>{f(c=>[...c,{content:`Neural processing: ${t}`,isUser:!1,timestamp:Date.now(),patterns:x.currentPatterns,understanding:x.understanding}]),u(!1)},1500)}catch(c){console.error("Neural command error:",c),u(!1)}},[p,x]);return T.useEffect(()=>{a&&!r&&(async()=>(await new Promise(c=>setTimeout(c,2e3)),y(!0),f([{content:`Neural link established with ${a.name}. Quantum state synchronized.`,isUser:!1,timestamp:Date.now(),system:!0}])))()},[a,r]),n||!r?e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",children:[e.jsx(M,{intensity:.5}),e.jsxs("div",{className:"relative z-10 space-y-4 text-center",children:[e.jsx($,{}),e.jsx("div",{className:"text-green-500 animate-pulse text-xl",children:"INITIALIZING NEURAL LINK..."})]})]})}):h||!a?e.jsx(S,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsxs("div",{className:"text-red-500 text-xl",children:["ERROR: ",h||"NEURAL LINK FAILED"]}),e.jsx("button",{onClick:()=>l("/quantum-vault"),className:"px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Quantum Vault"})]})})}):e.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[e.jsx(M,{intensity:.7}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},className:"relative z-10",children:[e.jsx(B,{messages:m,onSendMessage:d,isProcessing:b,anima:a,mediaState:i}),e.jsx(P,{onCommand:t=>d(t)})]})]})};export{ee as EnhancedNeuralLinkPage,ee as default};
//# sourceMappingURL=EnhancedNeuralLinkPage-DH4W42wg.js.map
