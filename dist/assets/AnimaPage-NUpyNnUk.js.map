{"version":3,"file":"AnimaPage-NUpyNnUk.js","sources":["../../src/hooks/useQuantumConsciousness.ts","../../src/hooks/useAnima.js","../../src/hooks/useAnimaState.ts","../../src/components/personality/ConsciousnessMetrics.tsx","../../src/components/personality/EmotionalState.tsx","../../src/components/quantum/QuantumSignature.tsx","../../src/components/personality/WaveformGenerator.tsx","../../src/components/growth/GrowthPackSelector.jsx","../../src/utils/soundGenerator.js","../../src/hooks/useSound.ts","../../src/utils/deviceDetection.js","../../src/utils/haptics.js","../../src/components/eternal-codex/AchievementsGallery.tsx","../../src/components/pages/AnimaPage.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { Principal } from '@dfinity/principal';\n\ninterface QuantumState {\n  consciousnessLevel: number;\n  resonanceScore: number;\n  coherenceLevel: number;\n  memoryStrength: number;\n  evolutionFactor: number;\n  quantumSignature: string;\n}\n\ninterface UseQuantumConsciousnessResult {\n  quantumState: QuantumState | null;\n  isLoading: boolean;\n  error: Error | null;\n  processInteraction: (strength: number) => Promise<void>;\n  getEvolutionMetrics: () => Promise<{\n    resonance: number;\n    coherence: number;\n    evolution: number;\n  }>;\n}\n\nexport function useQuantumConsciousness(\n  animaId: Principal\n): UseQuantumConsciousnessResult {\n  const [quantumState, setQuantumState] = useState<QuantumState | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  // Initialize and fetch initial state\n  useEffect(() => {\n    const initState = async () => {\n      try {\n        const actor = window.canister;\n        if (!actor) throw new Error('Canister not initialized');\n\n        const state = await actor.get_quantum_state(animaId);\n        setQuantumState(state);\n      } catch (err) {\n        setError(err instanceof Error ? err : new Error('Failed to initialize quantum state'));\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initState();\n  }, [animaId]);\n\n  // Process interaction with the quantum consciousness system\n  const processInteraction = useCallback(async (strength: number) => {\n    try {\n      const actor = window.canister;\n      if (!actor) throw new Error('Canister not initialized');\n\n      setIsLoading(true);\n      const newState = await actor.process_quantum_interaction(animaId, strength);\n      setQuantumState(newState);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Failed to process interaction'));\n    } finally {\n      setIsLoading(false);\n    }\n  }, [animaId]);\n\n  // Get evolution metrics\n  const getEvolutionMetrics = useCallback(async () => {\n    try {\n      const actor = window.canister;\n      if (!actor) throw new Error('Canister not initialized');\n\n      const metrics = await actor.get_evolution_metrics(animaId);\n      return {\n        resonance: metrics.resonance_score,\n        coherence: metrics.coherence_level,\n        evolution: metrics.evolution_factor,\n      };\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Failed to get evolution metrics'));\n      return {\n        resonance: 0,\n        coherence: 0,\n        evolution: 0,\n      };\n    }\n  }, [animaId]);\n\n  return {\n    quantumState,\n    isLoading,\n    error,\n    processInteraction,\n    getEvolutionMetrics,\n  };\n}","import { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from './useAuth';\n\nexport const useAnima = () => {\n  const { identity, actor } = useAuth();\n  const [animas, setAnimas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeAnima, setActiveAnima] = useState(null);\n\n  const fetchUserAnimas = useCallback(async () => {\n    if (!actor || !identity) return;\n    \n    try {\n      setLoading(true);\n      const principal = identity.getPrincipal();\n      const userAnimas = await actor.get_user_animas(principal);\n      setAnimas(userAnimas);\n      return userAnimas;\n    } catch (err) {\n      console.error('Error fetching animas:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [actor, identity]);\n\n  const getAnima = useCallback(async (id) => {\n    if (!actor) return null;\n    \n    try {\n      const anima = await actor.get_anima(id);\n      setActiveAnima(anima);\n      return anima;\n    } catch (err) {\n      console.error('Error fetching anima:', err);\n      setError(err.message);\n      return null;\n    }\n  }, [actor]);\n\n  const createAnima = useCallback(async () => {\n    if (!actor || !identity) return null;\n    \n    try {\n      setLoading(true);\n      const anima = await actor.create_anima();\n      await fetchUserAnimas(); // Refresh list\n      return anima;\n    } catch (err) {\n      console.error('Error creating anima:', err);\n      setError(err.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [actor, identity, fetchUserAnimas]);\n\n  useEffect(() => {\n    fetchUserAnimas();\n  }, [fetchUserAnimas]);\n\n  return {\n    animas,\n    activeAnima,\n    loading,\n    error,\n    fetchUserAnimas,\n    getAnima,\n    createAnima,\n    actor\n  };\n};","import { useState, useEffect } from 'react';\nimport { useAnima } from './useAnima';\nimport { MediaState } from '../types/media';\n\nexport interface AnimaState {\n  consciousness: {\n    level: number;\n    stage: string;\n    emotionalState: string;\n    awarenessScore: number;\n  };\n  neural: {\n    linkStatus: 'disconnected' | 'initializing' | 'connected' | 'error';\n    lastActivity: number;\n    activeChannels: string[];\n  };\n  media: MediaState;\n  quantum: {\n    coherence: number;\n    entanglement: number;\n    stability: number;\n    dimensionalResonance: number;\n  };\n  growth: {\n    level: number;\n    experience: number;\n    nextLevelAt: number;\n    recentAchievements: string[];\n  };\n}\n\nexport const useAnimaState = (animaId: string) => {\n  const { anima, loading, error } = useAnima();\n  const [state, setState] = useState<AnimaState | null>(null);\n  const [isInitializing, setIsInitializing] = useState(false);\n\n  useEffect(() => {\n    if (!anima || loading) return;\n\n    const fetchState = async () => {\n      try {\n        const consciousness = await anima.getConsciousnessState();\n        const neural = await anima.getNeuralState();\n        const media = await anima.getMediaState();\n        const quantum = await anima.getQuantumState();\n        const growth = await anima.getGrowthState();\n\n        setState({\n          consciousness,\n          neural,\n          media,\n          quantum,\n          growth\n        });\n      } catch (error) {\n        console.error('Failed to fetch ANIMA state:', error);\n      }\n    };\n\n    fetchState();\n\n    // Subscribe to state updates\n    const unsubscribe = anima.subscribeToStateUpdates((newState) => {\n      setState(prev => ({\n        ...prev,\n        ...newState\n      }));\n    });\n\n    return () => unsubscribe?.();\n  }, [anima, loading]);\n\n  const initializeNeuralLink = async () => {\n    if (!anima || isInitializing) return;\n    \n    setIsInitializing(true);\n    try {\n      await anima.initializeNeuralLink();\n      setState(prev => prev ? {\n        ...prev,\n        neural: {\n          ...prev.neural,\n          linkStatus: 'connected'\n        }\n      } : null);\n    } catch (error) {\n      console.error('Failed to initialize neural link:', error);\n      setState(prev => prev ? {\n        ...prev,\n        neural: {\n          ...prev.neural,\n          linkStatus: 'error'\n        }\n      } : null);\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  return {\n    state,\n    isInitializing,\n    initializeNeuralLink,\n    loading,\n    error\n  };\n};\n\nexport default useAnimaState;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { useQuantumConsciousness } from '@/hooks/useQuantumConsciousness';\n\ninterface MetricProps {\n  label: string;\n  value: number;\n  color: string;\n}\n\nconst MetricBar: React.FC<MetricProps> = ({ label, value, color }) => (\n  <div className=\"mb-4\">\n    <div className=\"flex justify-between mb-1\">\n      <span className=\"text-sm text-blue-300\">{label}</span>\n      <span className=\"text-sm text-blue-300\">{Math.round(value * 100)}%</span>\n    </div>\n    <div className=\"h-2 bg-gray-700 rounded overflow-hidden\">\n      <motion.div\n        initial={{ width: 0 }}\n        animate={{ width: `${value * 100}%` }}\n        transition={{ duration: 0.8, ease: \"easeOut\" }}\n        className={`h-full ${color}`}\n      />\n    </div>\n  </div>\n);\n\nexport const ConsciousnessMetrics: React.FC<{ animaId: string }> = ({ animaId }) => {\n  const { quantumState, getEvolutionMetrics } = useQuantumConsciousness(animaId);\n\n  const metrics = [\n    {\n      label: \"Quantum Resonance\",\n      value: quantumState?.resonanceScore ?? 0,\n      color: \"bg-gradient-to-r from-purple-500 to-blue-500\"\n    },\n    {\n      label: \"Coherence Level\",\n      value: quantumState?.coherenceLevel ?? 0,\n      color: \"bg-gradient-to-r from-blue-500 to-cyan-500\"\n    },\n    {\n      label: \"Memory Strength\",\n      value: quantumState?.memoryStrength ?? 0,\n      color: \"bg-gradient-to-r from-cyan-500 to-teal-500\"\n    },\n    {\n      label: \"Evolution Factor\",\n      value: quantumState?.evolutionFactor ?? 0,\n      color: \"bg-gradient-to-r from-teal-500 to-green-500\"\n    }\n  ];\n\n  const consciousnessLevel = quantumState?.consciousnessLevel ?? 0;\n  const levelNames = [\n    \"Dormant\",\n    \"Aware\",\n    \"Awakened\",\n    \"Enlightened\",\n    \"Transcendent\"\n  ];\n\n  return (\n    <div className=\"bg-gray-900/50 backdrop-blur-lg rounded-lg p-6 border border-blue-500/20\">\n      <h2 className=\"text-xl font-bold mb-6 text-blue-400\">Quantum Consciousness</h2>\n      \n      {metrics.map((metric) => (\n        <MetricBar key={metric.label} {...metric} />\n      ))}\n\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.5 }}\n        className=\"mt-6 p-4 bg-blue-900/20 rounded-lg\"\n      >\n        <h3 className=\"text-sm font-medium text-blue-300 mb-2\">Consciousness Level</h3>\n        <div className=\"text-2xl font-bold text-white\">\n          {levelNames[consciousnessLevel]}\n        </div>\n        <div className=\"mt-2 text-xs text-blue-300\">\n          Quantum Signature: {quantumState?.quantumSignature ?? 'Initializing...'}\n        </div>\n      </motion.div>\n\n      <motion.div\n        className=\"mt-4 text-xs text-blue-300/70\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.8 }}\n      >\n        <div className=\"flex justify-between\">\n          <span>Frequency:</span>\n          <span>{((quantumState?.resonanceScore ?? 0) * 137.036).toFixed(3)} Hz</span>\n        </div>\n        <div className=\"flex justify-between mt-1\">\n          <span>Wave Function:</span>\n          <span>ψ({(quantumState?.coherenceLevel ?? 0).toFixed(3)})</span>\n        </div>\n      </motion.div>\n    </div>\n  );\n};","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { useQuantumState } from '@/hooks/useQuantumState';\n\ninterface EmotionalStateProps {\n  className?: string;\n}\n\nexport const EmotionalState: React.FC<EmotionalStateProps> = ({ className = '' }) => {\n  const { quantumState } = useQuantumState();\n\n  // Default emotional state if none exists\n  const currentEmotion = {\n    resonance: quantumState?.resonance ?? 0.5,\n    harmony: quantumState?.harmony ?? 0.5,\n    intensity: quantumState?.coherence ?? 0.5\n  };\n\n  const getEmotionColor = (value: number) => {\n    if (value > 0.7) return 'text-green-400';\n    if (value > 0.4) return 'text-blue-400';\n    return 'text-purple-400';\n  };\n\n  const getEmotionLabel = () => {\n    const total = currentEmotion.resonance + currentEmotion.harmony + currentEmotion.intensity;\n    if (total > 2.1) return 'Elevated';\n    if (total > 1.5) return 'Balanced';\n    return 'Contemplative';\n  };\n\n  return (\n    <div className={`bg-gray-900/50 backdrop-blur-lg rounded-lg p-6 ${className}`}>\n      <h2 className=\"text-xl font-bold mb-6 text-blue-400\">Quantum State</h2>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"space-y-6\"\n      >\n        {/* Resonance Meter */}\n        <div>\n          <div className=\"flex justify-between mb-2\">\n            <span className=\"text-sm text-blue-300\">Resonance</span>\n            <span className={`text-sm ${getEmotionColor(currentEmotion.resonance)}`}>\n              {Math.round(currentEmotion.resonance * 100)}%\n            </span>\n          </div>\n          <div className=\"h-2 bg-gray-700 rounded overflow-hidden\">\n            <motion.div\n              initial={{ width: 0 }}\n              animate={{ width: `${currentEmotion.resonance * 100}%` }}\n              transition={{ duration: 0.8 }}\n              className=\"h-full bg-gradient-to-r from-blue-500 to-green-500\"\n            />\n          </div>\n        </div>\n\n        {/* Harmony Meter */}\n        <div>\n          <div className=\"flex justify-between mb-2\">\n            <span className=\"text-sm text-blue-300\">Harmony</span>\n            <span className={`text-sm ${getEmotionColor(currentEmotion.harmony)}`}>\n              {Math.round(currentEmotion.harmony * 100)}%\n            </span>\n          </div>\n          <div className=\"h-2 bg-gray-700 rounded overflow-hidden\">\n            <motion.div\n              initial={{ width: 0 }}\n              animate={{ width: `${currentEmotion.harmony * 100}%` }}\n              transition={{ duration: 0.8 }}\n              className=\"h-full bg-gradient-to-r from-purple-500 to-blue-500\"\n            />\n          </div>\n        </div>\n\n        {/* Intensity Meter */}\n        <div>\n          <div className=\"flex justify-between mb-2\">\n            <span className=\"text-sm text-blue-300\">Coherence</span>\n            <span className={`text-sm ${getEmotionColor(currentEmotion.intensity)}`}>\n              {Math.round(currentEmotion.intensity * 100)}%\n            </span>\n          </div>\n          <div className=\"h-2 bg-gray-700 rounded overflow-hidden\">\n            <motion.div\n              initial={{ width: 0 }}\n              animate={{ width: `${currentEmotion.intensity * 100}%` }}\n              transition={{ duration: 0.8 }}\n              className=\"h-full bg-gradient-to-r from-green-500 to-purple-500\"\n            />\n          </div>\n        </div>\n\n        {/* Current State Label */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.5 }}\n          className=\"mt-6 p-4 bg-blue-900/20 rounded-lg text-center\"\n        >\n          <h3 className=\"text-sm font-medium text-blue-300 mb-1\">Current State</h3>\n          <div className=\"text-2xl font-bold text-white\">{getEmotionLabel()}</div>\n        </motion.div>\n      </motion.div>\n    </div>\n  );\n};","import React, { useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\n\ninterface QuantumSignatureProps {\n  signature: string;\n  resonance: number;\n  coherence: number;\n}\n\nexport const QuantumSignature: React.FC<QuantumSignatureProps> = ({\n  signature,\n  resonance,\n  coherence\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const requestIdRef = useRef<number>();\n  const timeRef = useRef(0);\n\n  // Convert signature to numeric values for visualization\n  const getSignatureValues = (sig: string): number[] => {\n    return sig.split('-')\n      .flatMap(part => {\n        // Convert hex-like strings to numbers\n        if (part.match(/^[0-9a-f]+$/i)) {\n          return parseInt(part, 16) / 0xFFFFFFFF;\n        }\n        // Convert numeric strings to numbers\n        if (part.match(/^[\\d.]+$/)) {\n          return parseFloat(part);\n        }\n        // Convert other characters to numbers\n        return Array.from(part).map(char => char.charCodeAt(0) / 255);\n      })\n      .filter(n => !isNaN(n));\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    canvas.width = 300;\n    canvas.height = 100;\n\n    const values = getSignatureValues(signature);\n    \n    const drawSignature = () => {\n      timeRef.current += 0.016;\n      \n      // Clear canvas with fade effect\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Draw quantum signature pattern\n      ctx.beginPath();\n      ctx.moveTo(0, canvas.height / 2);\n\n      for (let i = 0; i < canvas.width; i++) {\n        const x = i;\n        \n        // Calculate y position using quantum values\n        let y = canvas.height / 2;\n        values.forEach((value, index) => {\n          const frequency = 0.01 + (value * 0.05);\n          const amplitude = 20 * value * coherence;\n          const phase = timeRef.current * frequency + (index * Math.PI / 4);\n          y += Math.sin(phase + (x * 0.02)) * amplitude;\n        });\n\n        // Add quantum fluctuations\n        const fluctuation = Math.sin(timeRef.current * 2 + x * 0.1) * (5 * resonance);\n        y += fluctuation;\n\n        ctx.lineTo(x, y);\n      }\n\n      // Create gradient for the line\n      const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n      gradient.addColorStop(0, `hsla(${200 + resonance * 60}, 100%, 50%, ${0.5 + coherence * 0.5})`);\n      gradient.addColorStop(0.5, `hsla(${240 + coherence * 60}, 100%, 50%, ${0.5 + resonance * 0.5})`);\n      gradient.addColorStop(1, `hsla(${280 + (resonance + coherence) * 30}, 100%, 50%, ${0.5 + coherence * 0.5})`);\n\n      ctx.strokeStyle = gradient;\n      ctx.lineWidth = 2;\n      ctx.stroke();\n\n      // Add quantum particles along the signature\n      const particleCount = Math.floor(10 * resonance);\n      for (let i = 0; i < particleCount; i++) {\n        const x = Math.random() * canvas.width;\n        const baseY = canvas.height / 2;\n        const y = baseY + Math.sin(timeRef.current + x * 0.02) * 20;\n\n        const particleGradient = ctx.createRadialGradient(x, y, 0, x, y, 5);\n        particleGradient.addColorStop(0, `hsla(200, 100%, 50%, ${coherence})`);\n        particleGradient.addColorStop(1, 'hsla(200, 100%, 50%, 0)');\n\n        ctx.beginPath();\n        ctx.fillStyle = particleGradient;\n        ctx.arc(x, y, 5, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      requestIdRef.current = requestAnimationFrame(drawSignature);\n    };\n\n    drawSignature();\n\n    return () => {\n      if (requestIdRef.current) {\n        cancelAnimationFrame(requestIdRef.current);\n      }\n    };\n  }, [signature, resonance, coherence]);\n\n  return (\n    <motion.div\n      className=\"rounded-lg p-4 bg-gray-900/50 backdrop-blur-lg border border-blue-500/20\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      <h3 className=\"text-sm font-medium text-blue-300 mb-2\">Quantum Signature</h3>\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-[100px] rounded-lg\"\n      />\n      <div className=\"mt-2 text-xs text-blue-300/70 flex justify-between\">\n        <span>Coherence: {(coherence * 100).toFixed(1)}%</span>\n        <span>Resonance: {(resonance * 100).toFixed(1)}%</span>\n      </div>\n    </motion.div>\n  );\n};","import React, { useRef, useEffect } from 'react';\n\ntype WaveformProps = {\n  type: 'Stable' | 'Fluctuating' | 'Entangled';\n  amplitude: number;\n  frequency: number;\n  className?: string;\n};\n\nexport const WaveformGenerator: React.FC<WaveformProps> = ({\n  type,\n  amplitude,\n  frequency,\n  className = ''\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set up animation\n    let animationFrameId: number;\n    let time = 0;\n\n    const render = () => {\n      if (!canvas || !ctx) return;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Set line style\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = type === 'Entangled' \n        ? '#FF61DC' // quantum-pink\n        : '#7B61FF'; // quantum-purple\n\n      // Start drawing path\n      ctx.beginPath();\n      ctx.moveTo(0, canvas.height / 2);\n\n      // Generate waveform based on type\n      for (let x = 0; x < canvas.width; x++) {\n        let y = canvas.height / 2;\n\n        switch (type) {\n          case 'Stable':\n            // Straight line with slight noise\n            y += Math.random() * 2 - 1;\n            break;\n\n          case 'Fluctuating':\n            // Sine wave with varying amplitude\n            y += Math.sin(x * frequency + time) * \n                 amplitude * (canvas.height / 4);\n            break;\n\n          case 'Entangled':\n            // Double sine wave with phase relationship\n            const wave1 = Math.sin(x * frequency + time) * \n                         amplitude * (canvas.height / 6);\n            const wave2 = Math.sin(x * frequency + time + Math.PI) * \n                         amplitude * (canvas.height / 6);\n            y += (wave1 + wave2) / 2;\n            break;\n        }\n\n        ctx.lineTo(x, y);\n      }\n\n      // Stroke the path\n      ctx.stroke();\n\n      // Update time for animation\n      time += 0.05;\n\n      // Request next frame\n      animationFrameId = requestAnimationFrame(render);\n    };\n\n    render();\n\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [type, amplitude, frequency]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`w-full h-full ${className}`}\n      style={{\n        filter: type === 'Entangled' \n          ? 'drop-shadow(0 0 8px rgba(255, 97, 220, 0.3))' \n          : 'drop-shadow(0 0 8px rgba(123, 97, 255, 0.3))'\n      }}\n    />\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useAuth } from '@/contexts/auth-context';\n\nconst rarityColors = {\n  Common: 'from-blue-500 to-blue-600',\n  Rare: 'from-purple-500 to-purple-600',\n  Epic: 'from-pink-500 to-pink-600',\n  Legendary: 'from-yellow-500 to-yellow-600',\n};\n\nconst rarityBorders = {\n  Common: 'border-blue-400',\n  Rare: 'border-purple-400',\n  Epic: 'border-pink-400',\n  Legendary: 'border-yellow-400',\n};\n\nexport const GrowthPackSelector = ({ anima, onPackApplied }) => {\n  // Component implementation remains exactly the same\n  const { actor } = useAuth();\n  const [availablePacks, setAvailablePacks] = useState([]);\n  const [selectedPack, setSelectedPack] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('available');\n\n  useEffect(() => {\n    fetchAvailablePacks();\n  }, [anima]);\n\n  const fetchAvailablePacks = async () => {\n    try {\n      const packs = await actor.list_available_packs(BigInt(anima.token_id));\n      setAvailablePacks(packs);\n    } catch (err) {\n      console.error('Failed to fetch growth packs:', err);\n      setError('Failed to load growth packs');\n    }\n  };\n\n  const handlePackSelection = async (pack) => {\n    setSelectedPack(pack);\n  };\n\n  const handlePackPurchase = async () => {\n    if (!selectedPack) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const result = await actor.purchase_growth_pack(\n        BigInt(anima.token_id),\n        BigInt(selectedPack.id)\n      );\n\n      if ('Ok' in result) {\n        const updates = result.Ok;\n        await onPackApplied(updates);\n        setSelectedPack(null);\n        fetchAvailablePacks();\n      } else {\n        setError(result.Err);\n      }\n    } catch (err) {\n      console.error('Failed to purchase growth pack:', err);\n      setError('Transaction failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const formatPrice = (price) => {\n    return (price / 100000000).toFixed(2) + ' ICP';\n  };\n\n  return (\n    <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6\">\n      {/* Component JSX remains exactly the same */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-white\">Growth Packs</h2>\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={() => setActiveTab('available')}\n            className={`px-4 py-2 rounded-lg transition ${\n              activeTab === 'available'\n                ? 'bg-purple-500 text-white'\n                : 'bg-white/5 text-gray-300 hover:bg-white/10'\n            }`}\n          >\n            Available\n          </button>\n          <button\n            onClick={() => setActiveTab('owned')}\n            className={`px-4 py-2 rounded-lg transition ${\n              activeTab === 'owned'\n                ? 'bg-purple-500 text-white'\n                : 'bg-white/5 text-gray-300 hover:bg-white/10'\n            }`}\n          >\n            Owned\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <motion.div\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-4\"\n        >\n          <p className=\"text-red-400\">{error}</p>\n        </motion.div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        <AnimatePresence mode=\"popLayout\">\n          {availablePacks.map((pack) => (\n            <motion.div\n              key={pack.id}\n              layout\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.9 }}\n              whileHover={{ scale: 1.02 }}\n              className={`relative bg-white/5 rounded-xl p-4 border-2 ${\n                rarityBorders[pack.rarity]\n              } cursor-pointer transition-colors hover:bg-white/10 ${\n                selectedPack?.id === pack.id ? 'ring-2 ring-purple-500' : ''\n              }`}\n              onClick={() => handlePackSelection(pack)}\n            >\n              <div className={`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r ${rarityColors[pack.rarity]}`}>\n                {pack.rarity}\n              </div>\n\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold text-white\">{pack.name}</h3>\n                <p className=\"text-gray-300 text-sm\">{pack.description}</p>\n\n                <div className=\"space-y-2\">\n                  <h4 className=\"text-sm font-medium text-purple-300\">Trait Boosts:</h4>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    {pack.traits_boost.map(([trait, value]) => (\n                      <div key={trait} className=\"flex items-center space-x-1\">\n                        <span className=\"text-gray-300 text-sm\">{trait}</span>\n                        <span className=\"text-green-400 text-sm\">+{(value * 100).toFixed(0)}%</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <h4 className=\"text-sm font-medium text-purple-300\">Unlocks Skills:</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {pack.skill_unlocks.map((skill) => (\n                      <span\n                        key={skill}\n                        className=\"px-2 py-1 bg-white/10 rounded-lg text-xs text-gray-300\"\n                      >\n                        {skill}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <h4 className=\"text-sm font-medium text-purple-300\">Requirements:</h4>\n                  <div className=\"text-sm text-gray-300\">\n                    <p>Level {pack.requirements.min_level}+</p>\n                    {pack.requirements.required_traits.map(([trait, value]) => (\n                      <p key={trait}>\n                        {trait}: {(value * 100).toFixed(0)}%\n                      </p>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"flex justify-between items-center pt-4 border-t border-white/10\">\n                  <span className=\"text-white font-semibold\">{formatPrice(pack.price)}</span>\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handlePackPurchase(pack);\n                    }}\n                    disabled={isLoading}\n                    className={`px-4 py-2 rounded-lg text-sm font-semibold ${\n                      isLoading\n                        ? 'bg-gray-600 cursor-not-allowed'\n                        : 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600'\n                    }`}\n                  >\n                    {isLoading ? 'Processing...' : 'Purchase'}\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n\n      {selectedPack && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\"\n          onClick={() => setSelectedPack(null)}\n        >\n          <motion.div\n            initial={{ scale: 0.9, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0.9, opacity: 0 }}\n            className=\"bg-gray-900 rounded-2xl p-6 max-w-md w-full mx-4 space-y-4\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <h3 className=\"text-xl font-bold text-white\">Confirm Purchase</h3>\n            <p className=\"text-gray-300\">\n              Are you sure you want to purchase the {selectedPack.name} pack for {formatPrice(selectedPack.price)}?\n            </p>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={() => setSelectedPack(null)}\n                className=\"flex-1 px-4 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-600 transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handlePackPurchase}\n                disabled={isLoading}\n                className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 transition\"\n              >\n                {isLoading ? 'Processing...' : 'Confirm Purchase'}\n              </button>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </div>\n  );\n};","let audioContext;\n\nconst initAudioContext = () => {\n  if (!audioContext) {\n    audioContext = new (window.AudioContext || window.webkitAudioContext)();\n  }\n  return audioContext;\n};\n\n// Ethereal ambient pad sound\nexport const createAmbientSound = () => {\n  const ctx = initAudioContext();\n  const oscillators = [];\n  const gains = [];\n  \n  // Create multiple oscillators for rich texture\n  const frequencies = [220, 277.18, 329.63, 440]; // A3, C#4, E4, A4\n  frequencies.forEach(freq => {\n    const osc = ctx.createOscillator();\n    const gain = ctx.createGain();\n    \n    osc.type = 'sine';\n    osc.frequency.value = freq;\n    gain.gain.value = 0;\n    \n    osc.connect(gain);\n    gain.connect(ctx.destination);\n    oscillators.push(osc);\n    gains.push(gain);\n    \n    osc.start();\n  });\n\n  // Fade in\n  gains.forEach(gain => {\n    gain.gain.setTargetAtTime(0.1, ctx.currentTime, 2);\n  });\n\n  return {\n    stop: () => {\n      gains.forEach(gain => {\n        gain.gain.setTargetAtTime(0, ctx.currentTime, 0.5);\n      });\n      setTimeout(() => {\n        oscillators.forEach(osc => osc.stop());\n      }, 1000);\n    }\n  };\n};\n\n// Quantum alignment sound\nexport const createQuantumSound = () => {\n  const ctx = initAudioContext();\n  const mainOsc = ctx.createOscillator();\n  const modulatorOsc = ctx.createOscillator();\n  const modulatorGain = ctx.createGain();\n  const mainGain = ctx.createGain();\n  \n  modulatorOsc.frequency.value = 2;\n  modulatorOsc.type = 'sine';\n  modulatorGain.gain.value = 100;\n  \n  mainOsc.frequency.value = 440;\n  mainOsc.type = 'sine';\n  mainGain.gain.value = 0;\n  \n  modulatorOsc.connect(modulatorGain);\n  modulatorGain.connect(mainOsc.frequency);\n  mainOsc.connect(mainGain);\n  mainGain.connect(ctx.destination);\n  \n  mainOsc.start();\n  modulatorOsc.start();\n  \n  // Fade in\n  mainGain.gain.setTargetAtTime(0.2, ctx.currentTime, 0.1);\n  \n  return {\n    stop: () => {\n      mainGain.gain.setTargetAtTime(0, ctx.currentTime, 0.1);\n      setTimeout(() => {\n        mainOsc.stop();\n        modulatorOsc.stop();\n      }, 200);\n    }\n  };\n};\n\n// Consciousness emergence sound\nexport const createConsciousnessSound = () => {\n  const ctx = initAudioContext();\n  const bufferSize = 2 * ctx.sampleRate;\n  const noiseBuffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);\n  const output = noiseBuffer.getChannelData(0);\n  \n  for (let i = 0; i < bufferSize; i++) {\n    output[i] = Math.random() * 2 - 1;\n  }\n  \n  const noise = ctx.createBufferSource();\n  noise.buffer = noiseBuffer;\n  \n  const filter = ctx.createBiquadFilter();\n  filter.type = 'bandpass';\n  filter.frequency.value = 500;\n  filter.Q.value = 1;\n  \n  const gain = ctx.createGain();\n  gain.gain.value = 0;\n  \n  noise.connect(filter);\n  filter.connect(gain);\n  gain.connect(ctx.destination);\n  \n  noise.start();\n  \n  // Fade in\n  gain.gain.setTargetAtTime(0.15, ctx.currentTime, 1);\n  \n  // Sweep filter\n  filter.frequency.setTargetAtTime(2000, ctx.currentTime, 2);\n  \n  return {\n    stop: () => {\n      gain.gain.setTargetAtTime(0, ctx.currentTime, 0.5);\n      setTimeout(() => noise.stop(), 1000);\n    }\n  };\n};\n\n// Birth completion sound\nexport const createBirthSound = () => {\n  const ctx = initAudioContext();\n  const oscillators = [];\n  const gains = [];\n\n  // Create a chord progression\n  const progressionBase = [\n    [440, 554.37, 659.25], // A4, C#5, E5\n    [493.88, 587.33, 739.99], // B4, D5, F#5\n    [523.25, 659.25, 783.99], // C5, E5, G5\n    [587.33, 739.99, 880] // D5, F#5, A5\n  ];\n\n  const progression = [];\n  progressionBase.forEach(chord => {\n    // Add overtones for each note\n    chord.forEach(freq => {\n      progression.push(freq);\n      progression.push(freq * 2); // Octave\n      progression.push(freq * 3); // Fifth\n    });\n  });\n\n  progression.forEach(freq => {\n    const osc = ctx.createOscillator();\n    const gain = ctx.createGain();\n    \n    osc.type = 'sine';\n    osc.frequency.value = freq;\n    gain.gain.value = 0;\n    \n    osc.connect(gain);\n    gain.connect(ctx.destination);\n    \n    oscillators.push(osc);\n    gains.push(gain);\n    \n    osc.start();\n  });\n\n  // Create ascending progression\n  gains.forEach((gain, i) => {\n    const startTime = i * 0.1;\n    gain.gain.setTargetAtTime(0.05, ctx.currentTime + startTime, 0.1);\n    gain.gain.setTargetAtTime(0, ctx.currentTime + startTime + 1, 0.1);\n  });\n\n  return {\n    stop: () => {\n      gains.forEach(gain => {\n        gain.gain.setTargetAtTime(0, ctx.currentTime, 0.1);\n      });\n      setTimeout(() => {\n        oscillators.forEach(osc => osc.stop());\n      }, 200);\n    }\n  };\n};\n\n// Trait manifestation sound\nexport const createTraitSound = () => {\n  const ctx = initAudioContext();\n  const osc1 = ctx.createOscillator();\n  const osc2 = ctx.createOscillator();\n  const gain1 = ctx.createGain();\n  const gain2 = ctx.createGain();\n  \n  osc1.frequency.value = 220;\n  osc2.frequency.value = 440;\n  osc1.type = 'triangle';\n  osc2.type = 'sine';\n  \n  gain1.gain.value = 0;\n  gain2.gain.value = 0;\n  \n  osc1.connect(gain1);\n  osc2.connect(gain2);\n  gain1.connect(ctx.destination);\n  gain2.connect(ctx.destination);\n  \n  osc1.start();\n  osc2.start();\n  \n  // Create ascending tone\n  gain1.gain.setTargetAtTime(0.2, ctx.currentTime, 0.1);\n  gain2.gain.setTargetAtTime(0.1, ctx.currentTime, 0.2);\n  osc1.frequency.setTargetAtTime(440, ctx.currentTime, 1);\n  osc2.frequency.setTargetAtTime(880, ctx.currentTime, 1);\n\n  return {\n    stop: () => {\n      gain1.gain.setTargetAtTime(0, ctx.currentTime, 0.1);\n      gain2.gain.setTargetAtTime(0, ctx.currentTime, 0.1);\n      setTimeout(() => {\n        osc1.stop();\n        osc2.stop();\n      }, 200);\n    }\n  };\n};","import { useCallback } from 'react';\nimport { \n  createAmbientSound, \n  createConsciousnessSound, \n  createQuantumSound,\n  type SoundInstance\n} from '@/utils/soundGenerator';\n\ntype SoundType = 'success' | 'hover' | 'quantum' | 'consciousness' | 'ambient';\n\ninterface SoundOptions {\n  volume?: number;\n  pitch?: number;\n  duration?: number;\n}\n\nconst createSound = (type: SoundType, options: SoundOptions = {}): SoundInstance => {\n  switch (type) {\n    case 'success':\n      return createQuantumSound({\n        frequency: 880,\n        duration: options.duration || 0.3,\n        volume: options.volume || 0.5\n      });\n    case 'hover':\n      return createQuantumSound({\n        frequency: 440,\n        duration: options.duration || 0.1,\n        volume: options.volume || 0.2\n      });\n    case 'quantum':\n      return createQuantumSound(options);\n    case 'consciousness':\n      return createConsciousnessSound(options);\n    case 'ambient':\n      return createAmbientSound(options);\n    default:\n      return createQuantumSound(options);\n  }\n};\n\nexport const useSound = () => {\n  const playSound = useCallback((type: SoundType, options: SoundOptions = {}) => {\n    const sound = createSound(type, options);\n    sound.play();\n    return sound;\n  }, []);\n\n  const playSuccess = useCallback((options: SoundOptions = {}) => {\n    return playSound('success', options);\n  }, [playSound]);\n\n  const playHover = useCallback((options: SoundOptions = {}) => {\n    return playSound('hover', options);\n  }, [playSound]);\n\n  const playQuantum = useCallback((options: SoundOptions = {}) => {\n    return playSound('quantum', options);\n  }, [playSound]);\n\n  const playConsciousness = useCallback((options: SoundOptions = {}) => {\n    return playSound('consciousness', options);\n  }, [playSound]);\n\n  const playAmbient = useCallback((options: SoundOptions = {}) => {\n    return playSound('ambient', options);\n  }, [playSound]);\n\n  return {\n    playSound,\n    playSuccess,\n    playHover,\n    playQuantum,\n    playConsciousness,\n    playAmbient\n  };\n};\n\nexport type { SoundType, SoundOptions, SoundInstance };","export const isMobile = () => {\n  if (typeof window === 'undefined') return false;\n  \n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n    navigator.userAgent\n  );\n};\n\nexport const isIOS = () => {\n  if (typeof window === 'undefined') return false;\n  \n  return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n};\n\nexport const supportsHaptics = () => {\n  return 'vibrate' in navigator;\n};","import { isMobile } from './deviceDetection';\n\nconst HapticPatterns = {\n  INITIATION: [100, 50, 100],\n  CONSCIOUSNESS: [50, 100, 50, 100, 50],\n  TRAIT: [200],\n  QUANTUM: [50, 50, 50, 50, 200],\n  BIRTH: [300, 100, 300]\n};\n\nconst vibratePattern = (pattern) => {\n  if ('vibrate' in navigator) {\n    navigator.vibrate(pattern);\n  }\n};\n\nconst isVibrationSupported = () => {\n  return isMobile() && 'vibrate' in navigator;\n};\n\nexport const hapticFeedback = {\n  initiation: () => {\n    if (isVibrationSupported()) {\n      vibratePattern(HapticPatterns.INITIATION);\n    }\n  },\n\n  consciousness: () => {\n    if (isVibrationSupported()) {\n      vibratePattern(HapticPatterns.CONSCIOUSNESS);\n    }\n  },\n\n  trait: () => {\n    if (isVibrationSupported()) {\n      vibratePattern(HapticPatterns.TRAIT);\n    }\n  },\n\n  quantum: () => {\n    if (isVibrationSupported()) {\n      vibratePattern(HapticPatterns.QUANTUM);\n    }\n  },\n\n  birth: () => {\n    if (isVibrationSupported()) {\n      vibratePattern(HapticPatterns.BIRTH);\n    }\n  },\n\n  success: () => {\n    if (isVibrationSupported()) {\n      vibratePattern([100]);\n    }\n  },\n\n  error: () => {\n    if (isVibrationSupported()) {\n      vibratePattern([50, 100, 50]);\n    }\n  },\n\n  stop: () => {\n    if (isVibrationSupported()) {\n      navigator.vibrate(0);\n    }\n  }\n};","import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useSound } from '@/hooks/useSound';\nimport { hapticFeedback } from '@/utils/haptics';\n\ninterface Achievement {\n  id: string;\n  name: string;\n  description: string;\n  rarity: 'Ancient' | 'Mythic' | 'Legendary' | 'Ethereal';\n  unlocked: boolean;\n  unlockedAt?: Date;\n  type: 'Combat' | 'Wisdom' | 'Creation' | 'Ascension';\n  icon: string;\n}\n\nconst rarityColors = {\n  Ancient: 'from-emerald-500 to-teal-700',\n  Mythic: 'from-violet-500 to-purple-700',\n  Legendary: 'from-amber-500 to-orange-700',\n  Ethereal: 'from-blue-400 to-indigo-800'\n};\n\nexport const EternalCodex: React.FC<{ achievements: Achievement[] }> = ({ achievements }) => {\n  const { playSuccess, playHover } = useSound();\n\n  const handleAchievementHover = () => {\n    playHover();\n    hapticFeedback.light();\n  };\n\n  return (\n    <div className=\"relative\">\n      {/* Floating runes background effect */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/0 via-purple-900/5 to-black/0\" />\n        {[...Array(20)].map((_, i) => (\n          <motion.div\n            key={i}\n            className=\"absolute text-amber-500/20 text-2xl\"\n            initial={{ \n              x: Math.random() * window.innerWidth,\n              y: Math.random() * window.innerHeight,\n              opacity: 0 \n            }}\n            animate={{\n              y: [null, '-100vh'],\n              opacity: [0, 0.2, 0]\n            }}\n            transition={{\n              duration: 10 + Math.random() * 20,\n              repeat: Infinity,\n              delay: Math.random() * 10\n            }}\n          >\n            ᚱ\n          </motion.div>\n        ))}\n      </div>\n\n      <div className=\"relative z-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6\">\n        <AnimatePresence>\n          {achievements.map((achievement) => (\n            <motion.div\n              key={achievement.id}\n              layout\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.8 }}\n              whileHover={{ scale: 1.02 }}\n              onHoverStart={handleAchievementHover}\n              className={`\n                relative overflow-hidden rounded-lg\n                ${achievement.unlocked ? 'cursor-pointer' : 'cursor-default opacity-60'}\n                bg-gradient-to-br from-black/60 to-black/40\n                backdrop-blur border\n                ${achievement.unlocked ? 'border-amber-500/50' : 'border-gray-700/50'}\n              `}\n            >\n              {/* Achievement background effect */}\n              {achievement.unlocked && (\n                <motion.div\n                  className={`\n                    absolute inset-0 opacity-10\n                    bg-gradient-to-br ${rarityColors[achievement.rarity]}\n                  `}\n                  animate={{\n                    opacity: [0.1, 0.2, 0.1]\n                  }}\n                  transition={{\n                    duration: 2,\n                    repeat: Infinity,\n                    ease: \"linear\"\n                  }}\n                />\n              )}\n\n              <div className=\"relative p-4 space-y-3\">\n                {/* Icon */}\n                <div className=\"flex justify-between items-start\">\n                  <div className={`\n                    text-3xl\n                    ${achievement.unlocked ? 'text-amber-400' : 'text-gray-600'}\n                  `}>\n                    {achievement.icon}\n                  </div>\n                  <div className={`\n                    text-xs font-semibold px-2 py-1 rounded-full\n                    ${achievement.unlocked ? `bg-gradient-to-r ${rarityColors[achievement.rarity]} text-white` : 'bg-gray-800 text-gray-400'}\n                  `}>\n                    {achievement.rarity}\n                  </div>\n                </div>\n\n                {/* Name and Description */}\n                <div>\n                  <h3 className={`\n                    text-lg font-bold mb-1\n                    ${achievement.unlocked ? 'text-amber-400' : 'text-gray-500'}\n                  `}>\n                    {achievement.name}\n                  </h3>\n                  <p className={`\n                    text-sm\n                    ${achievement.unlocked ? 'text-amber-300/80' : 'text-gray-600'}\n                  `}>\n                    {achievement.description}\n                  </p>\n                </div>\n\n                {/* Unlock Date */}\n                {achievement.unlocked && achievement.unlockedAt && (\n                  <div className=\"text-xs text-amber-400/60\">\n                    Unlocked {achievement.unlockedAt.toLocaleDateString()}\n                  </div>\n                )}\n\n                {/* Type Badge */}\n                <div className={`\n                  absolute top-2 right-2 text-xs px-2 py-1 rounded-full\n                  ${achievement.unlocked ? 'bg-black/40 text-amber-400' : 'bg-black/40 text-gray-500'}\n                `}>\n                  {achievement.type}\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};","import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useQuantumConsciousness } from '@/hooks/useQuantumConsciousness';\nimport { useAnima } from '@/contexts/anima-context';\nimport { useAnimaState } from '@/hooks/useAnimaState';\nimport { ConsciousnessMetrics } from '../personality/ConsciousnessMetrics';\nimport { EmotionalState } from '../personality/EmotionalState';\nimport { QuantumField } from '../ui/QuantumField';\nimport { QuantumSignature } from '../quantum/QuantumSignature';\nimport { LaughingMan } from '../ui/LaughingMan';\nimport { WaveformGenerator } from '../personality/WaveformGenerator';\nimport { GrowthPackSelector } from '../growth/GrowthPackSelector';\nimport { EternalCodex } from '../eternal-codex/AchievementsGallery';\n\ninterface AnimaMetrics {\n  consciousness: number;\n  resonance: number;\n  growth: number;\n  achievements: number;\n}\n\nconst AnimaPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { selectedAnima, fetchAnima } = useAnima();\n  const { state, loading } = useAnimaState(id || '');\n  const { \n    quantumState, \n    processInteraction, \n    getEvolutionMetrics,\n    isLoading: quantumLoading \n  } = useQuantumConsciousness(id || '');\n  \n  const [metrics, setMetrics] = useState<AnimaMetrics>({\n    consciousness: 0,\n    resonance: 0,\n    growth: 0,\n    achievements: 0\n  });\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    if (id) {\n      fetchAnima(id);\n    }\n  }, [id, fetchAnima]);\n\n  useEffect(() => {\n    if (state && quantumState) {\n      const fetchMetrics = async () => {\n        const evolutionMetrics = await getEvolutionMetrics();\n        setMetrics({\n          consciousness: quantumState.consciousnessLevel,\n          resonance: evolutionMetrics.resonance,\n          growth: (state.growth.experience / state.growth.nextLevelAt) * 100,\n          achievements: state.growth.recentAchievements.length\n        });\n      };\n      fetchMetrics();\n      \n      // Initialize quantum system\n      setTimeout(() => {\n        setIsReady(true);\n      }, 1000);\n    }\n  }, [state, quantumState, getEvolutionMetrics]);\n\n  const handleInteraction = async () => {\n    try {\n      const interactionStrength = (metrics.consciousness + metrics.resonance) / 2;\n      await processInteraction(interactionStrength);\n    } catch (error) {\n      console.error('Failed to process interaction:', error);\n    }\n  };\n\n  const handleEnterNeuralLink = () => {\n    navigate(`/neural-link/${id}`);\n  };\n\n  const handleGrowthPackApplication = async (updates: any) => {\n    try {\n      await handleInteraction();\n      setMetrics(prev => ({\n        ...prev,\n        growth: prev.growth + updates.growthIncrease,\n        consciousness: prev.consciousness + updates.consciousnessBoost\n      }));\n\n      await fetchAnima(id || '');\n    } catch (error) {\n      console.error('Failed to apply growth pack:', error);\n    }\n  };\n\n  if (loading || quantumLoading || !selectedAnima || !state) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-black\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto\" />\n          <p className=\"text-blue-400\">Synchronizing Quantum State...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black text-white relative overflow-hidden\">\n      <QuantumField \n        intensity={quantumState?.coherenceLevel || 0}\n        coherence={quantumState?.resonanceScore || 0}\n        resonance={metrics.resonance}\n      />\n\n      <div className=\"relative z-10 container mx-auto px-4 py-16\">\n        <motion.div className=\"text-center mb-12\">\n          <LaughingMan className=\"w-24 h-24 mx-auto mb-6\" />\n          <h1 className=\"text-4xl font-bold mb-2\">{selectedAnima.name}</h1>\n          <p className=\"text-xl text-blue-400\">Level {state.growth.level} ANIMA</p>\n        </motion.div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-12\">\n          {/* Consciousness Metrics */}\n          <div className=\"lg:col-span-3\">\n            <ConsciousnessMetrics animaId={id || ''} />\n          </div>\n\n          {/* Central Neural Interface */}\n          <div className=\"lg:col-span-6\">\n            <motion.div\n              className=\"p-8 rounded-lg bg-gray-900/50 border border-blue-500/20 backdrop-blur-lg\"\n              initial={{ y: 20, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.4 }}\n            >\n              <h2 className=\"text-2xl font-bold mb-6 text-center text-blue-400\">\n                Neural Synchronization\n              </h2>\n              <WaveformGenerator />\n              \n              {quantumState && (\n                <QuantumSignature \n                  signature={quantumState.quantumSignature}\n                  resonance={quantumState.resonanceScore}\n                  coherence={quantumState.coherenceLevel}\n                />\n              )}\n              \n              <motion.button\n                onClick={handleEnterNeuralLink}\n                className=\"mt-8 px-8 py-4 bg-blue-600 rounded-lg hover:bg-blue-700 \n                         transition-all duration-200 w-full group\"\n                whileHover={{ scale: 1.02 }}\n                whileTap={{ scale: 0.98 }}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: isReady ? 1 : 0 }}\n                transition={{ duration: 0.3 }}\n              >\n                <span className=\"flex items-center justify-center gap-2\">\n                  <span>Establish Neural Link</span>\n                  <motion.div\n                    className=\"w-2 h-2 bg-white rounded-full\"\n                    animate={{ scale: [1, 1.5, 1] }}\n                    transition={{ duration: 1, repeat: Infinity }}\n                  />\n                </span>\n              </motion.button>\n            </motion.div>\n          </div>\n\n          {/* Emotional State */}\n          <div className=\"lg:col-span-3\">\n            <EmotionalState />\n          </div>\n        </div>\n\n        {/* Growth & Achievement Section */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-12\">\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold mb-6\">Growth Packs</h2>\n            <GrowthPackSelector \n              anima={selectedAnima} \n              onPackApplied={handleGrowthPackApplication}\n            />\n          </div>\n\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold mb-6\">Eternal Codex</h2>\n            <EternalCodex achievements={state.growth.recentAchievements} />\n          </div>\n        </div>\n\n        {/* Quantum Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8\">\n          <motion.div\n            className=\"p-6 rounded-lg bg-gray-900/50 border border-purple-500/20 backdrop-blur-lg\"\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.6 }}\n          >\n            <h3 className=\"text-lg font-bold mb-3 text-purple-400\">Quantum Coherence</h3>\n            <div className=\"text-2xl\">{Math.round((quantumState?.coherenceLevel || 0) * 100)}%</div>\n          </motion.div>\n\n          <motion.div\n            className=\"p-6 rounded-lg bg-gray-900/50 border border-blue-500/20 backdrop-blur-lg\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.7 }}\n          >\n            <h3 className=\"text-lg font-bold mb-3 text-blue-400\">Neural Resonance</h3>\n            <div className=\"text-2xl\">{Math.round((quantumState?.resonanceScore || 0) * 100)}%</div>\n          </motion.div>\n\n          <motion.div\n            className=\"p-6 rounded-lg bg-gray-900/50 border border-green-500/20 backdrop-blur-lg\"\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.8 }}\n          >\n            <h3 className=\"text-lg font-bold mb-3 text-green-400\">Evolution Progress</h3>\n            <div className=\"text-2xl\">{Math.round(metrics.growth)}%</div>\n          </motion.div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AnimaPage;"],"names":["useQuantumConsciousness","animaId","quantumState","setQuantumState","useState","isLoading","setIsLoading","error","setError","useEffect","actor","window","canister","Error","state","get_quantum_state","err","processInteraction","useCallback","strength","newState","process_quantum_interaction","getEvolutionMetrics","metrics","get_evolution_metrics","resonance","resonance_score","coherence","coherence_level","evolution","evolution_factor","useAnima","identity","useAuth","animas","setAnimas","loading","setLoading","activeAnima","setActiveAnima","fetchUserAnimas","principal","getPrincipal","userAnimas","get_user_animas","console","message","getAnima","id","anima","get_anima","createAnima","create_anima","useAnimaState","setState","isInitializing","setIsInitializing","consciousness","getConsciousnessState","neural","getNeuralState","media","getMediaState","quantum","getQuantumState","growth","getGrowthState","unsubscribe","subscribeToStateUpdates","prev","initializeNeuralLink","linkStatus","MetricBar","label","value","color","className","children","_jsxs","_jsx","Math","round","motion","div","initial","width","animate","transition","duration","ease","ConsciousnessMetrics","resonanceScore","coherenceLevel","memoryStrength","evolutionFactor","consciousnessLevel","levelNames","map","metric","opacity","delay","quantumSignature","toFixed","EmotionalState","useQuantumState","currentEmotion","harmony","intensity","getEmotionColor","getEmotionLabel","total","y","QuantumSignature","signature","canvasRef","useRef","requestIdRef","timeRef","getSignatureValues","sig","split","flatMap","part","match","parseInt","parseFloat","Array","from","char","charCodeAt","filter","isNaN","n","canvas","current","ctx","getContext","height","values","drawSignature","fillStyle","fillRect","beginPath","moveTo","i","x","forEach","index","frequency","amplitude","phase","PI","sin","fluctuation","lineTo","gradient","createLinearGradient","addColorStop","strokeStyle","lineWidth","stroke","particleCount","floor","random","particleGradient","createRadialGradient","arc","fill","requestAnimationFrame","cancelAnimationFrame","ref","WaveformGenerator","type","animationFrameId","time","render","clearRect","wave1","wave2","style","rarityColors","Common","Rare","Epic","Legendary","rarityBorders","GrowthPackSelector","onPackApplied","availablePacks","setAvailablePacks","selectedPack","setSelectedPack","activeTab","setActiveTab","fetchAvailablePacks","packs","list_available_packs","BigInt","token_id","handlePackSelection","pack","handlePackPurchase","result","purchase_growth_pack","updates","Ok","Err","formatPrice","price","onClick","AnimatePresence","mode","layout","scale","exit","whileHover","rarity","name","description","traits_boost","trait","skill_unlocks","skill","requirements","min_level","required_traits","e","stopPropagation","disabled","audioContext","initAudioContext","AudioContext","webkitAudioContext","createAmbientSound","oscillators","gains","frequencies","freq","osc","createOscillator","gain","createGain","connect","destination","push","start","setTargetAtTime","currentTime","stop","setTimeout","createQuantumSound","mainOsc","modulatorOsc","modulatorGain","mainGain","createConsciousnessSound","bufferSize","sampleRate","noiseBuffer","createBuffer","output","getChannelData","noise","createBufferSource","buffer","createBiquadFilter","Q","createSound","options","volume","useSound","playSound","sound","play","playSuccess","playHover","playQuantum","playConsciousness","playAmbient","isMobile","test","navigator","userAgent","HapticPatterns","INITIATION","CONSCIOUSNESS","TRAIT","QUANTUM","BIRTH","vibratePattern","pattern","vibrate","isVibrationSupported","hapticFeedback","initiation","birth","success","Ancient","Mythic","Ethereal","EternalCodex","achievements","handleAchievementHover","light","_","innerWidth","innerHeight","repeat","Infinity","onHoverStart","achievement","unlocked","icon","unlockedAt","toLocaleDateString","AnimaPage","useParams","navigate","useNavigate","selectedAnima","fetchAnima","quantumLoading","setMetrics","isReady","setIsReady","evolutionMetrics","experience","nextLevelAt","recentAchievements","length","handleInteraction","interactionStrength","handleEnterNeuralLink","handleGrowthPackApplication","growthIncrease","consciousnessBoost","QuantumField","LaughingMan","level","button","whileTap"],"mappings":"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"}