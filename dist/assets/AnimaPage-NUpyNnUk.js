import{r as u,a as F,j as e,m as p,c as L,b as q,A as M,f as R,u as _,e as Q}from"./index-BGLOSt1o.js";import{Q as z}from"./QuantumField-CIYowRHy.js";import{L as B}from"./LaughingMan-7ZVvMXF4.js";function P(t){const[a,r]=u.useState(null),[m,s]=u.useState(!0),[i,n]=u.useState(null);u.useEffect(()=>{(async()=>{try{const o=window.canister;if(!o)throw new Error("Canister not initialized");const x=await o.get_quantum_state(t);r(x)}catch(o){n(o instanceof Error?o:new Error("Failed to initialize quantum state"))}finally{s(!1)}})()},[t]);const d=u.useCallback(async h=>{try{const o=window.canister;if(!o)throw new Error("Canister not initialized");s(!0);const x=await o.process_quantum_interaction(t,h);r(x)}catch(o){n(o instanceof Error?o:new Error("Failed to process interaction"))}finally{s(!1)}},[t]),c=u.useCallback(async()=>{try{const h=window.canister;if(!h)throw new Error("Canister not initialized");const o=await h.get_evolution_metrics(t);return{resonance:o.resonance_score,coherence:o.coherence_level,evolution:o.evolution_factor}}catch(h){return n(h instanceof Error?h:new Error("Failed to get evolution metrics")),{resonance:0,coherence:0,evolution:0}}},[t]);return{quantumState:a,isLoading:m,error:i,processInteraction:d,getEvolutionMetrics:c}}const O=()=>{const{identity:t,actor:a}=F(),[r,m]=u.useState([]),[s,i]=u.useState(!0),[n,d]=u.useState(null),[c,h]=u.useState(null),o=u.useCallback(async()=>{if(!(!a||!t))try{i(!0);const g=t.getPrincipal(),b=await a.get_user_animas(g);return m(b),b}catch(g){console.error("Error fetching animas:",g),d(g.message)}finally{i(!1)}},[a,t]),x=u.useCallback(async g=>{if(!a)return null;try{const b=await a.get_anima(g);return h(b),b}catch(b){return console.error("Error fetching anima:",b),d(b.message),null}},[a]),y=u.useCallback(async()=>{if(!a||!t)return null;try{i(!0);const g=await a.create_anima();return await o(),g}catch(g){return console.error("Error creating anima:",g),d(g.message),null}finally{i(!1)}},[a,t,o]);return u.useEffect(()=>{o()},[o]),{animas:r,activeAnima:c,loading:s,error:n,fetchUserAnimas:o,getAnima:x,createAnima:y,actor:a}},G=t=>{const{anima:a,loading:r,error:m}=O(),[s,i]=u.useState(null),[n,d]=u.useState(!1);return u.useEffect(()=>{if(!a||r)return;(async()=>{try{const x=await a.getConsciousnessState(),y=await a.getNeuralState(),g=await a.getMediaState(),b=await a.getQuantumState(),v=await a.getGrowthState();i({consciousness:x,neural:y,media:g,quantum:b,growth:v})}catch(x){console.error("Failed to fetch ANIMA state:",x)}})();const o=a.subscribeToStateUpdates(x=>{i(y=>({...y,...x}))});return()=>o?.()},[a,r]),{state:s,isInitializing:n,initializeNeuralLink:async()=>{if(!(!a||n)){d(!0);try{await a.initializeNeuralLink(),i(h=>h?{...h,neural:{...h.neural,linkStatus:"connected"}}:null)}catch(h){console.error("Failed to initialize neural link:",h),i(o=>o?{...o,neural:{...o.neural,linkStatus:"error"}}:null)}finally{d(!1)}}},loading:r,error:m}},H=({label:t,value:a,color:r})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-blue-300",children:t}),e.jsxs("span",{className:"text-sm text-blue-300",children:[Math.round(a*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(p.div,{initial:{width:0},animate:{width:`${a*100}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full ${r}`})})]}),U=({animaId:t})=>{const{quantumState:a,getEvolutionMetrics:r}=P(t),m=[{label:"Quantum Resonance",value:a?.resonanceScore??0,color:"bg-gradient-to-r from-purple-500 to-blue-500"},{label:"Coherence Level",value:a?.coherenceLevel??0,color:"bg-gradient-to-r from-blue-500 to-cyan-500"},{label:"Memory Strength",value:a?.memoryStrength??0,color:"bg-gradient-to-r from-cyan-500 to-teal-500"},{label:"Evolution Factor",value:a?.evolutionFactor??0,color:"bg-gradient-to-r from-teal-500 to-green-500"}],s=a?.consciousnessLevel??0,i=["Dormant","Aware","Awakened","Enlightened","Transcendent"];return e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-lg rounded-lg p-6 border border-blue-500/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-blue-400",children:"Quantum Consciousness"}),m.map(n=>e.jsx(H,{...n},n.label)),e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-blue-900/20 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-2",children:"Consciousness Level"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:i[s]}),e.jsxs("div",{className:"mt-2 text-xs text-blue-300",children:["Quantum Signature: ",a?.quantumSignature??"Initializing..."]})]}),e.jsxs(p.div,{className:"mt-4 text-xs text-blue-300/70",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Frequency:"}),e.jsxs("span",{children:[((a?.resonanceScore??0)*137.036).toFixed(3)," Hz"]})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{children:"Wave Function:"}),e.jsxs("span",{children:["ψ(",(a?.coherenceLevel??0).toFixed(3),")"]})]})]})]})},W=({className:t=""})=>{const{quantumState:a}=L(),r={resonance:a?.resonance??.5,harmony:a?.harmony??.5,intensity:a?.coherence??.5},m=i=>i>.7?"text-green-400":i>.4?"text-blue-400":"text-purple-400",s=()=>{const i=r.resonance+r.harmony+r.intensity;return i>2.1?"Elevated":i>1.5?"Balanced":"Contemplative"};return e.jsxs("div",{className:`bg-gray-900/50 backdrop-blur-lg rounded-lg p-6 ${t}`,children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-blue-400",children:"Quantum State"}),e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Resonance"}),e.jsxs("span",{className:`text-sm ${m(r.resonance)}`,children:[Math.round(r.resonance*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(p.div,{initial:{width:0},animate:{width:`${r.resonance*100}%`},transition:{duration:.8},className:"h-full bg-gradient-to-r from-blue-500 to-green-500"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Harmony"}),e.jsxs("span",{className:`text-sm ${m(r.harmony)}`,children:[Math.round(r.harmony*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(p.div,{initial:{width:0},animate:{width:`${r.harmony*100}%`},transition:{duration:.8},className:"h-full bg-gradient-to-r from-purple-500 to-blue-500"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-300",children:"Coherence"}),e.jsxs("span",{className:`text-sm ${m(r.intensity)}`,children:[Math.round(r.intensity*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded overflow-hidden",children:e.jsx(p.div,{initial:{width:0},animate:{width:`${r.intensity*100}%`},transition:{duration:.8},className:"h-full bg-gradient-to-r from-green-500 to-purple-500"})})]}),e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-blue-900/20 rounded-lg text-center",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-1",children:"Current State"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:s()})]})]})]})},D=({signature:t,resonance:a,coherence:r})=>{const m=u.useRef(null),s=u.useRef(),i=u.useRef(0),n=d=>d.split("-").flatMap(c=>c.match(/^[0-9a-f]+$/i)?parseInt(c,16)/4294967295:c.match(/^[\d.]+$/)?parseFloat(c):Array.from(c).map(h=>h.charCodeAt(0)/255)).filter(c=>!isNaN(c));return u.useEffect(()=>{const d=m.current;if(!d)return;const c=d.getContext("2d");if(!c)return;d.width=300,d.height=100;const h=n(t),o=()=>{i.current+=.016,c.fillStyle="rgba(0, 0, 0, 0.1)",c.fillRect(0,0,d.width,d.height),c.beginPath(),c.moveTo(0,d.height/2);for(let g=0;g<d.width;g++){const b=g;let v=d.height/2;h.forEach((l,f)=>{const S=.01+l*.05,I=20*l*r,$=i.current*S+f*Math.PI/4;v+=Math.sin($+b*.02)*I});const j=Math.sin(i.current*2+b*.1)*(5*a);v+=j,c.lineTo(b,v)}const x=c.createLinearGradient(0,0,d.width,0);x.addColorStop(0,`hsla(${200+a*60}, 100%, 50%, ${.5+r*.5})`),x.addColorStop(.5,`hsla(${240+r*60}, 100%, 50%, ${.5+a*.5})`),x.addColorStop(1,`hsla(${280+(a+r)*30}, 100%, 50%, ${.5+r*.5})`),c.strokeStyle=x,c.lineWidth=2,c.stroke();const y=Math.floor(10*a);for(let g=0;g<y;g++){const b=Math.random()*d.width,j=d.height/2+Math.sin(i.current+b*.02)*20,l=c.createRadialGradient(b,j,0,b,j,5);l.addColorStop(0,`hsla(200, 100%, 50%, ${r})`),l.addColorStop(1,"hsla(200, 100%, 50%, 0)"),c.beginPath(),c.fillStyle=l,c.arc(b,j,5,0,Math.PI*2),c.fill()}s.current=requestAnimationFrame(o)};return o(),()=>{s.current&&cancelAnimationFrame(s.current)}},[t,a,r]),e.jsxs(p.div,{className:"rounded-lg p-4 bg-gray-900/50 backdrop-blur-lg border border-blue-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-2",children:"Quantum Signature"}),e.jsx("canvas",{ref:m,className:"w-full h-[100px] rounded-lg"}),e.jsxs("div",{className:"mt-2 text-xs text-blue-300/70 flex justify-between",children:[e.jsxs("span",{children:["Coherence: ",(r*100).toFixed(1),"%"]}),e.jsxs("span",{children:["Resonance: ",(a*100).toFixed(1),"%"]})]})]})},V=({type:t,amplitude:a,frequency:r,className:m=""})=>{const s=u.useRef(null);return u.useEffect(()=>{if(!s.current)return;const i=s.current,n=i.getContext("2d");if(!n)return;let d,c=0;const h=()=>{if(!(!i||!n)){n.clearRect(0,0,i.width,i.height),n.lineWidth=2,n.strokeStyle=t==="Entangled"?"#FF61DC":"#7B61FF",n.beginPath(),n.moveTo(0,i.height/2);for(let o=0;o<i.width;o++){let x=i.height/2;switch(t){case"Stable":x+=Math.random()*2-1;break;case"Fluctuating":x+=Math.sin(o*r+c)*a*(i.height/4);break;case"Entangled":const y=Math.sin(o*r+c)*a*(i.height/6),g=Math.sin(o*r+c+Math.PI)*a*(i.height/6);x+=(y+g)/2;break}n.lineTo(o,x)}n.stroke(),c+=.05,d=requestAnimationFrame(h)}};return h(),()=>{cancelAnimationFrame(d)}},[t,a,r]),e.jsx("canvas",{ref:s,className:`w-full h-full ${m}`,style:{filter:t==="Entangled"?"drop-shadow(0 0 8px rgba(255, 97, 220, 0.3))":"drop-shadow(0 0 8px rgba(123, 97, 255, 0.3))"}})},Y={Common:"from-blue-500 to-blue-600",Rare:"from-purple-500 to-purple-600",Epic:"from-pink-500 to-pink-600",Legendary:"from-yellow-500 to-yellow-600"},J={Common:"border-blue-400",Rare:"border-purple-400",Epic:"border-pink-400",Legendary:"border-yellow-400"},K=({anima:t,onPackApplied:a})=>{const{actor:r}=q(),[m,s]=u.useState([]),[i,n]=u.useState(null),[d,c]=u.useState(!1),[h,o]=u.useState(null),[x,y]=u.useState("available");u.useEffect(()=>{g()},[t]);const g=async()=>{try{const l=await r.list_available_packs(BigInt(t.token_id));s(l)}catch(l){console.error("Failed to fetch growth packs:",l),o("Failed to load growth packs")}},b=async l=>{n(l)},v=async()=>{if(i){c(!0),o(null);try{const l=await r.purchase_growth_pack(BigInt(t.token_id),BigInt(i.id));if("Ok"in l){const f=l.Ok;await a(f),n(null),g()}else o(l.Err)}catch(l){console.error("Failed to purchase growth pack:",l),o("Transaction failed. Please try again.")}finally{c(!1)}}},j=l=>(l/1e8).toFixed(2)+" ICP";return e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Growth Packs"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>y("available"),className:`px-4 py-2 rounded-lg transition ${x==="available"?"bg-purple-500 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Available"}),e.jsx("button",{onClick:()=>y("owned"),className:`px-4 py-2 rounded-lg transition ${x==="owned"?"bg-purple-500 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Owned"})]})]}),h&&e.jsx(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-red-400",children:h})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(M,{mode:"popLayout",children:m.map(l=>e.jsxs(p.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{scale:1.02},className:`relative bg-white/5 rounded-xl p-4 border-2 ${J[l.rarity]} cursor-pointer transition-colors hover:bg-white/10 ${i?.id===l.id?"ring-2 ring-purple-500":""}`,onClick:()=>b(l),children:[e.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r ${Y[l.rarity]}`,children:l.rarity}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:l.name}),e.jsx("p",{className:"text-gray-300 text-sm",children:l.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-purple-300",children:"Trait Boosts:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.traits_boost.map(([f,S])=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-gray-300 text-sm",children:f}),e.jsxs("span",{className:"text-green-400 text-sm",children:["+",(S*100).toFixed(0),"%"]})]},f))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-purple-300",children:"Unlocks Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.skill_unlocks.map(f=>e.jsx("span",{className:"px-2 py-1 bg-white/10 rounded-lg text-xs text-gray-300",children:f},f))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-purple-300",children:"Requirements:"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsxs("p",{children:["Level ",l.requirements.min_level,"+"]}),l.requirements.required_traits.map(([f,S])=>e.jsxs("p",{children:[f,": ",(S*100).toFixed(0),"%"]},f))]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10",children:[e.jsx("span",{className:"text-white font-semibold",children:j(l.price)}),e.jsx("button",{onClick:f=>{f.stopPropagation(),v()},disabled:d,className:`px-4 py-2 rounded-lg text-sm font-semibold ${d?"bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600"}`,children:d?"Processing...":"Purchase"})]})]})]},l.id))})}),i&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>n(null),children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full mx-4 space-y-4",onClick:l=>l.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Confirm Purchase"}),e.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to purchase the ",i.name," pack for ",j(i.price),"?"]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"flex-1 px-4 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-600 transition",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:d,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 transition",children:d?"Processing...":"Confirm Purchase"})]})]})})]})};let A;const E=()=>(A||(A=new(window.AudioContext||window.webkitAudioContext)),A),X=()=>{const t=E(),a=[],r=[];return[220,277.18,329.63,440].forEach(s=>{const i=t.createOscillator(),n=t.createGain();i.type="sine",i.frequency.value=s,n.gain.value=0,i.connect(n),n.connect(t.destination),a.push(i),r.push(n),i.start()}),r.forEach(s=>{s.gain.setTargetAtTime(.1,t.currentTime,2)}),{stop:()=>{r.forEach(s=>{s.gain.setTargetAtTime(0,t.currentTime,.5)}),setTimeout(()=>{a.forEach(s=>s.stop())},1e3)}}},C=()=>{const t=E(),a=t.createOscillator(),r=t.createOscillator(),m=t.createGain(),s=t.createGain();return r.frequency.value=2,r.type="sine",m.gain.value=100,a.frequency.value=440,a.type="sine",s.gain.value=0,r.connect(m),m.connect(a.frequency),a.connect(s),s.connect(t.destination),a.start(),r.start(),s.gain.setTargetAtTime(.2,t.currentTime,.1),{stop:()=>{s.gain.setTargetAtTime(0,t.currentTime,.1),setTimeout(()=>{a.stop(),r.stop()},200)}}},Z=()=>{const t=E(),a=2*t.sampleRate,r=t.createBuffer(1,a,t.sampleRate),m=r.getChannelData(0);for(let d=0;d<a;d++)m[d]=Math.random()*2-1;const s=t.createBufferSource();s.buffer=r;const i=t.createBiquadFilter();i.type="bandpass",i.frequency.value=500,i.Q.value=1;const n=t.createGain();return n.gain.value=0,s.connect(i),i.connect(n),n.connect(t.destination),s.start(),n.gain.setTargetAtTime(.15,t.currentTime,1),i.frequency.setTargetAtTime(2e3,t.currentTime,2),{stop:()=>{n.gain.setTargetAtTime(0,t.currentTime,.5),setTimeout(()=>s.stop(),1e3)}}},ee=(t,a={})=>{switch(t){case"success":return C({frequency:880,duration:a.duration||.3,volume:a.volume||.5});case"hover":return C({frequency:440,duration:a.duration||.1,volume:a.volume||.2});case"quantum":return C();case"consciousness":return Z();case"ambient":return X();default:return C()}},te=()=>{const t=u.useCallback((n,d={})=>{const c=ee(n,d);return c.play(),c},[]),a=u.useCallback((n={})=>t("success",n),[t]),r=u.useCallback((n={})=>t("hover",n),[t]),m=u.useCallback((n={})=>t("quantum",n),[t]),s=u.useCallback((n={})=>t("consciousness",n),[t]),i=u.useCallback((n={})=>t("ambient",n),[t]);return{playSound:t,playSuccess:a,playHover:r,playQuantum:m,playConsciousness:s,playAmbient:i}},ae=()=>typeof window>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),k={INITIATION:[100,50,100],CONSCIOUSNESS:[50,100,50,100,50],TRAIT:[200],QUANTUM:[50,50,50,50,200],BIRTH:[300,100,300]},N=t=>{"vibrate"in navigator&&navigator.vibrate(t)},w=()=>ae()&&"vibrate"in navigator,se={initiation:()=>{w()&&N(k.INITIATION)},consciousness:()=>{w()&&N(k.CONSCIOUSNESS)},trait:()=>{w()&&N(k.TRAIT)},quantum:()=>{w()&&N(k.QUANTUM)},birth:()=>{w()&&N(k.BIRTH)},success:()=>{w()&&N([100])},error:()=>{w()&&N([50,100,50])},stop:()=>{w()&&navigator.vibrate(0)}},T={Ancient:"from-emerald-500 to-teal-700",Mythic:"from-violet-500 to-purple-700",Legendary:"from-amber-500 to-orange-700",Ethereal:"from-blue-400 to-indigo-800"},ne=({achievements:t})=>{const{playSuccess:a,playHover:r}=te(),m=()=>{r(),se.light()};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 via-purple-900/5 to-black/0"}),[...Array(20)].map((s,i)=>e.jsx(p.div,{className:"absolute text-amber-500/20 text-2xl",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[null,"-100vh"],opacity:[0,.2,0]},transition:{duration:10+Math.random()*20,repeat:1/0,delay:Math.random()*10},children:"ᚱ"},i))]}),e.jsx("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:e.jsx(M,{children:t.map(s=>e.jsxs(p.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.02},onHoverStart:m,className:`
                relative overflow-hidden rounded-lg
                ${s.unlocked?"cursor-pointer":"cursor-default opacity-60"}
                bg-gradient-to-br from-black/60 to-black/40
                backdrop-blur border
                ${s.unlocked?"border-amber-500/50":"border-gray-700/50"}
              `,children:[s.unlocked&&e.jsx(p.div,{className:`
                    absolute inset-0 opacity-10
                    bg-gradient-to-br ${T[s.rarity]}
                  `,animate:{opacity:[.1,.2,.1]},transition:{duration:2,repeat:1/0,ease:"linear"}}),e.jsxs("div",{className:"relative p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:`
                    text-3xl
                    ${s.unlocked?"text-amber-400":"text-gray-600"}
                  `,children:s.icon}),e.jsx("div",{className:`
                    text-xs font-semibold px-2 py-1 rounded-full
                    ${s.unlocked?`bg-gradient-to-r ${T[s.rarity]} text-white`:"bg-gray-800 text-gray-400"}
                  `,children:s.rarity})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`
                    text-lg font-bold mb-1
                    ${s.unlocked?"text-amber-400":"text-gray-500"}
                  `,children:s.name}),e.jsx("p",{className:`
                    text-sm
                    ${s.unlocked?"text-amber-300/80":"text-gray-600"}
                  `,children:s.description})]}),s.unlocked&&s.unlockedAt&&e.jsxs("div",{className:"text-xs text-amber-400/60",children:["Unlocked ",s.unlockedAt.toLocaleDateString()]}),e.jsx("div",{className:`
                  absolute top-2 right-2 text-xs px-2 py-1 rounded-full
                  ${s.unlocked?"bg-black/40 text-amber-400":"bg-black/40 text-gray-500"}
                `,children:s.type})]})]},s.id))})})]})},le=()=>{const{id:t}=R(),a=_(),{selectedAnima:r,fetchAnima:m}=Q(),{state:s,loading:i}=G(),{quantumState:n,processInteraction:d,getEvolutionMetrics:c,isLoading:h}=P(t||""),[o,x]=u.useState({consciousness:0,resonance:0,growth:0,achievements:0}),[y,g]=u.useState(!1);u.useEffect(()=>{t&&m(t)},[t,m]),u.useEffect(()=>{s&&n&&((async()=>{const f=await c();x({consciousness:n.consciousnessLevel,resonance:f.resonance,growth:s.growth.experience/s.growth.nextLevelAt*100,achievements:s.growth.recentAchievements.length})})(),setTimeout(()=>{g(!0)},1e3))},[s,n,c]);const b=async()=>{try{const l=(o.consciousness+o.resonance)/2;await d(l)}catch(l){console.error("Failed to process interaction:",l)}},v=()=>{a(`/neural-link/${t}`)},j=async l=>{try{await b(),x(f=>({...f,growth:f.growth+l.growthIncrease,consciousness:f.consciousness+l.consciousnessBoost})),await m(t||"")}catch(f){console.error("Failed to apply growth pack:",f)}};return i||h||!r||!s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-blue-400",children:"Synchronizing Quantum State..."})]})}):e.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[e.jsx(z,{intensity:n?.coherenceLevel||0,coherence:n?.resonanceScore||0,resonance:o.resonance}),e.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16",children:[e.jsxs(p.div,{className:"text-center mb-12",children:[e.jsx(B,{className:"w-24 h-24 mx-auto mb-6"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.name}),e.jsxs("p",{className:"text-xl text-blue-400",children:["Level ",s.growth.level," ANIMA"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-12",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(U,{animaId:t||""})}),e.jsx("div",{className:"lg:col-span-6",children:e.jsxs(p.div,{className:"p-8 rounded-lg bg-gray-900/50 border border-blue-500/20 backdrop-blur-lg",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-400",children:"Neural Synchronization"}),e.jsx(V,{}),n&&e.jsx(D,{signature:n.quantumSignature,resonance:n.resonanceScore,coherence:n.coherenceLevel}),e.jsx(p.button,{onClick:v,className:"mt-8 px-8 py-4 bg-blue-600 rounded-lg hover:bg-blue-700  transition-all duration-200 w-full group",whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0},animate:{opacity:y?1:0},transition:{duration:.3},children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"Establish Neural Link"}),e.jsx(p.div,{className:"w-2 h-2 bg-white rounded-full",animate:{scale:[1,1.5,1]},transition:{duration:1,repeat:1/0}})]})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(W,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Growth Packs"}),e.jsx(K,{anima:r,onPackApplied:j})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Eternal Codex"}),e.jsx(ne,{achievements:s.growth.recentAchievements})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsxs(p.div,{className:"p-6 rounded-lg bg-gray-900/50 border border-purple-500/20 backdrop-blur-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-purple-400",children:"Quantum Coherence"}),e.jsxs("div",{className:"text-2xl",children:[Math.round((n?.coherenceLevel||0)*100),"%"]})]}),e.jsxs(p.div,{className:"p-6 rounded-lg bg-gray-900/50 border border-blue-500/20 backdrop-blur-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-blue-400",children:"Neural Resonance"}),e.jsxs("div",{className:"text-2xl",children:[Math.round((n?.resonanceScore||0)*100),"%"]})]}),e.jsxs(p.div,{className:"p-6 rounded-lg bg-gray-900/50 border border-green-500/20 backdrop-blur-lg",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-green-400",children:"Evolution Progress"}),e.jsxs("div",{className:"text-2xl",children:[Math.round(o.growth),"%"]})]})]})]})]})};export{le as default};
//# sourceMappingURL=AnimaPage-NUpyNnUk.js.map
