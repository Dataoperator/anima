import{r as n}from"./vendor-DMORb-JD.js";import{u as A}from"./useAuth-BPIBBZIh.js";import{H as d}from"./dfinity-TOns67gM.js";import{c as w,b as E}from"./main-DOjFPmdr.js";import{j as v}from"./framer-B_r9gDg5.js";const F=()=>{const{identity:e,actor:a}=A(),[o,h]=n.useState([]),[g,t]=n.useState(!0),[r,i]=n.useState(null),[l,f]=n.useState(null),c=n.useCallback(async()=>{if(!(!a||!e))try{t(!0);const s=e.getPrincipal(),u=await a.get_user_animas(s);return h(u),u}catch(s){console.error("Error fetching animas:",s),i(s.message)}finally{t(!1)}},[a,e]),m=n.useCallback(async s=>{if(!a)return null;try{const u=await a.get_anima(s);return f(u),u}catch(u){return console.error("Error fetching anima:",u),i(u.message),null}},[a]),b=n.useCallback(async()=>{if(!a||!e)return null;try{t(!0);const s=await a.create_anima();return await c(),s}catch(s){return console.error("Error creating anima:",s),i(s.message),null}finally{t(!1)}},[a,e,c]);return n.useEffect(()=>{c()},[c]),{animas:o,activeAnima:l,loading:g,error:r,fetchUserAnimas:c,getAnima:m,createAnima:b,actor:a}},k=()=>{const{identity:e}=A();return{getActor:n.useCallback(async()=>{if(!e)throw new Error("No identity available");const o=new d({identity:e});return w(E,{agent:o})},[e])}},M=e=>{const[a,o]=n.useState(!1),[h,g]=n.useState(!1),t=k(),r=n.useCallback(async()=>null,[t,e]),i=n.useCallback(async f=>!1,[t,e]),l=n.useCallback(async()=>null,[t,e]);return{observeState:r,initiateEntanglement:i,getMetrics:l,isObserving:a,isEntangling:h}},I=({type:e,amplitude:a,frequency:o,className:h=""})=>{const g=n.useRef(null);return n.useEffect(()=>{if(!g.current)return;const t=g.current,r=t.getContext("2d");if(!r)return;let i,l=0;const f=()=>{if(!(!t||!r)){r.clearRect(0,0,t.width,t.height),r.lineWidth=2,r.strokeStyle=e==="Entangled"?"#FF61DC":"#7B61FF",r.beginPath(),r.moveTo(0,t.height/2);for(let c=0;c<t.width;c++){let m=t.height/2;switch(e){case"Stable":m+=Math.random()*2-1;break;case"Fluctuating":m+=Math.sin(c*o+l)*a*(t.height/4);break;case"Entangled":const b=Math.sin(c*o+l)*a*(t.height/6),s=Math.sin(c*o+l+Math.PI)*a*(t.height/6);m+=(b+s)/2;break}r.lineTo(c,m)}r.stroke(),l+=.05,i=requestAnimationFrame(f)}};return f(),()=>{cancelAnimationFrame(i)}},[e,a,o]),v.jsx("canvas",{ref:g,className:`w-full h-full ${h}`,style:{filter:e==="Entangled"?"drop-shadow(0 0 8px rgba(255, 97, 220, 0.3))":"drop-shadow(0 0 8px rgba(123, 97, 255, 0.3))"}})};export{I as W,M as a,F as u};
//# sourceMappingURL=WaveformGenerator-CQRpQMOQ.js.map
