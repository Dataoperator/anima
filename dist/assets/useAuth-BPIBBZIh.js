import{r as o}from"./vendor-DMORb-JD.js";import{i as a}from"./main-DOjFPmdr.js";function d(){const[c,s]=o.useState(!1),[i,t]=o.useState(!0),[l,r]=o.useState(null),n=o.useCallback(async()=>{try{const u=a.getIdentity()?.getPrincipal().isAnonymous();s(!u)}catch(e){console.error("Auth check failed:",e),r(e instanceof Error?e.message:"Authentication check failed")}finally{t(!1)}},[]);return o.useEffect(()=>{n()},[n]),{isAuthenticated:c,isLoading:i,error:l,login:async()=>{try{if(t(!0),r(null),await a.login())return s(!0),!0;throw new Error("Login failed")}catch(e){return console.error("Login error:",e),r(e instanceof Error?e.message:"Login failed"),!1}finally{t(!1)}},logout:async()=>{try{t(!0),r(null),await a.logout(),s(!1)}catch(e){console.error("Logout error:",e),r(e instanceof Error?e.message:"Logout failed")}finally{t(!1)}},checkAuth:n}}export{d as u};
//# sourceMappingURL=useAuth-BPIBBZIh.js.map
