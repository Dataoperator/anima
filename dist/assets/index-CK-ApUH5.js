import{g as bi,f as st,r as H,j as z,m as De,A as vi,i as ze,_ as $e,E as wi,h as Er,P as St,k as Ei,l as Si}from"./neural-interface-Ccv7oDsD.js";import{r as _i,u as Ai,a as Ri,O as Ti,c as Oi,b as Ii,y as Pi,g as Bi,w as ji,h as Mi,E as Rn,d as it,e as ot,L as Pe,i as Li,f as xi,R as Ni}from"./quantum-vault-o2MgRmAb.js";import{a as xr,q as _e,D as Ci}from"./quantum-core-DW8Yjz_b.js";function Sr(i,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const f in s)if(f!=="default"&&!(f in i)){const u=Object.getOwnPropertyDescriptor(s,f);u&&Object.defineProperty(i,f,u.get?u:{enumerable:!0,get:()=>s[f]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const u of f)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(f){const u={};return f.integrity&&(u.integrity=f.integrity),f.referrerPolicy&&(u.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?u.credentials="include":f.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(f){if(f.ep)return;f.ep=!0;const u=r(f);fetch(f.href,u)}})();var Tn={exports:{}},ae=Tn.exports={},Re,Te;function fr(){throw new Error("setTimeout has not been defined")}function ur(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Re=setTimeout:Re=fr}catch{Re=fr}try{typeof clearTimeout=="function"?Te=clearTimeout:Te=ur}catch{Te=ur}})();function On(i){if(Re===setTimeout)return setTimeout(i,0);if((Re===fr||!Re)&&setTimeout)return Re=setTimeout,setTimeout(i,0);try{return Re(i,0)}catch{try{return Re.call(null,i,0)}catch{return Re.call(this,i,0)}}}function Ui(i){if(Te===clearTimeout)return clearTimeout(i);if((Te===ur||!Te)&&clearTimeout)return Te=clearTimeout,clearTimeout(i);try{return Te(i)}catch{try{return Te.call(null,i)}catch{return Te.call(this,i)}}}var Oe=[],Ke=!1,Fe,pt=-1;function Di(){!Ke||!Fe||(Ke=!1,Fe.length?Oe=Fe.concat(Oe):pt=-1,Oe.length&&In())}function In(){if(!Ke){var i=On(Di);Ke=!0;for(var t=Oe.length;t;){for(Fe=Oe,Oe=[];++pt<t;)Fe&&Fe[pt].run();pt=-1,t=Oe.length}Fe=null,Ke=!1,Ui(i)}}ae.nextTick=function(i){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Oe.push(new Pn(i,t)),Oe.length===1&&!Ke&&On(In)};function Pn(i,t){this.fun=i,this.array=t}Pn.prototype.run=function(){this.fun.apply(null,this.array)};ae.title="browser";ae.browser=!0;ae.env={};ae.argv=[];ae.version="";ae.versions={};function Ie(){}ae.on=Ie;ae.addListener=Ie;ae.once=Ie;ae.off=Ie;ae.removeListener=Ie;ae.removeAllListeners=Ie;ae.emit=Ie;ae.prependListener=Ie;ae.prependOnceListener=Ie;ae.listeners=function(i){return[]};ae.binding=function(i){throw new Error("process.binding is not supported")};ae.cwd=function(){return"/"};ae.chdir=function(i){throw new Error("process.chdir is not supported")};ae.umask=function(){return 0};var Nr=Tn.exports;const Fi=Sr({__proto__:null,default:Nr},[Nr]);var lr={},Bn={},jn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),s=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var f=42;t[r]=f;for(var u in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==f||a.enumerable!==!0)return!1}return!0},ki=jn,It=function(){return ki()&&!!Symbol.toStringTag},Mn=Object,$i=Error,qi=EvalError,zi=RangeError,Wi=ReferenceError,Ln=SyntaxError,ft=TypeError,Gi=URIError,Hi=Math.abs,Vi=Math.floor,Yi=Math.max,Qi=Math.min,Ki=Math.pow,Xi=Math.round,Ji=Number.isNaN||function(t){return t!==t},Zi=Ji,eo=function(t){return Zi(t)||t===0?t:t<0?-1:1},to=Object.getOwnPropertyDescriptor,yt=to;if(yt)try{yt([],"length")}catch{yt=null}var tt=yt,gt=Object.defineProperty||!1;if(gt)try{gt({},"a",{value:1})}catch{gt=!1}var Pt=gt,Mt,Cr;function ro(){if(Cr)return Mt;Cr=1;var i=typeof Symbol<"u"&&Symbol,t=jn;return Mt=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Mt}var Lt,Ur;function xn(){return Ur||(Ur=1,Lt=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Lt}var xt,Dr;function Nn(){if(Dr)return xt;Dr=1;var i=Mn;return xt=i.getPrototypeOf||null,xt}var no="Function.prototype.bind called on incompatible ",io=Object.prototype.toString,oo=Math.max,ao="[object Function]",Fr=function(t,r){for(var s=[],f=0;f<t.length;f+=1)s[f]=t[f];for(var u=0;u<r.length;u+=1)s[u+t.length]=r[u];return s},so=function(t,r){for(var s=[],f=r,u=0;f<t.length;f+=1,u+=1)s[u]=t[f];return s},fo=function(i,t){for(var r="",s=0;s<i.length;s+=1)r+=i[s],s+1<i.length&&(r+=t);return r},uo=function(t){var r=this;if(typeof r!="function"||io.apply(r)!==ao)throw new TypeError(no+r);for(var s=so(arguments,1),f,u=function(){if(this instanceof f){var _=r.apply(this,Fr(s,arguments));return Object(_)===_?_:this}return r.apply(t,Fr(s,arguments))},h=oo(0,r.length-s.length),a=[],d=0;d<h;d++)a[d]="$"+d;if(f=Function("binder","return function ("+fo(a,",")+"){ return binder.apply(this,arguments); }")(u),r.prototype){var w=function(){};w.prototype=r.prototype,f.prototype=new w,w.prototype=null}return f},lo=uo,ut=Function.prototype.bind||lo,_r=Function.prototype.call,Ar=Function.prototype.apply,co=typeof Reflect<"u"&&Reflect&&Reflect.apply,ho=ut,po=Ar,yo=_r,go=co,Cn=go||ho.call(yo,po),mo=ut,bo=ft,vo=_r,wo=Cn,Rr=function(t){if(t.length<1||typeof t[0]!="function")throw new bo("a function is required");return wo(mo,vo,t)},Nt,kr;function Eo(){if(kr)return Nt;kr=1;var i=Rr,t=tt,r;try{r=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var s=!!r&&t&&t(Object.prototype,"__proto__"),f=Object,u=f.getPrototypeOf;return Nt=s&&typeof s.get=="function"?i([s.get]):typeof u=="function"?function(a){return u(a==null?a:f(a))}:!1,Nt}var Ct,$r;function Un(){if($r)return Ct;$r=1;var i=xn(),t=Nn(),r=Eo();return Ct=i?function(f){return i(f)}:t?function(f){if(!f||typeof f!="object"&&typeof f!="function")throw new TypeError("getProto: not an object");return t(f)}:r?function(f){return r(f)}:null,Ct}var So=Function.prototype.call,_o=Object.prototype.hasOwnProperty,Ao=ut,Dn=Ao.call(So,_o),Y,Ro=Mn,To=$i,Oo=qi,Io=zi,Po=Wi,Ze=Ln,Xe=ft,Bo=Gi,jo=Hi,Mo=Vi,Lo=Yi,xo=Qi,No=Ki,Co=Xi,Uo=eo,Fn=Function,Ut=function(i){try{return Fn('"use strict"; return ('+i+").constructor;")()}catch{}},at=tt,Do=Pt,Dt=function(){throw new Xe},Fo=at?function(){try{return arguments.callee,Dt}catch{try{return at(arguments,"callee").get}catch{return Dt}}}():Dt,We=ro()(),le=Un(),ko=Nn(),$o=xn(),kn=Ar,lt=_r,Ye={},qo=typeof Uint8Array>"u"||!le?Y:le(Uint8Array),ke={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Y:ArrayBuffer,"%ArrayIteratorPrototype%":We&&le?le([][Symbol.iterator]()):Y,"%AsyncFromSyncIteratorPrototype%":Y,"%AsyncFunction%":Ye,"%AsyncGenerator%":Ye,"%AsyncGeneratorFunction%":Ye,"%AsyncIteratorPrototype%":Ye,"%Atomics%":typeof Atomics>"u"?Y:Atomics,"%BigInt%":typeof BigInt>"u"?Y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":To,"%eval%":eval,"%EvalError%":Oo,"%Float32Array%":typeof Float32Array>"u"?Y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Y:FinalizationRegistry,"%Function%":Fn,"%GeneratorFunction%":Ye,"%Int8Array%":typeof Int8Array>"u"?Y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":We&&le?le(le([][Symbol.iterator]())):Y,"%JSON%":typeof JSON=="object"?JSON:Y,"%Map%":typeof Map>"u"?Y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!We||!le?Y:le(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Ro,"%Object.getOwnPropertyDescriptor%":at,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Y:Promise,"%Proxy%":typeof Proxy>"u"?Y:Proxy,"%RangeError%":Io,"%ReferenceError%":Po,"%Reflect%":typeof Reflect>"u"?Y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!We||!le?Y:le(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":We&&le?le(""[Symbol.iterator]()):Y,"%Symbol%":We?Symbol:Y,"%SyntaxError%":Ze,"%ThrowTypeError%":Fo,"%TypedArray%":qo,"%TypeError%":Xe,"%Uint8Array%":typeof Uint8Array>"u"?Y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Y:Uint32Array,"%URIError%":Bo,"%WeakMap%":typeof WeakMap>"u"?Y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Y:WeakSet,"%Function.prototype.call%":lt,"%Function.prototype.apply%":kn,"%Object.defineProperty%":Do,"%Object.getPrototypeOf%":ko,"%Math.abs%":jo,"%Math.floor%":Mo,"%Math.max%":Lo,"%Math.min%":xo,"%Math.pow%":No,"%Math.round%":Co,"%Math.sign%":Uo,"%Reflect.getPrototypeOf%":$o};if(le)try{null.error}catch(i){var zo=le(le(i));ke["%Error.prototype%"]=zo}var Wo=function i(t){var r;if(t==="%AsyncFunction%")r=Ut("async function () {}");else if(t==="%GeneratorFunction%")r=Ut("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Ut("async function* () {}");else if(t==="%AsyncGenerator%"){var s=i("%AsyncGeneratorFunction%");s&&(r=s.prototype)}else if(t==="%AsyncIteratorPrototype%"){var f=i("%AsyncGenerator%");f&&le&&(r=le(f.prototype))}return ke[t]=r,r},qr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ct=ut,_t=Dn,Go=ct.call(lt,Array.prototype.concat),Ho=ct.call(kn,Array.prototype.splice),zr=ct.call(lt,String.prototype.replace),At=ct.call(lt,String.prototype.slice),Vo=ct.call(lt,RegExp.prototype.exec),Yo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qo=/\\(\\)?/g,Ko=function(t){var r=At(t,0,1),s=At(t,-1);if(r==="%"&&s!=="%")throw new Ze("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&r!=="%")throw new Ze("invalid intrinsic syntax, expected opening `%`");var f=[];return zr(t,Yo,function(u,h,a,d){f[f.length]=a?zr(d,Qo,"$1"):h||u}),f},Xo=function(t,r){var s=t,f;if(_t(qr,s)&&(f=qr[s],s="%"+f[0]+"%"),_t(ke,s)){var u=ke[s];if(u===Ye&&(u=Wo(s)),typeof u>"u"&&!r)throw new Xe("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:f,name:s,value:u}}throw new Ze("intrinsic "+t+" does not exist!")},$n=function(t,r){if(typeof t!="string"||t.length===0)throw new Xe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xe('"allowMissing" argument must be a boolean');if(Vo(/^%?[^%]*%?$/,t)===null)throw new Ze("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=Ko(t),f=s.length>0?s[0]:"",u=Xo("%"+f+"%",r),h=u.name,a=u.value,d=!1,w=u.alias;w&&(f=w[0],Ho(s,Go([0,1],w)));for(var _=1,O=!0;_<s.length;_+=1){var I=s[_],U=At(I,0,1),S=At(I,-1);if((U==='"'||U==="'"||U==="`"||S==='"'||S==="'"||S==="`")&&U!==S)throw new Ze("property names with quotes must have matching quotes");if((I==="constructor"||!O)&&(d=!0),f+="."+I,h="%"+f+"%",_t(ke,h))a=ke[h];else if(a!=null){if(!(I in a)){if(!r)throw new Xe("base intrinsic for "+t+" exists, but the property is not available.");return}if(at&&_+1>=s.length){var M=at(a,I);O=!!M,O&&"get"in M&&!("originalValue"in M.get)?a=M.get:a=a[I]}else O=_t(a,I),a=a[I];O&&!d&&(ke[h]=a)}}return a},qn=$n,zn=Rr,Jo=zn([qn("%String.prototype.indexOf%")]),ht=function(t,r){var s=qn(t,!!r);return typeof s=="function"&&Jo(t,".prototype.")>-1?zn([s]):s},Zo=It(),ea=ht,cr=ea("Object.prototype.toString"),Bt=function(t){return Zo&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:cr(t)==="[object Arguments]"},Wn=function(t){return Bt(t)?!0:t!==null&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&t.length>=0&&cr(t)!=="[object Array]"&&"callee"in t&&cr(t.callee)==="[object Function]"},ta=function(){return Bt(arguments)}();Bt.isLegacyArguments=Wn;var ra=ta?Bt:Wn,Wr=ht,na=It(),ia=Dn,oa=tt,hr;if(na){var aa=Wr("RegExp.prototype.exec"),Gr={},Ft=function(){throw Gr},Hr={toString:Ft,valueOf:Ft};typeof Symbol.toPrimitive=="symbol"&&(Hr[Symbol.toPrimitive]=Ft),hr=function(t){if(!t||typeof t!="object")return!1;var r=oa(t,"lastIndex"),s=r&&ia(r,"value");if(!s)return!1;try{aa(t,Hr)}catch(f){return f===Gr}}}else{var sa=Wr("Object.prototype.toString"),fa="[object RegExp]";hr=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:sa(t)===fa}}var ua=hr,la=ht,ca=ua,ha=la("RegExp.prototype.exec"),da=ft,pa=function(t){if(!ca(t))throw new da("`regex` must be a RegExp");return function(s){return ha(t,s)!==null}},Gn=ht,ya=pa,ga=ya(/^\s*(?:function)?\*/),Hn=It(),kt=Un(),ma=Gn("Object.prototype.toString"),ba=Gn("Function.prototype.toString"),va=function(){if(!Hn)return!1;try{return Function("return function*() {}")()}catch{}},$t,wa=function(t){if(typeof t!="function")return!1;if(ga(ba(t)))return!0;if(!Hn){var r=ma(t);return r==="[object GeneratorFunction]"}if(!kt)return!1;if(typeof $t>"u"){var s=va();$t=s?kt(s):!1}return kt(t)===$t},Vn=Function.prototype.toString,Qe=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,dr,mt;if(typeof Qe=="function"&&typeof Object.defineProperty=="function")try{dr=Object.defineProperty({},"length",{get:function(){throw mt}}),mt={},Qe(function(){throw 42},null,dr)}catch(i){i!==mt&&(Qe=null)}else Qe=null;var Ea=/^\s*class\b/,pr=function(t){try{var r=Vn.call(t);return Ea.test(r)}catch{return!1}},qt=function(t){try{return pr(t)?!1:(Vn.call(t),!0)}catch{return!1}},bt=Object.prototype.toString,Sa="[object Object]",_a="[object Function]",Aa="[object GeneratorFunction]",Ra="[object HTMLAllCollection]",Ta="[object HTML document.all class]",Oa="[object HTMLCollection]",Ia=typeof Symbol=="function"&&!!Symbol.toStringTag,Pa=!(0 in[,]),yr=function(){return!1};if(typeof document=="object"){var Ba=document.all;bt.call(Ba)===bt.call(document.all)&&(yr=function(t){if((Pa||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=bt.call(t);return(r===Ra||r===Ta||r===Oa||r===Sa)&&t("")==null}catch{}return!1})}var ja=Qe?function(t){if(yr(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Qe(t,null,dr)}catch(r){if(r!==mt)return!1}return!pr(t)&&qt(t)}:function(t){if(yr(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Ia)return qt(t);if(pr(t))return!1;var r=bt.call(t);return r!==_a&&r!==Aa&&!/^\[object HTML/.test(r)?!1:qt(t)},Ma=ja,La=Object.prototype.toString,Yn=Object.prototype.hasOwnProperty,xa=function(t,r,s){for(var f=0,u=t.length;f<u;f++)Yn.call(t,f)&&(s==null?r(t[f],f,t):r.call(s,t[f],f,t))},Na=function(t,r,s){for(var f=0,u=t.length;f<u;f++)s==null?r(t.charAt(f),f,t):r.call(s,t.charAt(f),f,t)},Ca=function(t,r,s){for(var f in t)Yn.call(t,f)&&(s==null?r(t[f],f,t):r.call(s,t[f],f,t))},Ua=function(t,r,s){if(!Ma(r))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=s),La.call(t)==="[object Array]"?xa(t,r,f):typeof t=="string"?Na(t,r,f):Ca(t,r,f)},Da=Ua,Fa=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],zt=Fa,ka=globalThis,$a=function(){for(var t=[],r=0;r<zt.length;r++)typeof ka[zt[r]]=="function"&&(t[t.length]=zt[r]);return t},Qn={exports:{}},Vr=Pt,qa=Ln,Ge=ft,Yr=tt,za=function(t,r,s){if(!t||typeof t!="object"&&typeof t!="function")throw new Ge("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ge("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ge("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ge("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ge("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ge("`loose`, if provided, must be a boolean");var f=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,d=!!Yr&&Yr(t,r);if(Vr)Vr(t,r,{configurable:h===null&&d?d.configurable:!h,enumerable:f===null&&d?d.enumerable:!f,value:s,writable:u===null&&d?d.writable:!u});else if(a||!f&&!u&&!h)t[r]=s;else throw new qa("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},gr=Pt,Kn=function(){return!!gr};Kn.hasArrayLengthDefineBug=function(){if(!gr)return null;try{return gr([],"length",{value:1}).length!==1}catch{return!0}};var Wa=Kn,Ga=$n,Qr=za,Ha=Wa(),Kr=tt,Xr=ft,Va=Ga("%Math.floor%"),Ya=function(t,r){if(typeof t!="function")throw new Xr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Va(r)!==r)throw new Xr("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],f=!0,u=!0;if("length"in t&&Kr){var h=Kr(t,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(u=!1)}return(f||u||!s)&&(Ha?Qr(t,"length",r,!0,!0):Qr(t,"length",r)),t},Qa=ut,Ka=Ar,Xa=Cn,Ja=function(){return Xa(Qa,Ka,arguments)};(function(i){var t=Ya,r=Pt,s=Rr,f=Ja;i.exports=function(h){var a=s(arguments),d=h.length-(arguments.length-1);return t(a,1+(d>0?d:0),!0)},r?r(i.exports,"apply",{value:f}):i.exports.apply=f})(Qn);var Za=Qn.exports,Rt=Da,es=$a,Jr=Za,Tr=ht,vt=tt,ts=Tr("Object.prototype.toString"),Xn=It(),Zr=globalThis,mr=es(),Or=Tr("String.prototype.slice"),Wt=Object.getPrototypeOf,rs=Tr("Array.prototype.indexOf",!0)||function(t,r){for(var s=0;s<t.length;s+=1)if(t[s]===r)return s;return-1},Tt={__proto__:null};Xn&&vt&&Wt?Rt(mr,function(i){var t=new Zr[i];if(Symbol.toStringTag in t){var r=Wt(t),s=vt(r,Symbol.toStringTag);if(!s){var f=Wt(r);s=vt(f,Symbol.toStringTag)}Tt["$"+i]=Jr(s.get)}}):Rt(mr,function(i){var t=new Zr[i],r=t.slice||t.set;r&&(Tt["$"+i]=Jr(r))});var ns=function(t){var r=!1;return Rt(Tt,function(s,f){if(!r)try{"$"+s(t)===f&&(r=Or(f,1))}catch{}}),r},is=function(t){var r=!1;return Rt(Tt,function(s,f){if(!r)try{s(t),r=Or(f,1)}catch{}}),r},Jn=function(t){if(!t||typeof t!="object")return!1;if(!Xn){var r=Or(ts(t),8,-1);return rs(mr,r)>-1?r:r!=="Object"?!1:is(t)}return vt?ns(t):null},os=Jn,as=function(t){return!!os(t)};(function(i){var t=ra,r=wa,s=Jn,f=as;function u(N){return N.call.bind(N)}var h=typeof BigInt<"u",a=typeof Symbol<"u",d=u(Object.prototype.toString),w=u(Number.prototype.valueOf),_=u(String.prototype.valueOf),O=u(Boolean.prototype.valueOf);if(h)var I=u(BigInt.prototype.valueOf);if(a)var U=u(Symbol.prototype.valueOf);function S(N,Le){if(typeof N!="object")return!1;try{return Le(N),!0}catch{return!1}}i.isArgumentsObject=t,i.isGeneratorFunction=r,i.isTypedArray=f;function M(N){return typeof Promise<"u"&&N instanceof Promise||N!==null&&typeof N=="object"&&typeof N.then=="function"&&typeof N.catch=="function"}i.isPromise=M;function L(N){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(N):f(N)||b(N)}i.isArrayBufferView=L;function y(N){return s(N)==="Uint8Array"}i.isUint8Array=y;function A(N){return s(N)==="Uint8ClampedArray"}i.isUint8ClampedArray=A;function R(N){return s(N)==="Uint16Array"}i.isUint16Array=R;function j(N){return s(N)==="Uint32Array"}i.isUint32Array=j;function C(N){return s(N)==="Int8Array"}i.isInt8Array=C;function k(N){return s(N)==="Int16Array"}i.isInt16Array=k;function X(N){return s(N)==="Int32Array"}i.isInt32Array=X;function G(N){return s(N)==="Float32Array"}i.isFloat32Array=G;function W(N){return s(N)==="Float64Array"}i.isFloat64Array=W;function ne(N){return s(N)==="BigInt64Array"}i.isBigInt64Array=ne;function de(N){return s(N)==="BigUint64Array"}i.isBigUint64Array=de;function fe(N){return d(N)==="[object Map]"}fe.working=typeof Map<"u"&&fe(new Map);function ue(N){return typeof Map>"u"?!1:fe.working?fe(N):N instanceof Map}i.isMap=ue;function ge(N){return d(N)==="[object Set]"}ge.working=typeof Set<"u"&&ge(new Set);function me(N){return typeof Set>"u"?!1:ge.working?ge(N):N instanceof Set}i.isSet=me;function pe(N){return d(N)==="[object WeakMap]"}pe.working=typeof WeakMap<"u"&&pe(new WeakMap);function be(N){return typeof WeakMap>"u"?!1:pe.working?pe(N):N instanceof WeakMap}i.isWeakMap=be;function ye(N){return d(N)==="[object WeakSet]"}ye.working=typeof WeakSet<"u"&&ye(new WeakSet);function ce(N){return ye(N)}i.isWeakSet=ce;function oe(N){return d(N)==="[object ArrayBuffer]"}oe.working=typeof ArrayBuffer<"u"&&oe(new ArrayBuffer);function J(N){return typeof ArrayBuffer>"u"?!1:oe.working?oe(N):N instanceof ArrayBuffer}i.isArrayBuffer=J;function Z(N){return d(N)==="[object DataView]"}Z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Z(new DataView(new ArrayBuffer(1),0,1));function b(N){return typeof DataView>"u"?!1:Z.working?Z(N):N instanceof DataView}i.isDataView=b;var E=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function B(N){return d(N)==="[object SharedArrayBuffer]"}function g(N){return typeof E>"u"?!1:(typeof B.working>"u"&&(B.working=B(new E)),B.working?B(N):N instanceof E)}i.isSharedArrayBuffer=g;function m(N){return d(N)==="[object AsyncFunction]"}i.isAsyncFunction=m;function T(N){return d(N)==="[object Map Iterator]"}i.isMapIterator=T;function D(N){return d(N)==="[object Set Iterator]"}i.isSetIterator=D;function q(N){return d(N)==="[object Generator]"}i.isGeneratorObject=q;function l(N){return d(N)==="[object WebAssembly.Module]"}i.isWebAssemblyCompiledModule=l;function c(N){return S(N,w)}i.isNumberObject=c;function x(N){return S(N,_)}i.isStringObject=x;function $(N){return S(N,O)}i.isBooleanObject=$;function K(N){return h&&S(N,I)}i.isBigIntObject=K;function V(N){return a&&S(N,U)}i.isSymbolObject=V;function Q(N){return c(N)||x(N)||$(N)||K(N)||V(N)}i.isBoxedPrimitive=Q;function Se(N){return typeof Uint8Array<"u"&&(J(N)||g(N))}i.isAnyArrayBuffer=Se,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(N){Object.defineProperty(i,N,{enumerable:!1,value:function(){throw new Error(N+" is not supported in userland")}})})})(Bn);var ss=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},br={exports:{}};typeof Object.create=="function"?br.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:br.exports=function(t,r){if(r){t.super_=r;var s=function(){};s.prototype=r.prototype,t.prototype=new s,t.prototype.constructor=t}};var qe=br.exports;(function(i){var t={NODE_ENV:'"production"',DFX_NETWORK:'"ic"'},r=Object.getOwnPropertyDescriptors||function(E){for(var B=Object.keys(E),g={},m=0;m<B.length;m++)g[B[m]]=Object.getOwnPropertyDescriptor(E,B[m]);return g},s=/%[sdj%]/g;i.format=function(b){if(!k(b)){for(var E=[],B=0;B<arguments.length;B++)E.push(a(arguments[B]));return E.join(" ")}for(var B=1,g=arguments,m=g.length,T=String(b).replace(s,function(q){if(q==="%%")return"%";if(B>=m)return q;switch(q){case"%s":return String(g[B++]);case"%d":return Number(g[B++]);case"%j":try{return JSON.stringify(g[B++])}catch{return"[Circular]"}default:return q}}),D=g[B];B<m;D=g[++B])R(D)||!ne(D)?T+=" "+D:T+=" "+a(D);return T},i.deprecate=function(b,E){if(typeof process<"u"&&process.noDeprecation===!0)return b;if(typeof process>"u")return function(){return i.deprecate(b,E).apply(this,arguments)};var B=!1;function g(){if(!B){if(process.throwDeprecation)throw new Error(E);process.traceDeprecation?console.trace(E):console.error(E),B=!0}return b.apply(this,arguments)}return g};var f={},u=/^$/;if(t.NODE_DEBUG){var h=t.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+h+"$","i")}i.debuglog=function(b){if(b=b.toUpperCase(),!f[b])if(u.test(b)){var E=process.pid;f[b]=function(){var B=i.format.apply(i,arguments);console.error("%s %d: %s",b,E,B)}}else f[b]=function(){};return f[b]};function a(b,E){var B={seen:[],stylize:w};return arguments.length>=3&&(B.depth=arguments[2]),arguments.length>=4&&(B.colors=arguments[3]),A(E)?B.showHidden=E:E&&i._extend(B,E),G(B.showHidden)&&(B.showHidden=!1),G(B.depth)&&(B.depth=2),G(B.colors)&&(B.colors=!1),G(B.customInspect)&&(B.customInspect=!0),B.colors&&(B.stylize=d),O(B,b,B.depth)}i.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(b,E){var B=a.styles[E];return B?"\x1B["+a.colors[B][0]+"m"+b+"\x1B["+a.colors[B][1]+"m":b}function w(b,E){return b}function _(b){var E={};return b.forEach(function(B,g){E[B]=!0}),E}function O(b,E,B){if(b.customInspect&&E&&ue(E.inspect)&&E.inspect!==i.inspect&&!(E.constructor&&E.constructor.prototype===E)){var g=E.inspect(B,b);return k(g)||(g=O(b,g,B)),g}var m=I(b,E);if(m)return m;var T=Object.keys(E),D=_(T);if(b.showHidden&&(T=Object.getOwnPropertyNames(E)),fe(E)&&(T.indexOf("message")>=0||T.indexOf("description")>=0))return U(E);if(T.length===0){if(ue(E)){var q=E.name?": "+E.name:"";return b.stylize("[Function"+q+"]","special")}if(W(E))return b.stylize(RegExp.prototype.toString.call(E),"regexp");if(de(E))return b.stylize(Date.prototype.toString.call(E),"date");if(fe(E))return U(E)}var l="",c=!1,x=["{","}"];if(y(E)&&(c=!0,x=["[","]"]),ue(E)){var $=E.name?": "+E.name:"";l=" [Function"+$+"]"}if(W(E)&&(l=" "+RegExp.prototype.toString.call(E)),de(E)&&(l=" "+Date.prototype.toUTCString.call(E)),fe(E)&&(l=" "+U(E)),T.length===0&&(!c||E.length==0))return x[0]+l+x[1];if(B<0)return W(E)?b.stylize(RegExp.prototype.toString.call(E),"regexp"):b.stylize("[Object]","special");b.seen.push(E);var K;return c?K=S(b,E,B,D,T):K=T.map(function(V){return M(b,E,B,D,V,c)}),b.seen.pop(),L(K,l,x)}function I(b,E){if(G(E))return b.stylize("undefined","undefined");if(k(E)){var B="'"+JSON.stringify(E).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return b.stylize(B,"string")}if(C(E))return b.stylize(""+E,"number");if(A(E))return b.stylize(""+E,"boolean");if(R(E))return b.stylize("null","null")}function U(b){return"["+Error.prototype.toString.call(b)+"]"}function S(b,E,B,g,m){for(var T=[],D=0,q=E.length;D<q;++D)ce(E,String(D))?T.push(M(b,E,B,g,String(D),!0)):T.push("");return m.forEach(function(l){l.match(/^\d+$/)||T.push(M(b,E,B,g,l,!0))}),T}function M(b,E,B,g,m,T){var D,q,l;if(l=Object.getOwnPropertyDescriptor(E,m)||{value:E[m]},l.get?l.set?q=b.stylize("[Getter/Setter]","special"):q=b.stylize("[Getter]","special"):l.set&&(q=b.stylize("[Setter]","special")),ce(g,m)||(D="["+m+"]"),q||(b.seen.indexOf(l.value)<0?(R(B)?q=O(b,l.value,null):q=O(b,l.value,B-1),q.indexOf(`
`)>-1&&(T?q=q.split(`
`).map(function(c){return"  "+c}).join(`
`).slice(2):q=`
`+q.split(`
`).map(function(c){return"   "+c}).join(`
`))):q=b.stylize("[Circular]","special")),G(D)){if(T&&m.match(/^\d+$/))return q;D=JSON.stringify(""+m),D.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.slice(1,-1),D=b.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=b.stylize(D,"string"))}return D+": "+q}function L(b,E,B){var g=b.reduce(function(m,T){return T.indexOf(`
`)>=0,m+T.replace(/\u001b\[\d\d?m/g,"").length+1},0);return g>60?B[0]+(E===""?"":E+`
 `)+" "+b.join(`,
  `)+" "+B[1]:B[0]+E+" "+b.join(", ")+" "+B[1]}i.types=Bn;function y(b){return Array.isArray(b)}i.isArray=y;function A(b){return typeof b=="boolean"}i.isBoolean=A;function R(b){return b===null}i.isNull=R;function j(b){return b==null}i.isNullOrUndefined=j;function C(b){return typeof b=="number"}i.isNumber=C;function k(b){return typeof b=="string"}i.isString=k;function X(b){return typeof b=="symbol"}i.isSymbol=X;function G(b){return b===void 0}i.isUndefined=G;function W(b){return ne(b)&&me(b)==="[object RegExp]"}i.isRegExp=W,i.types.isRegExp=W;function ne(b){return typeof b=="object"&&b!==null}i.isObject=ne;function de(b){return ne(b)&&me(b)==="[object Date]"}i.isDate=de,i.types.isDate=de;function fe(b){return ne(b)&&(me(b)==="[object Error]"||b instanceof Error)}i.isError=fe,i.types.isNativeError=fe;function ue(b){return typeof b=="function"}i.isFunction=ue;function ge(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||typeof b>"u"}i.isPrimitive=ge,i.isBuffer=ss;function me(b){return Object.prototype.toString.call(b)}function pe(b){return b<10?"0"+b.toString(10):b.toString(10)}var be=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ye(){var b=new Date,E=[pe(b.getHours()),pe(b.getMinutes()),pe(b.getSeconds())].join(":");return[b.getDate(),be[b.getMonth()],E].join(" ")}i.log=function(){console.log("%s - %s",ye(),i.format.apply(i,arguments))},i.inherits=qe,i._extend=function(b,E){if(!E||!ne(E))return b;for(var B=Object.keys(E),g=B.length;g--;)b[B[g]]=E[B[g]];return b};function ce(b,E){return Object.prototype.hasOwnProperty.call(b,E)}var oe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;i.promisify=function(E){if(typeof E!="function")throw new TypeError('The "original" argument must be of type Function');if(oe&&E[oe]){var B=E[oe];if(typeof B!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(B,oe,{value:B,enumerable:!1,writable:!1,configurable:!0}),B}function B(){for(var g,m,T=new Promise(function(l,c){g=l,m=c}),D=[],q=0;q<arguments.length;q++)D.push(arguments[q]);D.push(function(l,c){l?m(l):g(c)});try{E.apply(this,D)}catch(l){m(l)}return T}return Object.setPrototypeOf(B,Object.getPrototypeOf(E)),oe&&Object.defineProperty(B,oe,{value:B,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(B,r(E))},i.promisify.custom=oe;function J(b,E){if(!b){var B=new Error("Promise was rejected with a falsy value");B.reason=b,b=B}return E(b)}function Z(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');function E(){for(var B=[],g=0;g<arguments.length;g++)B.push(arguments[g]);var m=B.pop();if(typeof m!="function")throw new TypeError("The last argument must be of type Function");var T=this,D=function(){return m.apply(T,arguments)};b.apply(this,B).then(function(q){process.nextTick(D.bind(null,null,q))},function(q){process.nextTick(J.bind(null,q,D))})}return Object.setPrototypeOf(E,Object.getPrototypeOf(b)),Object.defineProperties(E,r(b)),E}i.callbackify=Z})(lr);const fs=Sr({__proto__:null,default:lr},[lr]);var Ir={exports:{}},Je=typeof Reflect=="object"?Reflect:null,en=Je&&typeof Je.apply=="function"?Je.apply:function(t,r,s){return Function.prototype.apply.call(t,r,s)},wt;Je&&typeof Je.ownKeys=="function"?wt=Je.ownKeys:Object.getOwnPropertySymbols?wt=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:wt=function(t){return Object.getOwnPropertyNames(t)};function us(i){console&&console.warn&&console.warn(i)}var Zn=Number.isNaN||function(t){return t!==t};function ee(){ee.init.call(this)}Ir.exports=ee;Ir.exports.once=ds;ee.EventEmitter=ee;ee.prototype._events=void 0;ee.prototype._eventsCount=0;ee.prototype._maxListeners=void 0;var tn=10;function jt(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(ee,"defaultMaxListeners",{enumerable:!0,get:function(){return tn},set:function(i){if(typeof i!="number"||i<0||Zn(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");tn=i}});ee.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ee.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Zn(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ei(i){return i._maxListeners===void 0?ee.defaultMaxListeners:i._maxListeners}ee.prototype.getMaxListeners=function(){return ei(this)};ee.prototype.emit=function(t){for(var r=[],s=1;s<arguments.length;s++)r.push(arguments[s]);var f=t==="error",u=this._events;if(u!==void 0)f=f&&u.error===void 0;else if(!f)return!1;if(f){var h;if(r.length>0&&(h=r[0]),h instanceof Error)throw h;var a=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw a.context=h,a}var d=u[t];if(d===void 0)return!1;if(typeof d=="function")en(d,this,r);else for(var w=d.length,_=oi(d,w),s=0;s<w;++s)en(_[s],this,r);return!0};function ti(i,t,r,s){var f,u,h;if(jt(r),u=i._events,u===void 0?(u=i._events=Object.create(null),i._eventsCount=0):(u.newListener!==void 0&&(i.emit("newListener",t,r.listener?r.listener:r),u=i._events),h=u[t]),h===void 0)h=u[t]=r,++i._eventsCount;else if(typeof h=="function"?h=u[t]=s?[r,h]:[h,r]:s?h.unshift(r):h.push(r),f=ei(i),f>0&&h.length>f&&!h.warned){h.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=i,a.type=t,a.count=h.length,us(a)}return i}ee.prototype.addListener=function(t,r){return ti(this,t,r,!1)};ee.prototype.on=ee.prototype.addListener;ee.prototype.prependListener=function(t,r){return ti(this,t,r,!0)};function ls(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ri(i,t,r){var s={fired:!1,wrapFn:void 0,target:i,type:t,listener:r},f=ls.bind(s);return f.listener=r,s.wrapFn=f,f}ee.prototype.once=function(t,r){return jt(r),this.on(t,ri(this,t,r)),this};ee.prototype.prependOnceListener=function(t,r){return jt(r),this.prependListener(t,ri(this,t,r)),this};ee.prototype.removeListener=function(t,r){var s,f,u,h,a;if(jt(r),f=this._events,f===void 0)return this;if(s=f[t],s===void 0)return this;if(s===r||s.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete f[t],f.removeListener&&this.emit("removeListener",t,s.listener||r));else if(typeof s!="function"){for(u=-1,h=s.length-1;h>=0;h--)if(s[h]===r||s[h].listener===r){a=s[h].listener,u=h;break}if(u<0)return this;u===0?s.shift():cs(s,u),s.length===1&&(f[t]=s[0]),f.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};ee.prototype.off=ee.prototype.removeListener;ee.prototype.removeAllListeners=function(t){var r,s,f;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var u=Object.keys(s),h;for(f=0;f<u.length;++f)h=u[f],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=s[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(f=r.length-1;f>=0;f--)this.removeListener(t,r[f]);return this};function ni(i,t,r){var s=i._events;if(s===void 0)return[];var f=s[t];return f===void 0?[]:typeof f=="function"?r?[f.listener||f]:[f]:r?hs(f):oi(f,f.length)}ee.prototype.listeners=function(t){return ni(this,t,!0)};ee.prototype.rawListeners=function(t){return ni(this,t,!1)};ee.listenerCount=function(i,t){return typeof i.listenerCount=="function"?i.listenerCount(t):ii.call(i,t)};ee.prototype.listenerCount=ii;function ii(i){var t=this._events;if(t!==void 0){var r=t[i];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ee.prototype.eventNames=function(){return this._eventsCount>0?wt(this._events):[]};function oi(i,t){for(var r=new Array(t),s=0;s<t;++s)r[s]=i[s];return r}function cs(i,t){for(;t+1<i.length;t++)i[t]=i[t+1];i.pop()}function hs(i){for(var t=new Array(i.length),r=0;r<t.length;++r)t[r]=i[r].listener||i[r];return t}function ds(i,t){return new Promise(function(r,s){function f(h){i.removeListener(t,u),s(h)}function u(){typeof i.removeListener=="function"&&i.removeListener("error",f),r([].slice.call(arguments))}ai(i,t,u,{once:!0}),t!=="error"&&ps(i,f,{once:!0})})}function ps(i,t,r){typeof i.on=="function"&&ai(i,"error",t,r)}function ai(i,t,r,s){if(typeof i.on=="function")s.once?i.once(t,r):i.on(t,r);else if(typeof i.addEventListener=="function")i.addEventListener(t,function f(u){s.once&&i.removeEventListener(t,f),r(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}var Pr=Ir.exports,Gt,rn;function si(){return rn||(rn=1,Gt=Pr.EventEmitter),Gt}const ys={},gs=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),fi=bi(gs);var Ht,nn;function ms(){if(nn)return Ht;nn=1;function i(S,M){var L=Object.keys(S);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(S);M&&(y=y.filter(function(A){return Object.getOwnPropertyDescriptor(S,A).enumerable})),L.push.apply(L,y)}return L}function t(S){for(var M=1;M<arguments.length;M++){var L=arguments[M]!=null?arguments[M]:{};M%2?i(Object(L),!0).forEach(function(y){r(S,y,L[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(L)):i(Object(L)).forEach(function(y){Object.defineProperty(S,y,Object.getOwnPropertyDescriptor(L,y))})}return S}function r(S,M,L){return M=h(M),M in S?Object.defineProperty(S,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):S[M]=L,S}function s(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}function f(S,M){for(var L=0;L<M.length;L++){var y=M[L];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,h(y.key),y)}}function u(S,M,L){return f(S.prototype,M),Object.defineProperty(S,"prototype",{writable:!1}),S}function h(S){var M=a(S,"string");return typeof M=="symbol"?M:String(M)}function a(S,M){if(typeof S!="object"||S===null)return S;var L=S[Symbol.toPrimitive];if(L!==void 0){var y=L.call(S,M);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}var d=st,w=d.Buffer,_=fi,O=_.inspect,I=O&&O.custom||"inspect";function U(S,M,L){w.prototype.copy.call(S,M,L)}return Ht=function(){function S(){s(this,S),this.head=null,this.tail=null,this.length=0}return u(S,[{key:"push",value:function(L){var y={data:L,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(L){var y={data:L,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(L){if(this.length===0)return"";for(var y=this.head,A=""+y.data;y=y.next;)A+=L+y.data;return A}},{key:"concat",value:function(L){if(this.length===0)return w.alloc(0);for(var y=w.allocUnsafe(L>>>0),A=this.head,R=0;A;)U(A.data,y,R),R+=A.data.length,A=A.next;return y}},{key:"consume",value:function(L,y){var A;return L<this.head.data.length?(A=this.head.data.slice(0,L),this.head.data=this.head.data.slice(L)):L===this.head.data.length?A=this.shift():A=y?this._getString(L):this._getBuffer(L),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(L){var y=this.head,A=1,R=y.data;for(L-=R.length;y=y.next;){var j=y.data,C=L>j.length?j.length:L;if(C===j.length?R+=j:R+=j.slice(0,L),L-=C,L===0){C===j.length?(++A,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=j.slice(C));break}++A}return this.length-=A,R}},{key:"_getBuffer",value:function(L){var y=w.allocUnsafe(L),A=this.head,R=1;for(A.data.copy(y),L-=A.data.length;A=A.next;){var j=A.data,C=L>j.length?j.length:L;if(j.copy(y,y.length-L,0,C),L-=C,L===0){C===j.length?(++R,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=j.slice(C));break}++R}return this.length-=R,y}},{key:I,value:function(L,y){return O(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),S}(),Ht}var Vt,on;function ui(){if(on)return Vt;on=1;function i(h,a){var d=this,w=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return w||_?(a?a(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(f,this,h)):process.nextTick(f,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(O){!a&&O?d._writableState?d._writableState.errorEmitted?process.nextTick(r,d):(d._writableState.errorEmitted=!0,process.nextTick(t,d,O)):process.nextTick(t,d,O):a?(process.nextTick(r,d),a(O)):process.nextTick(r,d)}),this)}function t(h,a){f(h,a),r(h)}function r(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(h,a){h.emit("error",a)}function u(h,a){var d=h._readableState,w=h._writableState;d&&d.autoDestroy||w&&w.autoDestroy?h.destroy(a):h.emit("error",a)}return Vt={destroy:i,undestroy:s,errorOrDestroy:u},Vt}var Yt={},an;function rt(){if(an)return Yt;an=1;function i(a,d){a.prototype=Object.create(d.prototype),a.prototype.constructor=a,a.__proto__=d}var t={};function r(a,d,w){w||(w=Error);function _(I,U,S){return typeof d=="string"?d:d(I,U,S)}var O=function(I){i(U,I);function U(S,M,L){return I.call(this,_(S,M,L))||this}return U}(w);O.prototype.name=w.name,O.prototype.code=a,t[a]=O}function s(a,d){if(Array.isArray(a)){var w=a.length;return a=a.map(function(_){return String(_)}),w>2?"one of ".concat(d," ").concat(a.slice(0,w-1).join(", "),", or ")+a[w-1]:w===2?"one of ".concat(d," ").concat(a[0]," or ").concat(a[1]):"of ".concat(d," ").concat(a[0])}else return"of ".concat(d," ").concat(String(a))}function f(a,d,w){return a.substr(0,d.length)===d}function u(a,d,w){return(w===void 0||w>a.length)&&(w=a.length),a.substring(w-d.length,w)===d}function h(a,d,w){return typeof w!="number"&&(w=0),w+d.length>a.length?!1:a.indexOf(d,w)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,d){return'The value "'+d+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,d,w){var _;typeof d=="string"&&f(d,"not ")?(_="must not be",d=d.replace(/^not /,"")):_="must be";var O;if(u(a," argument"))O="The ".concat(a," ").concat(_," ").concat(s(d,"type"));else{var I=h(a,".")?"property":"argument";O='The "'.concat(a,'" ').concat(I," ").concat(_," ").concat(s(d,"type"))}return O+=". Received type ".concat(typeof w),O},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Yt.codes=t,Yt}var Qt,sn;function li(){if(sn)return Qt;sn=1;var i=rt().codes.ERR_INVALID_OPT_VALUE;function t(s,f,u){return s.highWaterMark!=null?s.highWaterMark:f?s[u]:null}function r(s,f,u,h){var a=t(f,h,u);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var d=h?u:"highWaterMark";throw new i(d,a)}return Math.floor(a)}return s.objectMode?16:16*1024}return Qt={getHighWaterMark:r},Qt}var Kt,fn;function bs(){if(fn)return Kt;fn=1,Kt=i;function i(r,s){if(t("noDeprecation"))return r;var f=!1;function u(){if(!f){if(t("throwDeprecation"))throw new Error(s);t("traceDeprecation")?console.trace(s):console.warn(s),f=!0}return r.apply(this,arguments)}return u}function t(r){try{if(!globalThis.localStorage)return!1}catch{return!1}var s=globalThis.localStorage[r];return s==null?!1:String(s).toLowerCase()==="true"}return Kt}var Xt,un;function ci(){if(un)return Xt;un=1,Xt=G;function i(g){var m=this;this.next=null,this.entry=null,this.finish=function(){B(m,g)}}var t;G.WritableState=k;var r={deprecate:bs()},s=si(),f=st.Buffer,u=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(g){return f.from(g)}function a(g){return f.isBuffer(g)||g instanceof u}var d=ui(),w=li(),_=w.getHighWaterMark,O=rt().codes,I=O.ERR_INVALID_ARG_TYPE,U=O.ERR_METHOD_NOT_IMPLEMENTED,S=O.ERR_MULTIPLE_CALLBACK,M=O.ERR_STREAM_CANNOT_PIPE,L=O.ERR_STREAM_DESTROYED,y=O.ERR_STREAM_NULL_VALUES,A=O.ERR_STREAM_WRITE_AFTER_END,R=O.ERR_UNKNOWN_ENCODING,j=d.errorOrDestroy;qe(G,s);function C(){}function k(g,m,T){t=t||et(),g=g||{},typeof T!="boolean"&&(T=m instanceof t),this.objectMode=!!g.objectMode,T&&(this.objectMode=this.objectMode||!!g.writableObjectMode),this.highWaterMark=_(this,g,"writableHighWaterMark",T),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=g.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=g.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){pe(m,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=g.emitClose!==!1,this.autoDestroy=!!g.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}k.prototype.getBuffer=function(){for(var m=this.bufferedRequest,T=[];m;)T.push(m),m=m.next;return T},function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(m){return X.call(this,m)?!0:this!==G?!1:m&&m._writableState instanceof k}})):X=function(m){return m instanceof this};function G(g){t=t||et();var m=this instanceof t;if(!m&&!X.call(G,this))return new G(g);this._writableState=new k(g,this,m),this.writable=!0,g&&(typeof g.write=="function"&&(this._write=g.write),typeof g.writev=="function"&&(this._writev=g.writev),typeof g.destroy=="function"&&(this._destroy=g.destroy),typeof g.final=="function"&&(this._final=g.final)),s.call(this)}G.prototype.pipe=function(){j(this,new M)};function W(g,m){var T=new A;j(g,T),process.nextTick(m,T)}function ne(g,m,T,D){var q;return T===null?q=new y:typeof T!="string"&&!m.objectMode&&(q=new I("chunk",["string","Buffer"],T)),q?(j(g,q),process.nextTick(D,q),!1):!0}G.prototype.write=function(g,m,T){var D=this._writableState,q=!1,l=!D.objectMode&&a(g);return l&&!f.isBuffer(g)&&(g=h(g)),typeof m=="function"&&(T=m,m=null),l?m="buffer":m||(m=D.defaultEncoding),typeof T!="function"&&(T=C),D.ending?W(this,T):(l||ne(this,D,g,T))&&(D.pendingcb++,q=fe(this,D,l,g,m,T)),q},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var g=this._writableState;g.corked&&(g.corked--,!g.writing&&!g.corked&&!g.bufferProcessing&&g.bufferedRequest&&ce(this,g))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=m.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((m+"").toLowerCase())>-1))throw new R(m);return this._writableState.defaultEncoding=m,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function de(g,m,T){return!g.objectMode&&g.decodeStrings!==!1&&typeof m=="string"&&(m=f.from(m,T)),m}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fe(g,m,T,D,q,l){if(!T){var c=de(m,D,q);D!==c&&(T=!0,q="buffer",D=c)}var x=m.objectMode?1:D.length;m.length+=x;var $=m.length<m.highWaterMark;if($||(m.needDrain=!0),m.writing||m.corked){var K=m.lastBufferedRequest;m.lastBufferedRequest={chunk:D,encoding:q,isBuf:T,callback:l,next:null},K?K.next=m.lastBufferedRequest:m.bufferedRequest=m.lastBufferedRequest,m.bufferedRequestCount+=1}else ue(g,m,!1,x,D,q,l);return $}function ue(g,m,T,D,q,l,c){m.writelen=D,m.writecb=c,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new L("write")):T?g._writev(q,m.onwrite):g._write(q,l,m.onwrite),m.sync=!1}function ge(g,m,T,D,q){--m.pendingcb,T?(process.nextTick(q,D),process.nextTick(b,g,m),g._writableState.errorEmitted=!0,j(g,D)):(q(D),g._writableState.errorEmitted=!0,j(g,D),b(g,m))}function me(g){g.writing=!1,g.writecb=null,g.length-=g.writelen,g.writelen=0}function pe(g,m){var T=g._writableState,D=T.sync,q=T.writecb;if(typeof q!="function")throw new S;if(me(T),m)ge(g,T,D,m,q);else{var l=oe(T)||g.destroyed;!l&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&ce(g,T),D?process.nextTick(be,g,T,l,q):be(g,T,l,q)}}function be(g,m,T,D){T||ye(g,m),m.pendingcb--,D(),b(g,m)}function ye(g,m){m.length===0&&m.needDrain&&(m.needDrain=!1,g.emit("drain"))}function ce(g,m){m.bufferProcessing=!0;var T=m.bufferedRequest;if(g._writev&&T&&T.next){var D=m.bufferedRequestCount,q=new Array(D),l=m.corkedRequestsFree;l.entry=T;for(var c=0,x=!0;T;)q[c]=T,T.isBuf||(x=!1),T=T.next,c+=1;q.allBuffers=x,ue(g,m,!0,m.length,q,"",l.finish),m.pendingcb++,m.lastBufferedRequest=null,l.next?(m.corkedRequestsFree=l.next,l.next=null):m.corkedRequestsFree=new i(m),m.bufferedRequestCount=0}else{for(;T;){var $=T.chunk,K=T.encoding,V=T.callback,Q=m.objectMode?1:$.length;if(ue(g,m,!1,Q,$,K,V),T=T.next,m.bufferedRequestCount--,m.writing)break}T===null&&(m.lastBufferedRequest=null)}m.bufferedRequest=T,m.bufferProcessing=!1}G.prototype._write=function(g,m,T){T(new U("_write()"))},G.prototype._writev=null,G.prototype.end=function(g,m,T){var D=this._writableState;return typeof g=="function"?(T=g,g=null,m=null):typeof m=="function"&&(T=m,m=null),g!=null&&this.write(g,m),D.corked&&(D.corked=1,this.uncork()),D.ending||E(this,D,T),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function oe(g){return g.ending&&g.length===0&&g.bufferedRequest===null&&!g.finished&&!g.writing}function J(g,m){g._final(function(T){m.pendingcb--,T&&j(g,T),m.prefinished=!0,g.emit("prefinish"),b(g,m)})}function Z(g,m){!m.prefinished&&!m.finalCalled&&(typeof g._final=="function"&&!m.destroyed?(m.pendingcb++,m.finalCalled=!0,process.nextTick(J,g,m)):(m.prefinished=!0,g.emit("prefinish")))}function b(g,m){var T=oe(m);if(T&&(Z(g,m),m.pendingcb===0&&(m.finished=!0,g.emit("finish"),m.autoDestroy))){var D=g._readableState;(!D||D.autoDestroy&&D.endEmitted)&&g.destroy()}return T}function E(g,m,T){m.ending=!0,b(g,m),T&&(m.finished?process.nextTick(T):g.once("finish",T)),m.ended=!0,g.writable=!1}function B(g,m,T){var D=g.entry;for(g.entry=null;D;){var q=D.callback;m.pendingcb--,q(T),D=D.next}m.corkedRequestsFree.next=g}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(m){this._writableState&&(this._writableState.destroyed=m)}}),G.prototype.destroy=d.destroy,G.prototype._undestroy=d.undestroy,G.prototype._destroy=function(g,m){m(g)},Xt}var Jt,ln;function et(){if(ln)return Jt;ln=1;var i=Object.keys||function(w){var _=[];for(var O in w)_.push(O);return _};Jt=h;var t=hi(),r=ci();qe(h,t);for(var s=i(r.prototype),f=0;f<s.length;f++){var u=s[f];h.prototype[u]||(h.prototype[u]=r.prototype[u])}function h(w){if(!(this instanceof h))return new h(w);t.call(this,w),r.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(d,this)}function d(w){w.end()}return Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),Jt}var Zt={},dt={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var cn;function vs(){return cn||(cn=1,function(i,t){var r=st,s=r.Buffer;function f(h,a){for(var d in h)a[d]=h[d]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=r:(f(r,t),t.Buffer=u);function u(h,a,d){return s(h,a,d)}u.prototype=Object.create(s.prototype),f(s,u),u.from=function(h,a,d){if(typeof h=="number")throw new TypeError("Argument must not be a number");return s(h,a,d)},u.alloc=function(h,a,d){if(typeof h!="number")throw new TypeError("Argument must be a number");var w=s(h);return a!==void 0?typeof d=="string"?w.fill(a,d):w.fill(a):w.fill(0),w},u.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return s(h)},u.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(h)}}(dt,dt.exports)),dt.exports}var hn;function dn(){if(hn)return Zt;hn=1;var i=vs().Buffer,t=i.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var A;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(A)return;y=(""+y).toLowerCase(),A=!0}}function s(y){var A=r(y);if(typeof A!="string"&&(i.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return A||y}Zt.StringDecoder=f;function f(y){this.encoding=s(y);var A;switch(this.encoding){case"utf16le":this.text=O,this.end=I,A=4;break;case"utf8":this.fillLast=d,A=4;break;case"base64":this.text=U,this.end=S,A=3;break;default:this.write=M,this.end=L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(A)}f.prototype.write=function(y){if(y.length===0)return"";var A,R;if(this.lastNeed){if(A=this.fillLast(y),A===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<y.length?A?A+this.text(y,R):this.text(y,R):A||""},f.prototype.end=_,f.prototype.text=w,f.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function u(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function h(y,A,R){var j=A.length-1;if(j<R)return 0;var C=u(A[j]);return C>=0?(C>0&&(y.lastNeed=C-1),C):--j<R||C===-2?0:(C=u(A[j]),C>=0?(C>0&&(y.lastNeed=C-2),C):--j<R||C===-2?0:(C=u(A[j]),C>=0?(C>0&&(C===2?C=0:y.lastNeed=C-3),C):0))}function a(y,A,R){if((A[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return y.lastNeed=2,"�"}}function d(y){var A=this.lastTotal-this.lastNeed,R=a(this,y);if(R!==void 0)return R;if(this.lastNeed<=y.length)return y.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,A,0,y.length),this.lastNeed-=y.length}function w(y,A){var R=h(this,y,A);if(!this.lastNeed)return y.toString("utf8",A);this.lastTotal=R;var j=y.length-(R-this.lastNeed);return y.copy(this.lastChar,0,j),y.toString("utf8",A,j)}function _(y){var A=y&&y.length?this.write(y):"";return this.lastNeed?A+"�":A}function O(y,A){if((y.length-A)%2===0){var R=y.toString("utf16le",A);if(R){var j=R.charCodeAt(R.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",A,y.length-1)}function I(y){var A=y&&y.length?this.write(y):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,R)}return A}function U(y,A){var R=(y.length-A)%3;return R===0?y.toString("base64",A):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",A,y.length-R))}function S(y){var A=y&&y.length?this.write(y):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function M(y){return y.toString(this.encoding)}function L(y){return y&&y.length?this.write(y):""}return Zt}var er,pn;function Br(){if(pn)return er;pn=1;var i=rt().codes.ERR_STREAM_PREMATURE_CLOSE;function t(u){var h=!1;return function(){if(!h){h=!0;for(var a=arguments.length,d=new Array(a),w=0;w<a;w++)d[w]=arguments[w];u.apply(this,d)}}}function r(){}function s(u){return u.setHeader&&typeof u.abort=="function"}function f(u,h,a){if(typeof h=="function")return f(u,null,h);h||(h={}),a=t(a||r);var d=h.readable||h.readable!==!1&&u.readable,w=h.writable||h.writable!==!1&&u.writable,_=function(){u.writable||I()},O=u._writableState&&u._writableState.finished,I=function(){w=!1,O=!0,d||a.call(u)},U=u._readableState&&u._readableState.endEmitted,S=function(){d=!1,U=!0,w||a.call(u)},M=function(R){a.call(u,R)},L=function(){var R;if(d&&!U)return(!u._readableState||!u._readableState.ended)&&(R=new i),a.call(u,R);if(w&&!O)return(!u._writableState||!u._writableState.ended)&&(R=new i),a.call(u,R)},y=function(){u.req.on("finish",I)};return s(u)?(u.on("complete",I),u.on("abort",L),u.req?y():u.on("request",y)):w&&!u._writableState&&(u.on("end",_),u.on("close",_)),u.on("end",S),u.on("finish",I),h.error!==!1&&u.on("error",M),u.on("close",L),function(){u.removeListener("complete",I),u.removeListener("abort",L),u.removeListener("request",y),u.req&&u.req.removeListener("finish",I),u.removeListener("end",_),u.removeListener("close",_),u.removeListener("finish",I),u.removeListener("end",S),u.removeListener("error",M),u.removeListener("close",L)}}return er=f,er}var tr,yn;function ws(){if(yn)return tr;yn=1;var i;function t(R,j,C){return j=r(j),j in R?Object.defineProperty(R,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):R[j]=C,R}function r(R){var j=s(R,"string");return typeof j=="symbol"?j:String(j)}function s(R,j){if(typeof R!="object"||R===null)return R;var C=R[Symbol.toPrimitive];if(C!==void 0){var k=C.call(R,j||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(R)}var f=Br(),u=Symbol("lastResolve"),h=Symbol("lastReject"),a=Symbol("error"),d=Symbol("ended"),w=Symbol("lastPromise"),_=Symbol("handlePromise"),O=Symbol("stream");function I(R,j){return{value:R,done:j}}function U(R){var j=R[u];if(j!==null){var C=R[O].read();C!==null&&(R[w]=null,R[u]=null,R[h]=null,j(I(C,!1)))}}function S(R){process.nextTick(U,R)}function M(R,j){return function(C,k){R.then(function(){if(j[d]){C(I(void 0,!0));return}j[_](C,k)},k)}}var L=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i={get stream(){return this[O]},next:function(){var j=this,C=this[a];if(C!==null)return Promise.reject(C);if(this[d])return Promise.resolve(I(void 0,!0));if(this[O].destroyed)return new Promise(function(W,ne){process.nextTick(function(){j[a]?ne(j[a]):W(I(void 0,!0))})});var k=this[w],X;if(k)X=new Promise(M(k,this));else{var G=this[O].read();if(G!==null)return Promise.resolve(I(G,!1));X=new Promise(this[_])}return this[w]=X,X}},t(i,Symbol.asyncIterator,function(){return this}),t(i,"return",function(){var j=this;return new Promise(function(C,k){j[O].destroy(null,function(X){if(X){k(X);return}C(I(void 0,!0))})})}),i),L),A=function(j){var C,k=Object.create(y,(C={},t(C,O,{value:j,writable:!0}),t(C,u,{value:null,writable:!0}),t(C,h,{value:null,writable:!0}),t(C,a,{value:null,writable:!0}),t(C,d,{value:j._readableState.endEmitted,writable:!0}),t(C,_,{value:function(G,W){var ne=k[O].read();ne?(k[w]=null,k[u]=null,k[h]=null,G(I(ne,!1))):(k[u]=G,k[h]=W)},writable:!0}),C));return k[w]=null,f(j,function(X){if(X&&X.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=k[h];G!==null&&(k[w]=null,k[u]=null,k[h]=null,G(X)),k[a]=X;return}var W=k[u];W!==null&&(k[w]=null,k[u]=null,k[h]=null,W(I(void 0,!0))),k[d]=!0}),j.on("readable",S.bind(null,k)),k};return tr=A,tr}var rr,gn;function Es(){return gn||(gn=1,rr=function(){throw new Error("Readable.from is not available in the browser")}),rr}var nr,mn;function hi(){if(mn)return nr;mn=1,nr=W;var i;W.ReadableState=G,Pr.EventEmitter;var t=function(c,x){return c.listeners(x).length},r=si(),s=st.Buffer,f=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(l){return s.from(l)}function h(l){return s.isBuffer(l)||l instanceof f}var a=fi,d;a&&a.debuglog?d=a.debuglog("stream"):d=function(){};var w=ms(),_=ui(),O=li(),I=O.getHighWaterMark,U=rt().codes,S=U.ERR_INVALID_ARG_TYPE,M=U.ERR_STREAM_PUSH_AFTER_EOF,L=U.ERR_METHOD_NOT_IMPLEMENTED,y=U.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,R,j;qe(W,r);var C=_.errorOrDestroy,k=["error","close","destroy","pause","resume"];function X(l,c,x){if(typeof l.prependListener=="function")return l.prependListener(c,x);!l._events||!l._events[c]?l.on(c,x):Array.isArray(l._events[c])?l._events[c].unshift(x):l._events[c]=[x,l._events[c]]}function G(l,c,x){i=i||et(),l=l||{},typeof x!="boolean"&&(x=c instanceof i),this.objectMode=!!l.objectMode,x&&(this.objectMode=this.objectMode||!!l.readableObjectMode),this.highWaterMark=I(this,l,"readableHighWaterMark",x),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=l.emitClose!==!1,this.autoDestroy=!!l.autoDestroy,this.destroyed=!1,this.defaultEncoding=l.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,l.encoding&&(A||(A=dn().StringDecoder),this.decoder=new A(l.encoding),this.encoding=l.encoding)}function W(l){if(i=i||et(),!(this instanceof W))return new W(l);var c=this instanceof i;this._readableState=new G(l,this,c),this.readable=!0,l&&(typeof l.read=="function"&&(this._read=l.read),typeof l.destroy=="function"&&(this._destroy=l.destroy)),r.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(c){this._readableState&&(this._readableState.destroyed=c)}}),W.prototype.destroy=_.destroy,W.prototype._undestroy=_.undestroy,W.prototype._destroy=function(l,c){c(l)},W.prototype.push=function(l,c){var x=this._readableState,$;return x.objectMode?$=!0:typeof l=="string"&&(c=c||x.defaultEncoding,c!==x.encoding&&(l=s.from(l,c),c=""),$=!0),ne(this,l,c,!1,$)},W.prototype.unshift=function(l){return ne(this,l,null,!0,!1)};function ne(l,c,x,$,K){d("readableAddChunk",c);var V=l._readableState;if(c===null)V.reading=!1,pe(l,V);else{var Q;if(K||(Q=fe(V,c)),Q)C(l,Q);else if(V.objectMode||c&&c.length>0)if(typeof c!="string"&&!V.objectMode&&Object.getPrototypeOf(c)!==s.prototype&&(c=u(c)),$)V.endEmitted?C(l,new y):de(l,V,c,!0);else if(V.ended)C(l,new M);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!x?(c=V.decoder.write(c),V.objectMode||c.length!==0?de(l,V,c,!1):ce(l,V)):de(l,V,c,!1)}else $||(V.reading=!1,ce(l,V))}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function de(l,c,x,$){c.flowing&&c.length===0&&!c.sync?(c.awaitDrain=0,l.emit("data",x)):(c.length+=c.objectMode?1:x.length,$?c.buffer.unshift(x):c.buffer.push(x),c.needReadable&&be(l)),ce(l,c)}function fe(l,c){var x;return!h(c)&&typeof c!="string"&&c!==void 0&&!l.objectMode&&(x=new S("chunk",["string","Buffer","Uint8Array"],c)),x}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(l){A||(A=dn().StringDecoder);var c=new A(l);this._readableState.decoder=c,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,$="";x!==null;)$+=c.write(x.data),x=x.next;return this._readableState.buffer.clear(),$!==""&&this._readableState.buffer.push($),this._readableState.length=$.length,this};var ue=1073741824;function ge(l){return l>=ue?l=ue:(l--,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l++),l}function me(l,c){return l<=0||c.length===0&&c.ended?0:c.objectMode?1:l!==l?c.flowing&&c.length?c.buffer.head.data.length:c.length:(l>c.highWaterMark&&(c.highWaterMark=ge(l)),l<=c.length?l:c.ended?c.length:(c.needReadable=!0,0))}W.prototype.read=function(l){d("read",l),l=parseInt(l,10);var c=this._readableState,x=l;if(l!==0&&(c.emittedReadable=!1),l===0&&c.needReadable&&((c.highWaterMark!==0?c.length>=c.highWaterMark:c.length>0)||c.ended))return d("read: emitReadable",c.length,c.ended),c.length===0&&c.ended?T(this):be(this),null;if(l=me(l,c),l===0&&c.ended)return c.length===0&&T(this),null;var $=c.needReadable;d("need readable",$),(c.length===0||c.length-l<c.highWaterMark)&&($=!0,d("length less than watermark",$)),c.ended||c.reading?($=!1,d("reading or ended",$)):$&&(d("do read"),c.reading=!0,c.sync=!0,c.length===0&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(l=me(x,c)));var K;return l>0?K=m(l,c):K=null,K===null?(c.needReadable=c.length<=c.highWaterMark,l=0):(c.length-=l,c.awaitDrain=0),c.length===0&&(c.ended||(c.needReadable=!0),x!==l&&c.ended&&T(this)),K!==null&&this.emit("data",K),K};function pe(l,c){if(d("onEofChunk"),!c.ended){if(c.decoder){var x=c.decoder.end();x&&x.length&&(c.buffer.push(x),c.length+=c.objectMode?1:x.length)}c.ended=!0,c.sync?be(l):(c.needReadable=!1,c.emittedReadable||(c.emittedReadable=!0,ye(l)))}}function be(l){var c=l._readableState;d("emitReadable",c.needReadable,c.emittedReadable),c.needReadable=!1,c.emittedReadable||(d("emitReadable",c.flowing),c.emittedReadable=!0,process.nextTick(ye,l))}function ye(l){var c=l._readableState;d("emitReadable_",c.destroyed,c.length,c.ended),!c.destroyed&&(c.length||c.ended)&&(l.emit("readable"),c.emittedReadable=!1),c.needReadable=!c.flowing&&!c.ended&&c.length<=c.highWaterMark,g(l)}function ce(l,c){c.readingMore||(c.readingMore=!0,process.nextTick(oe,l,c))}function oe(l,c){for(;!c.reading&&!c.ended&&(c.length<c.highWaterMark||c.flowing&&c.length===0);){var x=c.length;if(d("maybeReadMore read 0"),l.read(0),x===c.length)break}c.readingMore=!1}W.prototype._read=function(l){C(this,new L("_read()"))},W.prototype.pipe=function(l,c){var x=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=l;break;case 1:$.pipes=[$.pipes,l];break;default:$.pipes.push(l);break}$.pipesCount+=1,d("pipe count=%d opts=%j",$.pipesCount,c);var K=(!c||c.end!==!1)&&l!==process.stdout&&l!==process.stderr,V=K?Se:Ce;$.endEmitted?process.nextTick(V):x.once("end",V),l.on("unpipe",Q);function Q(e,n){d("onunpipe"),e===x&&n&&n.hasUnpiped===!1&&(n.hasUnpiped=!0,xe())}function Se(){d("onend"),l.end()}var N=J(x);l.on("drain",N);var Le=!1;function xe(){d("cleanup"),l.removeListener("close",nt),l.removeListener("finish",we),l.removeListener("drain",N),l.removeListener("error",Ne),l.removeListener("unpipe",Q),x.removeListener("end",Se),x.removeListener("end",Ce),x.removeListener("data",ve),Le=!0,$.awaitDrain&&(!l._writableState||l._writableState.needDrain)&&N()}x.on("data",ve);function ve(e){d("ondata");var n=l.write(e);d("dest.write",n),n===!1&&(($.pipesCount===1&&$.pipes===l||$.pipesCount>1&&q($.pipes,l)!==-1)&&!Le&&(d("false write response, pause",$.awaitDrain),$.awaitDrain++),x.pause())}function Ne(e){d("onerror",e),Ce(),l.removeListener("error",Ne),t(l,"error")===0&&C(l,e)}X(l,"error",Ne);function nt(){l.removeListener("finish",we),Ce()}l.once("close",nt);function we(){d("onfinish"),l.removeListener("close",nt),Ce()}l.once("finish",we);function Ce(){d("unpipe"),x.unpipe(l)}return l.emit("pipe",x),$.flowing||(d("pipe resume"),x.resume()),l};function J(l){return function(){var x=l._readableState;d("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&t(l,"data")&&(x.flowing=!0,g(l))}}W.prototype.unpipe=function(l){var c=this._readableState,x={hasUnpiped:!1};if(c.pipesCount===0)return this;if(c.pipesCount===1)return l&&l!==c.pipes?this:(l||(l=c.pipes),c.pipes=null,c.pipesCount=0,c.flowing=!1,l&&l.emit("unpipe",this,x),this);if(!l){var $=c.pipes,K=c.pipesCount;c.pipes=null,c.pipesCount=0,c.flowing=!1;for(var V=0;V<K;V++)$[V].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=q(c.pipes,l);return Q===-1?this:(c.pipes.splice(Q,1),c.pipesCount-=1,c.pipesCount===1&&(c.pipes=c.pipes[0]),l.emit("unpipe",this,x),this)},W.prototype.on=function(l,c){var x=r.prototype.on.call(this,l,c),$=this._readableState;return l==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):l==="readable"&&!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,d("on readable",$.length,$.reading),$.length?be(this):$.reading||process.nextTick(b,this)),x},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(l,c){var x=r.prototype.removeListener.call(this,l,c);return l==="readable"&&process.nextTick(Z,this),x},W.prototype.removeAllListeners=function(l){var c=r.prototype.removeAllListeners.apply(this,arguments);return(l==="readable"||l===void 0)&&process.nextTick(Z,this),c};function Z(l){var c=l._readableState;c.readableListening=l.listenerCount("readable")>0,c.resumeScheduled&&!c.paused?c.flowing=!0:l.listenerCount("data")>0&&l.resume()}function b(l){d("readable nexttick read 0"),l.read(0)}W.prototype.resume=function(){var l=this._readableState;return l.flowing||(d("resume"),l.flowing=!l.readableListening,E(this,l)),l.paused=!1,this};function E(l,c){c.resumeScheduled||(c.resumeScheduled=!0,process.nextTick(B,l,c))}function B(l,c){d("resume",c.reading),c.reading||l.read(0),c.resumeScheduled=!1,l.emit("resume"),g(l),c.flowing&&!c.reading&&l.read(0)}W.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function g(l){var c=l._readableState;for(d("flow",c.flowing);c.flowing&&l.read()!==null;);}W.prototype.wrap=function(l){var c=this,x=this._readableState,$=!1;l.on("end",function(){if(d("wrapped end"),x.decoder&&!x.ended){var Q=x.decoder.end();Q&&Q.length&&c.push(Q)}c.push(null)}),l.on("data",function(Q){if(d("wrapped data"),x.decoder&&(Q=x.decoder.write(Q)),!(x.objectMode&&Q==null)&&!(!x.objectMode&&(!Q||!Q.length))){var Se=c.push(Q);Se||($=!0,l.pause())}});for(var K in l)this[K]===void 0&&typeof l[K]=="function"&&(this[K]=function(Se){return function(){return l[Se].apply(l,arguments)}}(K));for(var V=0;V<k.length;V++)l.on(k[V],this.emit.bind(this,k[V]));return this._read=function(Q){d("wrapped _read",Q),$&&($=!1,l.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=ws()),R(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}}),W._fromList=m,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function m(l,c){if(c.length===0)return null;var x;return c.objectMode?x=c.buffer.shift():!l||l>=c.length?(c.decoder?x=c.buffer.join(""):c.buffer.length===1?x=c.buffer.first():x=c.buffer.concat(c.length),c.buffer.clear()):x=c.buffer.consume(l,c.decoder),x}function T(l){var c=l._readableState;d("endReadable",c.endEmitted),c.endEmitted||(c.ended=!0,process.nextTick(D,c,l))}function D(l,c){if(d("endReadableNT",l.endEmitted,l.length),!l.endEmitted&&l.length===0&&(l.endEmitted=!0,c.readable=!1,c.emit("end"),l.autoDestroy)){var x=c._writableState;(!x||x.autoDestroy&&x.finished)&&c.destroy()}}typeof Symbol=="function"&&(W.from=function(l,c){return j===void 0&&(j=Es()),j(W,l,c)});function q(l,c){for(var x=0,$=l.length;x<$;x++)if(l[x]===c)return x;return-1}return nr}var ir,bn;function di(){if(bn)return ir;bn=1,ir=a;var i=rt().codes,t=i.ERR_METHOD_NOT_IMPLEMENTED,r=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=i.ERR_TRANSFORM_WITH_LENGTH_0,u=et();qe(a,u);function h(_,O){var I=this._transformState;I.transforming=!1;var U=I.writecb;if(U===null)return this.emit("error",new r);I.writechunk=null,I.writecb=null,O!=null&&this.push(O),U(_);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function a(_){if(!(this instanceof a))return new a(_);u.call(this,_),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",d)}function d(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(O,I){w(_,O,I)}):w(this,null,null)}a.prototype.push=function(_,O){return this._transformState.needTransform=!1,u.prototype.push.call(this,_,O)},a.prototype._transform=function(_,O,I){I(new t("_transform()"))},a.prototype._write=function(_,O,I){var U=this._transformState;if(U.writecb=I,U.writechunk=_,U.writeencoding=O,!U.transforming){var S=this._readableState;(U.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},a.prototype._read=function(_){var O=this._transformState;O.writechunk!==null&&!O.transforming?(O.transforming=!0,this._transform(O.writechunk,O.writeencoding,O.afterTransform)):O.needTransform=!0},a.prototype._destroy=function(_,O){u.prototype._destroy.call(this,_,function(I){O(I)})};function w(_,O,I){if(O)return _.emit("error",O);if(I!=null&&_.push(I),_._writableState.length)throw new f;if(_._transformState.transforming)throw new s;return _.push(null)}return ir}var or,vn;function Ss(){if(vn)return or;vn=1,or=t;var i=di();qe(t,i);function t(r){if(!(this instanceof t))return new t(r);i.call(this,r)}return t.prototype._transform=function(r,s,f){f(null,r)},or}var ar,wn;function _s(){if(wn)return ar;wn=1;var i;function t(I){var U=!1;return function(){U||(U=!0,I.apply(void 0,arguments))}}var r=rt().codes,s=r.ERR_MISSING_ARGS,f=r.ERR_STREAM_DESTROYED;function u(I){if(I)throw I}function h(I){return I.setHeader&&typeof I.abort=="function"}function a(I,U,S,M){M=t(M);var L=!1;I.on("close",function(){L=!0}),i===void 0&&(i=Br()),i(I,{readable:U,writable:S},function(A){if(A)return M(A);L=!0,M()});var y=!1;return function(A){if(!L&&!y){if(y=!0,h(I))return I.abort();if(typeof I.destroy=="function")return I.destroy();M(A||new f("pipe"))}}}function d(I){I()}function w(I,U){return I.pipe(U)}function _(I){return!I.length||typeof I[I.length-1]!="function"?u:I.pop()}function O(){for(var I=arguments.length,U=new Array(I),S=0;S<I;S++)U[S]=arguments[S];var M=_(U);if(Array.isArray(U[0])&&(U=U[0]),U.length<2)throw new s("streams");var L,y=U.map(function(A,R){var j=R<U.length-1,C=R>0;return a(A,j,C,function(k){L||(L=k),k&&y.forEach(d),!j&&(y.forEach(d),M(L))})});return U.reduce(w)}return ar=O,ar}var En=Ee,jr=Pr.EventEmitter,As=qe;As(Ee,jr);Ee.Readable=hi();Ee.Writable=ci();Ee.Duplex=et();Ee.Transform=di();Ee.PassThrough=Ss();Ee.finished=Br();Ee.pipeline=_s();Ee.Stream=Ee;function Ee(){jr.call(this)}Ee.prototype.pipe=function(i,t){var r=this;function s(_){i.writable&&i.write(_)===!1&&r.pause&&r.pause()}r.on("data",s);function f(){r.readable&&r.resume&&r.resume()}i.on("drain",f),!i._isStdio&&(!t||t.end!==!1)&&(r.on("end",h),r.on("close",a));var u=!1;function h(){u||(u=!0,i.end())}function a(){u||(u=!0,typeof i.destroy=="function"&&i.destroy())}function d(_){if(w(),jr.listenerCount(this,"error")===0)throw _}r.on("error",d),i.on("error",d);function w(){r.removeListener("data",s),i.removeListener("drain",f),r.removeListener("end",h),r.removeListener("close",a),r.removeListener("error",d),i.removeListener("error",d),r.removeListener("end",w),r.removeListener("close",w),i.removeListener("close",w)}return r.on("end",w),r.on("close",w),i.on("close",w),i.emit("pipe",r),i};const Rs=Sr({__proto__:null,default:En},[En]);typeof window<"u"&&(window.Buffer=st.Buffer,window.global=window,window.process=Fi,window.util=fs,window.stream=Rs);var vr={},Sn=_i;vr.createRoot=Sn.createRoot,vr.hydrateRoot=Sn.hydrateRoot;class Mr extends H.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:[z.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),z.jsx("p",{className:"text-gray-300 mb-4",children:"The application encountered an error. Please try refreshing the page."}),z.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Refresh Page"})]}):this.props.children}}const Ot=()=>z.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:z.jsxs("div",{className:"text-center space-y-4",children:[z.jsx(De.div,{animate:{scale:[1,1.2,1],rotateZ:[0,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 mx-auto",children:z.jsx("div",{className:"w-full h-full rounded-full border-t-2 border-b-2 border-blue-500"})}),z.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[z.jsx("p",{className:"text-lg",children:"Initializing ANIMA Interface"}),z.jsx("p",{className:"text-sm text-blue-400 mt-2",children:"Connecting to Internet Computer"})]})]})}),Ts=({error:i,onRetry:t})=>z.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-black relative overflow-hidden",children:[z.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(255,0,0,0.1)_1px,_transparent_1px)] bg-[length:40px_40px]"}),z.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:z.jsxs("div",{className:"max-w-lg w-full p-6 bg-black/40 backdrop-blur-lg border border-red-500/30 rounded-lg text-red-400",children:[z.jsx(De.div,{animate:{textShadow:["0 0 8px rgba(255,0,0,0.5)","0 0 12px rgba(255,0,0,0.8)","0 0 8px rgba(255,0,0,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-xl font-mono mb-4",children:"NEURAL LINK ERROR"}),z.jsxs("div",{className:"space-y-4",children:[z.jsx("p",{className:"font-mono text-sm leading-relaxed",children:i?.message||"Neural interface synchronization failed"}),i?.details&&z.jsx("div",{className:"text-xs font-mono opacity-70 bg-red-900/20 p-2 rounded",children:z.jsx("pre",{children:JSON.stringify(i.details,null,2)})}),z.jsxs("div",{className:"text-xs font-mono opacity-70 mt-4",children:[z.jsxs("div",{children:["Window IC Status: ",window.ic?"Present":"Missing"]}),z.jsxs("div",{children:["Canister Status: ",window.canister?"Present":"Missing"]})]}),z.jsxs("div",{className:"flex justify-between items-center",children:[z.jsxs("div",{className:"text-xs opacity-70",children:["Error Code: ",i?.code||"UNKNOWN"]}),z.jsx(De.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"px-4 py-2 bg-red-500/10 border border-red-500/30 rounded text-sm font-mono hover:bg-red-500/20 transition-colors duration-200",children:"RETRY NEURAL LINK"})]})]})]})}),z.jsx(De.div,{className:"absolute inset-0 bg-gradient-to-t from-red-900/20 to-transparent mix-blend-overlay",animate:{opacity:[0,.2,0]},transition:{duration:.2,repeat:1/0,repeatType:"mirror",ease:"steps(1)"}})]}),Os=()=>{const[i,t]=H.useState("idle"),[r,s]=H.useState(null),f=Ai(),u=Ri();H.useEffect(()=>{console.log("🔍 AuthGuard initializing..."),console.log("Current window.ic status:",{hasIC:!!window.ic,hasCanister:!!window.canister,location:u.pathname});const a=async()=>{if(i==="idle"){t("initializing");try{if(ze.isInitialized()){console.log("✅ IC already initialized");const _=ze.getIdentity();d(_),t("complete");return}await ze.initialize();const w=ze.getIdentity();console.log("✅ Identity initialized:",w?.getPrincipal().toText()),d(w),t("complete")}catch(w){console.error("❌ Auth initialization failed:",w),s(w instanceof Error?w:new Error("Authentication failed")),t("error")}}},d=w=>{if(!w&&u.pathname!=="/"){console.log("🚫 No identity, redirecting to landing page"),f("/",{replace:!0,state:{returnTo:u.pathname}});return}if(w&&u.pathname==="/"){console.log("✅ Has identity on landing page, redirecting to quantum vault");const _=u.state?.returnTo||"/quantum-vault";f(_,{replace:!0})}};a()},[f,u,i]);const h=async()=>{console.log("🔄 Retrying initialization..."),t("initializing"),s(null);try{await ze.initialize(),ze.getIdentity()?f("/quantum-vault",{replace:!0}):f("/",{replace:!0}),t("complete")}catch(a){console.error("❌ Retry failed:",a),s(a instanceof Error?a:new Error("Authentication failed")),t("error")}};return i==="initializing"||i==="idle"?z.jsx(H.Suspense,{fallback:null,children:z.jsx(Ot,{})}):i==="error"||r?z.jsx(Ts,{error:r,onRetry:h}):z.jsx(H.Suspense,{fallback:z.jsx(Ot,{}),children:z.jsx(vi,{mode:"wait",children:z.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-black",children:z.jsx(Ti,{})},"content")})})},Is=H.lazy(()=>$e(()=>import("./LandingPage-C1j1659w.js"),__vite__mapDeps([0,1,2,3,4]))),Ps=H.lazy(()=>$e(()=>import("./quantum-vault-o2MgRmAb.js").then(i=>i.C),__vite__mapDeps([3,1,4]))),Bs=H.lazy(()=>$e(()=>import("./GenesisPage-BFScFKUb.js"),__vite__mapDeps([5,1,3,4,2,6,7]))),js=H.lazy(()=>$e(()=>import("./AnimaPage-D47krTj9.js"),__vite__mapDeps([8,1,9,3,4,2,6]))),Ms=H.lazy(()=>$e(()=>import("./Wallet-Cs7uYBth.js"),__vite__mapDeps([10,7,1,3,4]))),Ls=H.lazy(()=>$e(()=>import("./neural-interface-Ccv7oDsD.js").then(i=>i.q),__vite__mapDeps([]))),He=i=>z.jsx(H.Suspense,{fallback:z.jsx(Ot,{}),children:z.jsx(Mr,{children:z.jsx(i,{})})}),xs=Oi([{path:"/",element:He(Is)},{element:z.jsx(Os,{}),children:[{path:"/quantum-vault",element:He(Ps)},{path:"/genesis",element:He(Bs)},{path:"/anima/:id",element:He(js)},{path:"/neural-link/:id?",element:He(Ls)},{path:"/wallet",element:He(Ms)}]}]);class Ue{static instance;actor=null;updateCallback;errorTracker;identity=null;fieldState={activeEffects:[],fieldStrength:1,resonanceHarmony:1,dimensionalStability:1,lastUpdateTimestamp:Date.now()};constructor(){this.errorTracker=wi.getInstance(),console.log("🔮 Quantum Effects Service initialized")}static getInstance(){return Ue.instance||(Ue.instance=new Ue),Ue.instance}setUpdateCallback(t){this.updateCallback=t}async ensureActor(){if(!this.actor&&this.identity&&(console.log("🔄 Creating new actor for quantum effects..."),this.actor=xr.createActor(this.identity)),!this.actor)throw new Error("Quantum effects service not initialized");return this.actor}async initialize(t){try{console.log("🌟 Initializing quantum effects service..."),this.identity=t,this.actor=xr.createActor(t),await this.initializeField(),console.log("✅ Quantum effects service initialized successfully")}catch(r){throw console.error("❌ Failed to initialize quantum effects:",r),await this.errorTracker.trackError({errorType:"QUANTUM_EFFECTS_INIT",severity:"HIGH",context:"Quantum Effects Service",error:r}),r}}async initializeField(){const t=await this.ensureActor();console.log("🔄 Initializing quantum field effects...");const r=await t.initialize_quantum_field();if("Err"in r)throw new Error(r.Err);const{harmony:s,signature:f}=r.Ok;this.fieldState={...this.fieldState,fieldStrength:s,resonanceHarmony:s,activeEffects:[{type:"resonance",intensity:s,duration:3e5,signature:f}]},this.updateCallback&&this.updateCallback({coherenceLevel:s,quantumSignature:f,lastUpdate:Date.now()}),console.log("✨ Quantum field effects initialized")}async applyEffect(t){await this.ensureActor(),this.fieldState.activeEffects=this.fieldState.activeEffects.filter(r=>r.duration+this.fieldState.lastUpdateTimestamp>Date.now()),this.fieldState.activeEffects.push({...t,signature:`${t.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}),this.updateFieldState()}updateFieldState(){const t=Date.now();let r=0,s=0,f=0,u=0;this.fieldState.activeEffects.forEach(h=>{const a=(h.duration+this.fieldState.lastUpdateTimestamp-t)/h.duration,d=h.intensity*Math.max(0,a);switch(h.type){case"resonance":r+=d;break;case"entanglement":s+=d;break;case"dimensional":f+=d;break}u++}),u>0&&(this.fieldState.resonanceHarmony=r/u,this.fieldState.fieldStrength=(r+s+f)/(3*u),this.fieldState.dimensionalStability=f/u),this.updateCallback&&this.updateCallback({coherenceLevel:this.fieldState.resonanceHarmony,entanglementIndex:s/u,dimensionalSync:this.fieldState.dimensionalStability,lastUpdate:t}),this.fieldState.lastUpdateTimestamp=t}async generateHarmonicPattern(){const r=await(await this.ensureActor()).generate_neural_patterns();if("Err"in r)throw new Error(r.Err);return r.Ok.pattern}getFieldState(){const t=Date.now();return this.fieldState.activeEffects=this.fieldState.activeEffects.filter(r=>r.duration+this.fieldState.lastUpdateTimestamp>t),{...this.fieldState}}async stabilizeField(){const r=await(await this.ensureActor()).check_quantum_stability();if("Err"in r)throw new Error(r.Err);r.Ok||await this.applyEffect({type:"dimensional",intensity:1,duration:6e4,signature:`stabilize-${Date.now()}`})}async injectResonance(t,r){await this.applyEffect({type:"resonance",intensity:t,duration:r,signature:`inject-${Date.now()}`}),await this.generateHarmonicPattern()}async createEntanglement(t){await this.applyEffect({type:"entanglement",intensity:.8,duration:6e5,signature:`entangle-${t}-${Date.now()}`})}isInitialized(){return!!this.actor&&!!this.identity}dispose(){this.updateCallback=void 0,this.actor=null,this.identity=null,Ue.instance=null}}const Ve=Ue.getInstance(),Ns=H.createContext(null),Cs={coherenceLevel:0,entanglementIndex:0,dimensionalSync:0,quantumSignature:"",resonancePatterns:[],stabilityStatus:"critical",lastUpdate:Date.now()},Us=({children:i})=>{const{identity:t}=Er(),[r,s]=H.useState(null),[f,u]=H.useState(!1),[h,a]=H.useState(!1);H.useEffect(()=>{const U=S=>{s(M=>({...M||Cs,...S,lastUpdate:Date.now()}))};return _e.setUpdateCallback(U),Ve.setUpdateCallback(U),()=>{_e.dispose(),Ve.dispose()}},[]);const I={state:r,isInitialized:f,isInitializing:h,initializeQuantumState:async()=>{if(!(!t||f||h))try{a(!0),console.log("🔄 Initializing quantum state service..."),await _e.initializeQuantumField(t),console.log("🔄 Initializing quantum effects service..."),await Ve.initialize(t),console.log("🔄 Initializing quantum field..."),await Ve.initializeField(),u(!0),console.log("✅ Quantum initialization complete")}catch(U){throw console.error("❌ Quantum initialization failed:",U),await _e.handleQuantumError(U,t),U}finally{a(!1)}},applyQuantumEffect:async U=>{if(!f||!t)throw new Error("Quantum state not initialized");try{await Ve.applyEffect(U),await _e.checkStability(t)}catch(S){throw await _e.handleQuantumError(S,t),S}},generateNeuralPatterns:async()=>{if(!f||!t)throw new Error("Quantum state not initialized");try{await _e.generateNeuralPatterns(t)}catch(U){throw await _e.handleQuantumError(U,t),U}},stabilizeField:async()=>{if(!f||!t)throw new Error("Quantum state not initialized");try{await Ve.stabilizeField(),await _e.checkStability(t)}catch(U){throw await _e.handleQuantumError(U,t),U}}};return z.jsx(Ns.Provider,{value:I,children:i})},Ds=H.createContext(void 0),Fs=({children:i})=>{const t=Ii();return z.jsx(Ds.Provider,{value:t,children:i})},ks=H.createContext({isInitialized:!1}),$s=({children:i})=>z.jsx(ks.Provider,{value:{isInitialized:!0},children:i});var qs=Object.create,pi=Object.defineProperty,zs=Object.getOwnPropertyDescriptor,Ws=Object.getOwnPropertyNames,Gs=Object.getPrototypeOf,Hs=Object.prototype.hasOwnProperty,Lr=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),Vs=(i,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of Ws(t))!Hs.call(i,f)&&f!==r&&pi(i,f,{get:()=>t[f],enumerable:!(s=zs(t,f))||s.enumerable});return i},Ys=(i,t,r)=>(r=i!=null?qs(Gs(i)):{},Vs(!i||!i.__esModule?pi(r,"default",{value:i,enumerable:!0}):r,i));function Qs(i){return i instanceof Uint8Array||i!=null&&typeof i=="object"&&i.constructor.name==="Uint8Array"}function yi(i,...t){if(!Qs(i))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(i.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${i.length}`)}function _n(i,t=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(t&&i.finished)throw new Error("Hash#digest() has already been called")}function Ks(i,t){yi(i);let r=t.outputLen;if(i.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var sr=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),Ae=(i,t)=>i<<32-t|i>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Xs(i){if(typeof i!="string")throw new Error(`utf8ToBytes expected string, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function gi(i){return typeof i=="string"&&(i=Xs(i)),yi(i),i}var Js=class{clone(){return this._cloneInto()}};function Zs(i){let t=s=>i().update(gi(s)).digest(),r=i();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>i(),t}function ef(i,t,r,s){if(typeof i.setBigUint64=="function")return i.setBigUint64(t,r,s);let f=BigInt(32),u=BigInt(4294967295),h=Number(r>>f&u),a=Number(r&u),d=s?4:0,w=s?0:4;i.setUint32(t+d,h,s),i.setUint32(t+w,a,s)}var tf=(i,t,r)=>i&t^~i&r,rf=(i,t,r)=>i&t^i&r^t&r,nf=class extends Js{constructor(i,t,r,s){super(),this.blockLen=i,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=sr(this.buffer)}update(i){_n(this);let{view:t,buffer:r,blockLen:s}=this;i=gi(i);let f=i.length;for(let u=0;u<f;){let h=Math.min(s-this.pos,f-u);if(h===s){let a=sr(i);for(;s<=f-u;u+=s)this.process(a,u);continue}r.set(i.subarray(u,u+h),this.pos),this.pos+=h,u+=h,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){_n(this),Ks(i,this),this.finished=!0;let{buffer:t,view:r,blockLen:s,isLE:f}=this,{pos:u}=this;t[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>s-u&&(this.process(r,0),u=0);for(let _=u;_<s;_++)t[_]=0;ef(r,s-8,BigInt(this.length*8),f),this.process(r,0);let h=sr(i),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=a/4,w=this.get();if(d>w.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<d;_++)h.setUint32(4*_,w[_],f)}digest(){let{buffer:i,outputLen:t}=this;this.digestInto(i);let r=i.slice(0,t);return this.destroy(),r}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());let{blockLen:t,buffer:r,length:s,finished:f,destroyed:u,pos:h}=this;return i.length=s,i.pos=h,i.finished=f,i.destroyed=u,s%t&&i.buffer.set(r),i}},of=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Be=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),je=new Uint32Array(64),af=class extends nf{constructor(){super(64,32,8,!1),this.A=Be[0]|0,this.B=Be[1]|0,this.C=Be[2]|0,this.D=Be[3]|0,this.E=Be[4]|0,this.F=Be[5]|0,this.G=Be[6]|0,this.H=Be[7]|0}get(){let{A:i,B:t,C:r,D:s,E:f,F:u,G:h,H:a}=this;return[i,t,r,s,f,u,h,a]}set(i,t,r,s,f,u,h,a){this.A=i|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=f|0,this.F=u|0,this.G=h|0,this.H=a|0}process(i,t){for(let _=0;_<16;_++,t+=4)je[_]=i.getUint32(t,!1);for(let _=16;_<64;_++){let O=je[_-15],I=je[_-2],U=Ae(O,7)^Ae(O,18)^O>>>3,S=Ae(I,17)^Ae(I,19)^I>>>10;je[_]=S+je[_-7]+U+je[_-16]|0}let{A:r,B:s,C:f,D:u,E:h,F:a,G:d,H:w}=this;for(let _=0;_<64;_++){let O=Ae(h,6)^Ae(h,11)^Ae(h,25),I=w+O+tf(h,a,d)+of[_]+je[_]|0,U=(Ae(r,2)^Ae(r,13)^Ae(r,22))+rf(r,s,f)|0;w=d,d=a,a=h,h=u+I|0,u=f,f=s,s=r,r=I+U|0}r=r+this.A|0,s=s+this.B|0,f=f+this.C|0,u=u+this.D|0,h=h+this.E|0,a=a+this.F|0,d=d+this.G|0,w=w+this.H|0,this.set(r,s,f,u,h,a,d,w)}roundClean(){je.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},sf=class extends af{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},ff=Zs(()=>new sf),An=class wr{constructor(t){this.bytes=t}static fromHex(t){return new wr(Uint8Array.from(Buffer.from(t,"hex")))}static fromPrincipal({principal:t,subAccount:r=uf.fromID(0)}){let s=Pi(`
account-id`),f=ff.create();f.update(Bi([...s,...t.toUint8Array(),...r.toUint8Array()]));let u=f.digest(),h=ji(u),a=new Uint8Array([...h,...u]);return new wr(a)}toHex(){return Mi(this.bytes)}toUint8Array(){return this.bytes}toNumbers(){return Array.from(this.bytes)}toAccountIdentifierHash(){return{hash:this.toUint8Array()}}},uf=class Et{constructor(t){this.bytes=t}static fromBytes(t){return t.length!=32?Error("Subaccount length must be 32-bytes"):new Et(t)}static fromPrincipal(t){let r=new Uint8Array(32).fill(0),s=t.toUint8Array();r[0]=s.length;for(let f=0;f<s.length;f++)r[1+f]=s[f];return new Et(r)}static fromID(t){if(t<0)throw new Error("Number cannot be negative");if(t>Number.MAX_SAFE_INTEGER)throw new Error("Number is too large to fit in 32 bytes.");let r=new DataView(new ArrayBuffer(32));if(typeof r.setBigUint64=="function")r.setBigUint64(24,BigInt(t));else{let f=BigInt(1)<<BigInt(32);r.setUint32(24,Number(BigInt(t)>>BigInt(32))),r.setUint32(28,Number(BigInt(t)%f))}let s=new Uint8Array(r.buffer);return new Et(s)}toUint8Array(){return this.bytes}};/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/St.fromText("ryjl3-tyaaa-aaaaa-aaaba-cai");St.fromText("qhbym-qaaaa-aaaaa-aaafq-cai");BigInt(1095062083);BigInt(1347768404);BigInt(1e4);BigInt(1e8);var lf=Lr(i=>{i.byteLength=d,i.toByteArray=_,i.fromByteArray=U;var t=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(u=0,h=f.length;u<h;++u)t[u]=f[u],r[f.charCodeAt(u)]=u;var u,h;r[45]=62,r[95]=63;function a(S){var M=S.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=S.indexOf("=");L===-1&&(L=M);var y=L===M?0:4-L%4;return[L,y]}function d(S){var M=a(S),L=M[0],y=M[1];return(L+y)*3/4-y}function w(S,M,L){return(M+L)*3/4-L}function _(S){var M,L=a(S),y=L[0],A=L[1],R=new s(w(S,y,A)),j=0,C=A>0?y-4:y,k;for(k=0;k<C;k+=4)M=r[S.charCodeAt(k)]<<18|r[S.charCodeAt(k+1)]<<12|r[S.charCodeAt(k+2)]<<6|r[S.charCodeAt(k+3)],R[j++]=M>>16&255,R[j++]=M>>8&255,R[j++]=M&255;return A===2&&(M=r[S.charCodeAt(k)]<<2|r[S.charCodeAt(k+1)]>>4,R[j++]=M&255),A===1&&(M=r[S.charCodeAt(k)]<<10|r[S.charCodeAt(k+1)]<<4|r[S.charCodeAt(k+2)]>>2,R[j++]=M>>8&255,R[j++]=M&255),R}function O(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function I(S,M,L){for(var y,A=[],R=M;R<L;R+=3)y=(S[R]<<16&16711680)+(S[R+1]<<8&65280)+(S[R+2]&255),A.push(O(y));return A.join("")}function U(S){for(var M,L=S.length,y=L%3,A=[],R=16383,j=0,C=L-y;j<C;j+=R)A.push(I(S,j,j+R>C?C:j+R));return y===1?(M=S[L-1],A.push(t[M>>2]+t[M<<4&63]+"==")):y===2&&(M=(S[L-2]<<8)+S[L-1],A.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),A.join("")}}),cf=Lr(i=>{i.read=function(t,r,s,f,u){var h,a,d=u*8-f-1,w=(1<<d)-1,_=w>>1,O=-7,I=s?u-1:0,U=s?-1:1,S=t[r+I];for(I+=U,h=S&(1<<-O)-1,S>>=-O,O+=d;O>0;h=h*256+t[r+I],I+=U,O-=8);for(a=h&(1<<-O)-1,h>>=-O,O+=f;O>0;a=a*256+t[r+I],I+=U,O-=8);if(h===0)h=1-_;else{if(h===w)return a?NaN:(S?-1:1)*(1/0);a=a+Math.pow(2,f),h=h-_}return(S?-1:1)*a*Math.pow(2,h-f)},i.write=function(t,r,s,f,u,h){var a,d,w,_=h*8-u-1,O=(1<<_)-1,I=O>>1,U=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=f?0:h-1,M=f?1:-1,L=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(d=isNaN(r)?1:0,a=O):(a=Math.floor(Math.log(r)/Math.LN2),r*(w=Math.pow(2,-a))<1&&(a--,w*=2),a+I>=1?r+=U/w:r+=U*Math.pow(2,1-I),r*w>=2&&(a++,w/=2),a+I>=O?(d=0,a=O):a+I>=1?(d=(r*w-1)*Math.pow(2,u),a=a+I):(d=r*Math.pow(2,I-1)*Math.pow(2,u),a=0));u>=8;t[s+S]=d&255,S+=M,d/=256,u-=8);for(a=a<<u|d,_+=u;_>0;t[s+S]=a&255,S+=M,a/=256,_-=8);t[s+S-M]|=L*128}}),hf=Lr(i=>{var t=lf(),r=cf(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=a,i.SlowBuffer=A,i.INSPECT_MAX_BYTES=50;var f=2147483647;i.kMaxLength=f,a.TYPED_ARRAY_SUPPORT=u(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{let e=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(e,n),e.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function h(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');let n=new Uint8Array(e);return Object.setPrototypeOf(n,a.prototype),n}function a(e,n,o){if(typeof e=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(e)}return d(e,n,o)}a.poolSize=8192;function d(e,n,o){if(typeof e=="string")return I(e,n);if(ArrayBuffer.isView(e))return S(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ve(e,ArrayBuffer)||e&&ve(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(e,SharedArrayBuffer)||e&&ve(e.buffer,SharedArrayBuffer)))return M(e,n,o);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let p=e.valueOf&&e.valueOf();if(p!=null&&p!==e)return a.from(p,n,o);let v=L(e);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return a.from(e[Symbol.toPrimitive]("string"),n,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}a.from=function(e,n,o){return d(e,n,o)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function w(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function _(e,n,o){return w(e),e<=0?h(e):n!==void 0?typeof o=="string"?h(e).fill(n,o):h(e).fill(n):h(e)}a.alloc=function(e,n,o){return _(e,n,o)};function O(e){return w(e),h(e<0?0:y(e)|0)}a.allocUnsafe=function(e){return O(e)},a.allocUnsafeSlow=function(e){return O(e)};function I(e,n){if((typeof n!="string"||n==="")&&(n="utf8"),!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);let o=R(e,n)|0,p=h(o),v=p.write(e,n);return v!==o&&(p=p.slice(0,v)),p}function U(e){let n=e.length<0?0:y(e.length)|0,o=h(n);for(let p=0;p<n;p+=1)o[p]=e[p]&255;return o}function S(e){if(ve(e,Uint8Array)){let n=new Uint8Array(e);return M(n.buffer,n.byteOffset,n.byteLength)}return U(e)}function M(e,n,o){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(o||0))throw new RangeError('"length" is outside of buffer bounds');let p;return n===void 0&&o===void 0?p=new Uint8Array(e):o===void 0?p=new Uint8Array(e,n):p=new Uint8Array(e,n,o),Object.setPrototypeOf(p,a.prototype),p}function L(e){if(a.isBuffer(e)){let n=y(e.length)|0,o=h(n);return o.length===0||e.copy(o,0,0,n),o}if(e.length!==void 0)return typeof e.length!="number"||Ne(e.length)?h(0):U(e);if(e.type==="Buffer"&&Array.isArray(e.data))return U(e.data)}function y(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return e|0}function A(e){return+e!=e&&(e=0),a.alloc(+e)}a.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==a.prototype},a.compare=function(e,n){if(ve(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),ve(n,Uint8Array)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(e)||!a.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let o=e.length,p=n.length;for(let v=0,P=Math.min(o,p);v<P;++v)if(e[v]!==n[v]){o=e[v],p=n[v];break}return o<p?-1:p<o?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);let o;if(n===void 0)for(n=0,o=0;o<e.length;++o)n+=e[o].length;let p=a.allocUnsafe(n),v=0;for(o=0;o<e.length;++o){let P=e[o];if(ve(P,Uint8Array))v+P.length>p.length?(a.isBuffer(P)||(P=a.from(P)),P.copy(p,v)):Uint8Array.prototype.set.call(p,P,v);else if(a.isBuffer(P))P.copy(p,v);else throw new TypeError('"list" argument must be an Array of Buffers');v+=P.length}return p};function R(e,n){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ve(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let o=e.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&o===0)return 0;let v=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return Le(e).length;default:if(v)return p?-1:Q(e).length;n=(""+n).toLowerCase(),v=!0}}a.byteLength=R;function j(e,n,o){let p=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,n>>>=0,o<=n))return"";for(e||(e="utf8");;)switch(e){case"hex":return ce(this,n,o);case"utf8":case"utf-8":return ge(this,n,o);case"ascii":return be(this,n,o);case"latin1":case"binary":return ye(this,n,o);case"base64":return ue(this,n,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,n,o);default:if(p)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),p=!0}}a.prototype._isBuffer=!0;function C(e,n,o){let p=e[n];e[n]=e[o],e[o]=p}a.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)C(this,n,n+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)C(this,n,n+3),C(this,n+1,n+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)C(this,n,n+7),C(this,n+1,n+6),C(this,n+2,n+5),C(this,n+3,n+4);return this},a.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?ge(this,0,e):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0},a.prototype.inspect=function(){let e="",n=i.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,n,o,p,v){if(ve(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),o===void 0&&(o=e?e.length:0),p===void 0&&(p=0),v===void 0&&(v=this.length),n<0||o>e.length||p<0||v>this.length)throw new RangeError("out of range index");if(p>=v&&n>=o)return 0;if(p>=v)return-1;if(n>=o)return 1;if(n>>>=0,o>>>=0,p>>>=0,v>>>=0,this===e)return 0;let P=v-p,F=o-n,re=Math.min(P,F),he=this.slice(p,v),ie=e.slice(n,o);for(let te=0;te<re;++te)if(he[te]!==ie[te]){P=he[te],F=ie[te];break}return P<F?-1:F<P?1:0};function k(e,n,o,p,v){if(e.length===0)return-1;if(typeof o=="string"?(p=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,Ne(o)&&(o=v?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(v)return-1;o=e.length-1}else if(o<0)if(v)o=0;else return-1;if(typeof n=="string"&&(n=a.from(n,p)),a.isBuffer(n))return n.length===0?-1:X(e,n,o,p,v);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(e,n,o):Uint8Array.prototype.lastIndexOf.call(e,n,o):X(e,[n],o,p,v);throw new TypeError("val must be string, number or Buffer")}function X(e,n,o,p,v){let P=1,F=e.length,re=n.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(e.length<2||n.length<2)return-1;P=2,F/=2,re/=2,o/=2}function he(te,se){return P===1?te[se]:te.readUInt16BE(se*P)}let ie;if(v){let te=-1;for(ie=o;ie<F;ie++)if(he(e,ie)===he(n,te===-1?0:ie-te)){if(te===-1&&(te=ie),ie-te+1===re)return te*P}else te!==-1&&(ie-=ie-te),te=-1}else for(o+re>F&&(o=F-re),ie=o;ie>=0;ie--){let te=!0;for(let se=0;se<re;se++)if(he(e,ie+se)!==he(n,se)){te=!1;break}if(te)return ie}return-1}a.prototype.includes=function(e,n,o){return this.indexOf(e,n,o)!==-1},a.prototype.indexOf=function(e,n,o){return k(this,e,n,o,!0)},a.prototype.lastIndexOf=function(e,n,o){return k(this,e,n,o,!1)};function G(e,n,o,p){o=Number(o)||0;let v=e.length-o;p?(p=Number(p),p>v&&(p=v)):p=v;let P=n.length;p>P/2&&(p=P/2);let F;for(F=0;F<p;++F){let re=parseInt(n.substr(F*2,2),16);if(Ne(re))return F;e[o+F]=re}return F}function W(e,n,o,p){return xe(Q(n,e.length-o),e,o,p)}function ne(e,n,o,p){return xe(Se(n),e,o,p)}function de(e,n,o,p){return xe(Le(n),e,o,p)}function fe(e,n,o,p){return xe(N(n,e.length-o),e,o,p)}a.prototype.write=function(e,n,o,p){if(n===void 0)p="utf8",o=this.length,n=0;else if(o===void 0&&typeof n=="string")p=n,o=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(o)?(o=o>>>0,p===void 0&&(p="utf8")):(p=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let v=this.length-n;if((o===void 0||o>v)&&(o=v),e.length>0&&(o<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");let P=!1;for(;;)switch(p){case"hex":return G(this,e,n,o);case"utf8":case"utf-8":return W(this,e,n,o);case"ascii":case"latin1":case"binary":return ne(this,e,n,o);case"base64":return de(this,e,n,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,e,n,o);default:if(P)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),P=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(e,n,o){return n===0&&o===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,o))}function ge(e,n,o){o=Math.min(e.length,o);let p=[],v=n;for(;v<o;){let P=e[v],F=null,re=P>239?4:P>223?3:P>191?2:1;if(v+re<=o){let he,ie,te,se;switch(re){case 1:P<128&&(F=P);break;case 2:he=e[v+1],(he&192)===128&&(se=(P&31)<<6|he&63,se>127&&(F=se));break;case 3:he=e[v+1],ie=e[v+2],(he&192)===128&&(ie&192)===128&&(se=(P&15)<<12|(he&63)<<6|ie&63,se>2047&&(se<55296||se>57343)&&(F=se));break;case 4:he=e[v+1],ie=e[v+2],te=e[v+3],(he&192)===128&&(ie&192)===128&&(te&192)===128&&(se=(P&15)<<18|(he&63)<<12|(ie&63)<<6|te&63,se>65535&&se<1114112&&(F=se))}}F===null?(F=65533,re=1):F>65535&&(F-=65536,p.push(F>>>10&1023|55296),F=56320|F&1023),p.push(F),v+=re}return pe(p)}var me=4096;function pe(e){let n=e.length;if(n<=me)return String.fromCharCode.apply(String,e);let o="",p=0;for(;p<n;)o+=String.fromCharCode.apply(String,e.slice(p,p+=me));return o}function be(e,n,o){let p="";o=Math.min(e.length,o);for(let v=n;v<o;++v)p+=String.fromCharCode(e[v]&127);return p}function ye(e,n,o){let p="";o=Math.min(e.length,o);for(let v=n;v<o;++v)p+=String.fromCharCode(e[v]);return p}function ce(e,n,o){let p=e.length;(!n||n<0)&&(n=0),(!o||o<0||o>p)&&(o=p);let v="";for(let P=n;P<o;++P)v+=nt[e[P]];return v}function oe(e,n,o){let p=e.slice(n,o),v="";for(let P=0;P<p.length-1;P+=2)v+=String.fromCharCode(p[P]+p[P+1]*256);return v}a.prototype.slice=function(e,n){let o=this.length;e=~~e,n=n===void 0?o:~~n,e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),n<0?(n+=o,n<0&&(n=0)):n>o&&(n=o),n<e&&(n=e);let p=this.subarray(e,n);return Object.setPrototypeOf(p,a.prototype),p};function J(e,n,o){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+n>o)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(e,n,o){e=e>>>0,n=n>>>0,o||J(e,n,this.length);let p=this[e],v=1,P=0;for(;++P<n&&(v*=256);)p+=this[e+P]*v;return p},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,n,o){e=e>>>0,n=n>>>0,o||J(e,n,this.length);let p=this[e+--n],v=1;for(;n>0&&(v*=256);)p+=this[e+--n]*v;return p},a.prototype.readUint8=a.prototype.readUInt8=function(e,n){return e=e>>>0,n||J(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||J(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||J(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||J(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||J(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=we(function(e){e=e>>>0,x(e,"offset");let n=this[e],o=this[e+7];(n===void 0||o===void 0)&&$(e,this.length-8);let p=n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,v=this[++e]+this[++e]*2**8+this[++e]*2**16+o*2**24;return BigInt(p)+(BigInt(v)<<BigInt(32))}),a.prototype.readBigUInt64BE=we(function(e){e=e>>>0,x(e,"offset");let n=this[e],o=this[e+7];(n===void 0||o===void 0)&&$(e,this.length-8);let p=n*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],v=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o;return(BigInt(p)<<BigInt(32))+BigInt(v)}),a.prototype.readIntLE=function(e,n,o){e=e>>>0,n=n>>>0,o||J(e,n,this.length);let p=this[e],v=1,P=0;for(;++P<n&&(v*=256);)p+=this[e+P]*v;return v*=128,p>=v&&(p-=Math.pow(2,8*n)),p},a.prototype.readIntBE=function(e,n,o){e=e>>>0,n=n>>>0,o||J(e,n,this.length);let p=n,v=1,P=this[e+--p];for(;p>0&&(v*=256);)P+=this[e+--p]*v;return v*=128,P>=v&&(P-=Math.pow(2,8*n)),P},a.prototype.readInt8=function(e,n){return e=e>>>0,n||J(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,n){e=e>>>0,n||J(e,2,this.length);let o=this[e]|this[e+1]<<8;return o&32768?o|4294901760:o},a.prototype.readInt16BE=function(e,n){e=e>>>0,n||J(e,2,this.length);let o=this[e+1]|this[e]<<8;return o&32768?o|4294901760:o},a.prototype.readInt32LE=function(e,n){return e=e>>>0,n||J(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,n){return e=e>>>0,n||J(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=we(function(e){e=e>>>0,x(e,"offset");let n=this[e],o=this[e+7];(n===void 0||o===void 0)&&$(e,this.length-8);let p=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(o<<24);return(BigInt(p)<<BigInt(32))+BigInt(n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),a.prototype.readBigInt64BE=we(function(e){e=e>>>0,x(e,"offset");let n=this[e],o=this[e+7];(n===void 0||o===void 0)&&$(e,this.length-8);let p=(n<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(p)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o)}),a.prototype.readFloatLE=function(e,n){return e=e>>>0,n||J(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,n){return e=e>>>0,n||J(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||J(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||J(e,8,this.length),r.read(this,e,!1,52,8)};function Z(e,n,o,p,v,P){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>v||n<P)throw new RangeError('"value" argument is out of bounds');if(o+p>e.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,n,o,p){if(e=+e,n=n>>>0,o=o>>>0,!p){let F=Math.pow(2,8*o)-1;Z(this,e,n,o,F,0)}let v=1,P=0;for(this[n]=e&255;++P<o&&(v*=256);)this[n+P]=e/v&255;return n+o},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,n,o,p){if(e=+e,n=n>>>0,o=o>>>0,!p){let F=Math.pow(2,8*o)-1;Z(this,e,n,o,F,0)}let v=o-1,P=1;for(this[n+v]=e&255;--v>=0&&(P*=256);)this[n+v]=e/P&255;return n+o},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,1,255,0),this[n]=e&255,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function b(e,n,o,p,v){c(n,p,v,e,o,7);let P=Number(n&BigInt(4294967295));e[o++]=P,P=P>>8,e[o++]=P,P=P>>8,e[o++]=P,P=P>>8,e[o++]=P;let F=Number(n>>BigInt(32)&BigInt(4294967295));return e[o++]=F,F=F>>8,e[o++]=F,F=F>>8,e[o++]=F,F=F>>8,e[o++]=F,o}function E(e,n,o,p,v){c(n,p,v,e,o,7);let P=Number(n&BigInt(4294967295));e[o+7]=P,P=P>>8,e[o+6]=P,P=P>>8,e[o+5]=P,P=P>>8,e[o+4]=P;let F=Number(n>>BigInt(32)&BigInt(4294967295));return e[o+3]=F,F=F>>8,e[o+2]=F,F=F>>8,e[o+1]=F,F=F>>8,e[o]=F,o+8}a.prototype.writeBigUInt64LE=we(function(e,n=0){return b(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=we(function(e,n=0){return E(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,n,o,p){if(e=+e,n=n>>>0,!p){let re=Math.pow(2,8*o-1);Z(this,e,n,o,re-1,-re)}let v=0,P=1,F=0;for(this[n]=e&255;++v<o&&(P*=256);)e<0&&F===0&&this[n+v-1]!==0&&(F=1),this[n+v]=(e/P>>0)-F&255;return n+o},a.prototype.writeIntBE=function(e,n,o,p){if(e=+e,n=n>>>0,!p){let re=Math.pow(2,8*o-1);Z(this,e,n,o,re-1,-re)}let v=o-1,P=1,F=0;for(this[n+v]=e&255;--v>=0&&(P*=256);)e<0&&F===0&&this[n+v+1]!==0&&(F=1),this[n+v]=(e/P>>0)-F&255;return n+o},a.prototype.writeInt8=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1},a.prototype.writeInt16LE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2},a.prototype.writeInt16BE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2},a.prototype.writeInt32LE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},a.prototype.writeInt32BE=function(e,n,o){return e=+e,n=n>>>0,o||Z(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4},a.prototype.writeBigInt64LE=we(function(e,n=0){return b(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=we(function(e,n=0){return E(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function B(e,n,o,p,v,P){if(o+p>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function g(e,n,o,p,v){return n=+n,o=o>>>0,v||B(e,n,o,4),r.write(e,n,o,p,23,4),o+4}a.prototype.writeFloatLE=function(e,n,o){return g(this,e,n,!0,o)},a.prototype.writeFloatBE=function(e,n,o){return g(this,e,n,!1,o)};function m(e,n,o,p,v){return n=+n,o=o>>>0,v||B(e,n,o,8),r.write(e,n,o,p,52,8),o+8}a.prototype.writeDoubleLE=function(e,n,o){return m(this,e,n,!0,o)},a.prototype.writeDoubleBE=function(e,n,o){return m(this,e,n,!1,o)},a.prototype.copy=function(e,n,o,p){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),!p&&p!==0&&(p=this.length),n>=e.length&&(n=e.length),n||(n=0),p>0&&p<o&&(p=o),p===o||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),e.length-n<p-o&&(p=e.length-n+o);let v=p-o;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,o,p):Uint8Array.prototype.set.call(e,this.subarray(o,p),n),v},a.prototype.fill=function(e,n,o,p){if(typeof e=="string"){if(typeof n=="string"?(p=n,n=0,o=this.length):typeof o=="string"&&(p=o,o=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(e.length===1){let P=e.charCodeAt(0);(p==="utf8"&&P<128||p==="latin1")&&(e=P)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<o)throw new RangeError("Out of range index");if(o<=n)return this;n=n>>>0,o=o===void 0?this.length:o>>>0,e||(e=0);let v;if(typeof e=="number")for(v=n;v<o;++v)this[v]=e;else{let P=a.isBuffer(e)?e:a.from(e,p),F=P.length;if(F===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(v=0;v<o-n;++v)this[v+n]=P[v%F]}return this};var T={};function D(e,n,o){T[e]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(p){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:p,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}D("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(e,n){return`The "${e}" argument must be of type number. Received type ${typeof n}`},TypeError),D("ERR_OUT_OF_RANGE",function(e,n,o){let p=`The value of "${e}" is out of range.`,v=o;return Number.isInteger(o)&&Math.abs(o)>2**32?v=q(String(o)):typeof o=="bigint"&&(v=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(v=q(v)),v+="n"),p+=` It must be ${n}. Received ${v}`,p},RangeError);function q(e){let n="",o=e.length,p=e[0]==="-"?1:0;for(;o>=p+4;o-=3)n=`_${e.slice(o-3,o)}${n}`;return`${e.slice(0,o)}${n}`}function l(e,n,o){x(n,"offset"),(e[n]===void 0||e[n+o]===void 0)&&$(n,e.length-(o+1))}function c(e,n,o,p,v,P){if(e>o||e<n){let F=typeof n=="bigint"?"n":"",re;throw n===0||n===BigInt(0)?re=`>= 0${F} and < 2${F} ** ${(P+1)*8}${F}`:re=`>= -(2${F} ** ${(P+1)*8-1}${F}) and < 2 ** ${(P+1)*8-1}${F}`,new T.ERR_OUT_OF_RANGE("value",re,e)}l(p,v,P)}function x(e,n){if(typeof e!="number")throw new T.ERR_INVALID_ARG_TYPE(n,"number",e)}function $(e,n,o){throw Math.floor(e)!==e?(x(e,o),new T.ERR_OUT_OF_RANGE("offset","an integer",e)):n<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${n}`,e)}var K=/[^+/0-9A-Za-z-_]/g;function V(e){if(e=e.split("=")[0],e=e.trim().replace(K,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Q(e,n){n=n||1/0;let o,p=e.length,v=null,P=[];for(let F=0;F<p;++F){if(o=e.charCodeAt(F),o>55295&&o<57344){if(!v){if(o>56319){(n-=3)>-1&&P.push(239,191,189);continue}else if(F+1===p){(n-=3)>-1&&P.push(239,191,189);continue}v=o;continue}if(o<56320){(n-=3)>-1&&P.push(239,191,189),v=o;continue}o=(v-55296<<10|o-56320)+65536}else v&&(n-=3)>-1&&P.push(239,191,189);if(v=null,o<128){if((n-=1)<0)break;P.push(o)}else if(o<2048){if((n-=2)<0)break;P.push(o>>6|192,o&63|128)}else if(o<65536){if((n-=3)<0)break;P.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((n-=4)<0)break;P.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return P}function Se(e){let n=[];for(let o=0;o<e.length;++o)n.push(e.charCodeAt(o)&255);return n}function N(e,n){let o,p,v,P=[];for(let F=0;F<e.length&&!((n-=2)<0);++F)o=e.charCodeAt(F),p=o>>8,v=o%256,P.push(v),P.push(p);return P}function Le(e){return t.toByteArray(V(e))}function xe(e,n,o,p){let v;for(v=0;v<p&&!(v+o>=n.length||v>=e.length);++v)n[v+o]=e[v];return v}function ve(e,n){return e instanceof n||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===n.name}function Ne(e){return e!==e}var nt=function(){let e="0123456789abcdef",n=new Array(256);for(let o=0;o<16;++o){let p=o*16;for(let v=0;v<16;++v)n[p+v]=e[o]+e[v]}return n}();function we(e){return typeof BigInt>"u"?Ce:e}function Ce(){throw new Error("BigInt not supported")}});Ys(hf());/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/class Me{static instance=null;initialized=!1;syncInterval=null;retryInterval=null;errorTracker;MAX_RETRIES=3;RETRY_INTERVAL=3e4;STABILITY_THRESHOLD=.7;CREATION_COST=BigInt(1e8);ledgerActor;state=null;constructor(){this.errorTracker=Rn.getInstance(),this.setupRetryMechanism()}static getInstance(){return Me.instance||(Me.instance=new Me),Me.instance}setupRetryMechanism(){this.retryInterval=setInterval(()=>{this.retryFailedTransactions()},this.RETRY_INTERVAL)}getUserAccountIdentifier(t){return An.fromPrincipal({principal:t,subAccount:void 0}).toHex()}verifyAccountIdentifier(t,r){try{const s=An.fromPrincipal({principal:St.fromText(t),subAccount:void 0}).toHex(),f=s===r;return console.log("Account Identifier Verification:",{principal:t,providedAccountId:r,computedAccountId:s,isValid:f,timestamp:new Date().toISOString()}),f}catch(s){return this.errorTracker.trackError(it.PAYMENT,s instanceof Error?s:new Error("Account identifier verification failed"),ot.HIGH,{principal:t,accountId:r}),!1}}async processAnimaCreationPayment(t){if(!this.state)throw new Error("Wallet not initialized");const r=this.getUserAccountIdentifier(t);if(!this.verifyAccountIdentifier(Pe.TREASURY_PRINCIPAL,Pe.TREASURY_ACCOUNT_ID))throw new Error("Treasury configuration error");const f=await this.ledgerActor.account_balance({account:r});if(f.e8s<this.CREATION_COST)throw new Error(`Insufficient balance. Required: ${Number(this.CREATION_COST)/1e8} ICP`);console.log("Processing ANIMA Creation Payment:",{userAccountId:r,treasuryAccount:Pe.TREASURY_ACCOUNT_ID,amount:this.CREATION_COST.toString(),timestamp:new Date().toISOString()});const u={id:crypto.randomUUID(),type:"mint",amount:this.CREATION_COST,timestamp:Date.now(),status:"pending",memo:`ANIMA_CREATION_${Date.now()}`,quantumMetrics:this.state.quantumMetrics,retryCount:0};try{return console.log("Pre-transfer state:",{transactionId:u.id,userBalance:f.e8s.toString(),quantumMetrics:this.state.quantumMetrics}),await this.ledgerActor.transfer({to:Pe.TREASURY_ACCOUNT_ID,amount:{e8s:this.CREATION_COST},fee:{e8s:Pe.DEFAULT_FEE},memo:BigInt(Date.now()),from_subaccount:[],created_at_time:[]}),console.log("Transfer successful:",{transactionId:u.id,status:"completed",timestamp:new Date().toISOString()}),u.status="completed",this.state.transactions.push(u),await this.refreshBalance(),!0}catch(h){throw console.error("Transfer failed:",{transactionId:u.id,error:h instanceof Error?h.message:"Unknown error",timestamp:new Date().toISOString()}),u.status="failed",this.state.transactions.push(u),this.errorTracker.trackError(it.PAYMENT,h instanceof Error?h:new Error("Transfer failed"),ot.HIGH,{transaction:u}),h}}async initialize(){if(!this.initialized)try{this.ledgerActor=await Ei.createActor(Li,{agent:window.ic?.agent,canisterId:Pe.MAINNET_CANISTER_ID}),this.state={address:await this.generateAddress(),balance:BigInt(0),isLocked:!1,transactions:[],quantumMetrics:{coherenceLevel:1,stabilityIndex:1,entanglementFactor:0,stabilityStatus:"stable"},pendingTransactions:new Map},await this.refreshBalance(),this.startSync(),this.initialized=!0}catch(t){throw this.errorTracker.trackError({type:"InitializationFailed",category:it.System,severity:ot.Critical,message:t instanceof Error?t.message:"Wallet initialization failed",timestamp:new Date}),t}}async generateAddress(){return"sample_address"}async retryFailedTransactions(){if(this.state)for(const[t,r]of this.state.pendingTransactions.entries()){if(r.status==="failed"&&r.retryCount<this.MAX_RETRIES)try{const s=this.getUserAccountIdentifier(St.fromText(r.memo?.split("_")[2]||""));await this.ledgerActor.transfer({to:Pe.TREASURY_ACCOUNT_ID,amount:{e8s:r.amount},fee:{e8s:Pe.DEFAULT_FEE},memo:BigInt(r.timestamp),from_subaccount:[],created_at_time:[]}),r.status="completed",r.retryCount++}catch(s){r.retryCount++,this.errorTracker.trackError(it.PAYMENT,s instanceof Error?s:new Error("Retry failed"),ot.HIGH,{transaction:r})}r.retryCount>=this.MAX_RETRIES&&(this.state.pendingTransactions.delete(t),r.status="failed")}}startSync(){this.syncInterval||(this.syncInterval=setInterval(async()=>{try{await this.refreshBalance(),await this.updateQuantumMetrics()}catch(t){console.error("Sync failed:",t)}},3e4))}async refreshBalance(){if(!(!this.state||!this.ledgerActor))try{const t=await this.ledgerActor.account_balance({account:this.state.address});this.state.balance=t.e8s}catch(t){console.error("Balance refresh failed:",t)}}async updateQuantumMetrics(){if(!this.state)return;const t=this.state.transactions.slice(-10),r=t.filter(s=>s.status==="completed").length/t.length;this.state.quantumMetrics={coherenceLevel:Math.max(.1,Math.min(1,this.state.quantumMetrics.coherenceLevel*(1+(r-.5)))),stabilityIndex:r,entanglementFactor:Math.min(1,this.state.quantumMetrics.entanglementFactor+.1),stabilityStatus:this.getStabilityStatus(r)}}getStabilityStatus(t){return t>=this.STABILITY_THRESHOLD?"stable":t>=this.STABILITY_THRESHOLD/2?"unstable":"critical"}getBalance(){if(!this.state)throw new Error("Wallet not initialized");return this.state.balance}getQuantumMetrics(){if(!this.state)throw new Error("Wallet not initialized");return this.state.quantumMetrics}isInitialized(){return this.initialized}dispose(){this.syncInterval&&clearInterval(this.syncInterval),this.retryInterval&&clearInterval(this.retryInterval),Me.instance=null}formatICP(t){return`${Number(t)/1e8} ICP`}}Me.getInstance();const df=H.createContext(null),pf=({children:i})=>{const{identity:t}=Er(),[r,s]=H.useState(null),[f,u]=H.useState(null),[h,a]=H.useState(null),[d,w]=H.useState(!0),[_,O]=H.useState(null),[I,U]=H.useState([]),S=Rn.getInstance();H.useEffect(()=>{if(!t)return;(async()=>{try{const j=Me.getInstance(t);await j.initialize(),s(j),u(j.getBalance()),a(j.getAddress());const C=await j.loadTransactionHistory();U(C),O(null)}catch(j){const C=j instanceof Error?j.message:"Failed to initialize wallet";O(C),S.trackError(it.WALLET,j instanceof Error?j:new Error(C),ot.CRITICAL,{identity:t.getPrincipal().toString()})}finally{w(!1)}})()},[t]);const M=async()=>{if(r)try{const R=await r.refreshBalance();u(R),O(null)}catch(R){const j=R instanceof Error?R.message:"Failed to refresh balance";O(j)}},L=async R=>{if(!r)throw new Error("Wallet not initialized");try{const j=await r.deposit(R);return U(C=>[j,...C]),await M(),j}catch(j){const C=j instanceof Error?j.message:"Deposit failed";throw O(C),j}},y=async(R,j)=>{if(!r)throw new Error("Wallet not initialized");try{const C=await r.withdraw(R,j);return U(k=>[C,...k]),await M(),C}catch(C){const k=C instanceof Error?C.message:"Withdrawal failed";throw O(k),C}},A=async(R,j)=>{if(!r)throw new Error("Wallet not initialized");try{const C=await r.spend(R,j);return U(k=>[C,...k]),await M(),C}catch(C){const k=C instanceof Error?C.message:"Transaction failed";throw O(k),C}};return z.jsx(df.Provider,{value:{balance:f,address:h,isLoading:d,error:_,transactions:I,deposit:L,withdraw:y,spend:A,refreshBalance:M},children:i})};class yf{memories=[];maxMemories=100;constructor(){this.memories=[]}createMemory(t,r,s=[],f){const u={id:`mem_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now(),importance:Math.max(0,Math.min(1,r)),description:t,keywords:s,quantumResonance:f?.resonanceMetrics.fieldStrength||0,emotionalDepth:r*(f?.coherence||1)};return this.addMemory(u),u}addMemory(t){if(this.memories.push(t),this.memories.length>this.maxMemories){const r=this.memories.reduce((s,f,u,h)=>f.importance<h[s].importance?u:s,0);this.memories.splice(r,1)}this.memories.sort((r,s)=>s.importance-r.importance)}decay(t){this.memories=this.memories.map(r=>({...r,importance:r.importance*(1-t)})).filter(r=>r.importance>.1)}reinforce(t,r){const s=this.memories.find(f=>f.id===t);s&&(s.importance=Math.min(1,s.importance+r))}calculateResonance(t){if(this.memories.length===0)return 0;const r=this.memories.map(s=>{const f=Math.exp(-(Date.now()-s.timestamp)/6048e5),u=Math.abs(s.quantumResonance-t.resonanceMetrics.fieldStrength);return s.importance*f*(1-u)});return r.reduce((s,f)=>s+f,0)/r.length}getMemories(){return[...this.memories]}getRecentMemories(t=5){return[...this.memories].sort((r,s)=>s.timestamp-r.timestamp).slice(0,t)}getMostImportant(t=5){return[...this.memories].sort((r,s)=>s.importance-r.importance).slice(0,t)}searchMemories(t){const r=t.toLowerCase().split(" ");return this.memories.filter(s=>r.some(f=>s.description.toLowerCase().includes(f)||s.keywords.some(u=>u.toLowerCase().includes(f))))}clear(){this.memories=[]}}class gf{level=1;experience=0;recentEvents=[];maxEvents=50;baseXpForLevel=1e3;constructor(){this.level=1,this.experience=0,this.recentEvents=[]}async processGrowthEvent(t){const{strength:r,quantum_state:s,dimensional_state:f}=t,u=this.calculateGrowthImpact(s,f),h=r*u,a={timestamp:Date.now(),type:"quantum_interaction",strength:r,quantumImpact:u,description:this.generateEventDescription(r,u)};this.addEvent(a),await this.applyGrowth(h)}calculateGrowthImpact(t,r){const s=t.coherence,f=t.resonanceMetrics.fieldStrength,u=r.stability;return(s+f+u)/3}async applyGrowth(t){const r=Math.floor(t*this.baseXpForLevel*Math.sqrt(this.level));for(this.experience+=r;this.experience>=this.getXpForNextLevel();)await this.levelUp()}async levelUp(){this.level+=1}addEvent(t){this.recentEvents.unshift(t),this.recentEvents.length>this.maxEvents&&this.recentEvents.pop()}getXpForNextLevel(){return this.baseXpForLevel*Math.pow(this.level,1.5)}getProgress(){const t=this.getXpForNextLevel(),r=this.baseXpForLevel*Math.pow(this.level-1,1.5),s=this.experience-r,f=t-r;return s/f}getMetrics(){return{level:this.level,experience:this.experience,nextLevelAt:this.getXpForNextLevel(),growthRate:this.calculateGrowthRate(),recentEvents:[...this.recentEvents]}}calculateGrowthRate(){return this.recentEvents.length<2?0:this.recentEvents.slice(0,10).reduce((r,s)=>r+s.strength*s.quantumImpact,0)/Math.min(10,this.recentEvents.length)}generateEventDescription(t,r){const s=t>.8?"powerful":t>.5?"moderate":"subtle",f=r>.8?"significant":r>.5?"noticeable":"minor";return`A ${s} quantum interaction caused ${f} growth`}}const mi=H.createContext(null);function mf({children:i}){const{principal:t,actor:r}=Er(),{quantumState:s,updateQuantumState:f,validateState:u}=xi(),[h]=H.useState(()=>new Ci),[a]=H.useState(()=>new yf),[d]=H.useState(()=>new gf),[w,_]=H.useState(""),[O,I]=H.useState(0),[U,S]=H.useState([]),[M,L]=H.useState(()=>d.getMetrics()),[y,A]=H.useState(!1),[R,j]=H.useState(!1),[C,k]=H.useState(null),[X,G]=H.useState(!1),[W,ne]=H.useState(0),de=3;H.useEffect(()=>{s&&t&&fe()},[s,t]);const fe=async()=>{try{console.log("🧬 Initializing ANIMA systems..."),h.quantumAlignment=s?.coherence||1;const b=oe();_(b);const E=J();I(E),ce(),A(!0),console.log("✨ ANIMA systems initialized")}catch(b){console.error("Failed to initialize ANIMA systems:",b),A(!1)}},ue=async()=>{if(W>=de)throw new Error("Maximum reconnection attempts reached");try{ne(E=>E+1);const b=window.ic;if(!b||!b.agent){if(await new Promise(B=>setTimeout(B,1e3)),await window.ic?.agent?.getPrincipal()){G(!0),ne(0);return}throw new Error("Internet Computer connection not available")}G(!0),ne(0)}catch(b){throw console.error("Reconnection attempt failed:",b),b}},ge=H.useCallback(()=>{if(!r){console.error("Actor not initialized. Attempting reconnection...");try{const b=window.ic;if(!b||!b.agent)throw G(!1),new Error("Internet Computer connection not available");return G(!0),null}catch(b){throw G(!1),b}}return G(!0),r},[r]),me=async b=>{if(!r||!y)throw new Error("System not ready for minting");j(!0),k(null);try{X||await ue();const E=await r.initialize_quantum_field();if(!E.Ok)throw new Error("Quantum field initialization failed");const B=await r.generate_neural_patterns();if(!B.Ok)throw new Error("Neural pattern generation failed");const g={resonance:B.Ok.resonance,harmony:E.Ok.harmony,coherence:(B.Ok.resonance+E.Ok.harmony)/2,lastInteraction:new Date,evolutionStage:1,consciousness:{awareness:B.Ok.awareness,understanding:E.Ok.understanding,growth:.1}};if(!u(g))throw new Error("Invalid initial quantum state");const m=await r.create_anima({name:b,quantum_signature:E.Ok.signature,neural_pattern:B.Ok.pattern,initial_state:g});if(!m.Ok)throw new Error(m.Err||"Anima creation failed");return await f(g),ye("Genesis quantum crystallization complete",1,["genesis","quantum","initialization"]),{id:m.Ok.id,quantumSignature:m.Ok.quantum_signature,timestamp:m.Ok.timestamp}}catch(E){const B=E instanceof Error?E.message:"Minting failed";throw k(B),new Error(B)}finally{j(!1)}},pe=async b=>{try{h.updateStability(b),await d.processGrowthEvent({strength:b,quantum_state:s,dimensional_state:h}),b>.5&&ye(`Significant quantum interaction (${b.toFixed(2)})`,b,["quantum","interaction"]),L(d.getMetrics()),ce();const E=oe();_(E);const B=J();I(B)}catch(E){console.error("Failed to process interaction:",E)}},be=async()=>{try{const b=h.calculateResonance(),E=h.getStabilityMetrics();if(s){const B={...s,resonanceMetrics:{...s.resonanceMetrics,fieldStrength:b},coherence:E[0],phaseAlignment:E[1]};u(B)&&await f(B)}}catch(b){console.error("Failed to sync quantum state:",b)}},ye=(b,E,B=[])=>{const g=a.createMemory(b,E,B,s);return ce(),g},ce=()=>{S(a.getRecentMemories(5))},oe=()=>{const b=Date.now(),E=h.resonance.toFixed(4),B=h.phaseCoherence.toFixed(4);return`QS-${E}-${B}-${b}`},J=()=>{const b=h.resonance,E=h.phaseCoherence,B=h.stability,g=a.calculateResonance(s);return(b+E+B+g)/4},Z={dimensionalState:h,memorySystem:a,growthSystem:d,quantumSignature:w,evolutionFactor:O,recentMemories:U,growthMetrics:M,isInitialized:y,isMinting:R,mintError:C,isConnected:X,processInteraction:pe,syncQuantumState:be,createMemory:ye,mintAnima:me,createActor:ge,reconnect:ue};return z.jsx(mi.Provider,{value:Z,children:i})}function Af(){const i=H.useContext(mi);if(!i)throw new Error("useAnima must be used within an AnimaProvider");return i}const bf=()=>z.jsx(Mr,{children:z.jsx(H.Suspense,{fallback:z.jsx("div",{children:"Loading..."}),children:z.jsx(Si,{children:z.jsx($s,{children:z.jsx(pf,{children:z.jsx(Fs,{children:z.jsx(Us,{children:z.jsx(mf,{children:z.jsx(Ni,{router:xs})})})})})})})})});window.React=H;const vf=({error:i})=>z.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:z.jsxs("div",{className:"text-center max-w-lg p-6",children:[z.jsx("h1",{className:"text-xl font-bold mb-4",children:"System Error"}),z.jsx("p",{className:"text-red-400 mb-4",children:i.message}),z.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 transition",children:"Reset System"})]})});async function wf(){try{const i=document.querySelector(".quantum-status");i&&(i.textContent="Initializing Internet Computer connection..."),console.log("Initializing Internet Computer connection..."),await $e(()=>import("./neural-interface-Ccv7oDsD.js").then(s=>s.p),__vite__mapDeps([])),console.log("IC initialization complete");const t=document.getElementById("root");if(!t)throw new Error("Root element not found");vr.createRoot(t).render(z.jsx(H.StrictMode,{children:z.jsx(Mr,{FallbackComponent:vf,children:z.jsx(H.Suspense,{fallback:z.jsx(Ot,{}),children:z.jsx(bf,{})})})}))}catch(i){console.error("Failed to initialize app:",i);const t=document.querySelector(".quantum-status");t&&(t.textContent=`Initialization failed: ${i.message}`)}}wf();export{Mr as E,Af as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/LandingPage-C1j1659w.js","assets/neural-interface-Ccv7oDsD.js","assets/QuantumField-TNtTmF_N.js","assets/quantum-vault-o2MgRmAb.js","assets/quantum-core-DW8Yjz_b.js","assets/GenesisPage-BFScFKUb.js","assets/LaughingMan-BddPto8f.js","assets/usePayment-BsF1Q6BL.js","assets/AnimaPage-D47krTj9.js","assets/consciousness-bCgzbESX.js","assets/Wallet-Cs7uYBth.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-CK-ApUH5.js.map
