import{r as a,u as x}from"./vendor-BFu1EOKW.js";import{u as h}from"./App-DrnumHld.js";import{u as v}from"./anima-context-DlL8afHR.js";import{P as N}from"./index-Da77hz6-.js";import{c as o,C as j}from"./card-J0epcrsD.js";import{j as e}from"./framer-3L9ljYYv.js";import"./main-DlAblTGF.js";import"./ErrorBoundary-Db6IuzRp.js";import"./LoadingFallback-B3L2Micw.js";const u=a.forwardRef(({className:s,variant:r="default",size:t="default",...i},l)=>e.jsx("button",{className:o("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-400 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90":r==="default","bg-destructive text-destructive-foreground hover:bg-destructive/90":r==="destructive","border border-input hover:bg-accent hover:text-accent-foreground":r==="outline","hover:bg-accent hover:text-accent-foreground":r==="ghost","underline-offset-4 hover:underline text-primary":r==="link","h-10 py-2 px-4":t==="default","h-9 px-3":t==="sm","h-11 px-8":t==="lg","h-10 w-10":t==="icon"},s),ref:l,...i}));u.displayName="Button";const f=a.forwardRef(({className:s,type:r,...t},i)=>e.jsx("input",{type:r,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:i,...t}));f.displayName="Input";const b=a.forwardRef(({className:s,variant:r="default",...t},i)=>e.jsx("div",{ref:i,role:"alert",className:o("relative w-full rounded-lg border p-4",{"bg-background text-foreground":r==="default","bg-destructive/15 text-destructive border-destructive/50":r==="destructive"},s),...t}));b.displayName="Alert";const y=a.forwardRef(({className:s,...r},t)=>e.jsx("h5",{ref:t,className:o("mb-1 font-medium leading-none tracking-tight",s),...r}));y.displayName="AlertTitle";const A=a.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:o("text-sm [&_p]:leading-relaxed",s),...r}));A.displayName="AlertDescription";var w={};const k=BigInt(1e8);function D(){const s=x();h();const{createActor:r}=v(),[t,i]=a.useState(""),[l,d]=a.useState(!1),[m,c]=a.useState(null),p=async()=>{if(!t.trim()){c("Please enter a name for your Anima");return}d(!0),c(null);try{const n=r();await(await n.getLedgerActor()).approve({amount:k,spender:N.fromText(w.ANIMA_CANISTER_ID)});const g=await n.create_anima(t);s(`/anima/${g.toString()}`)}catch(n){console.error("Genesis failed:",n),c(n.message||"Failed to create Anima")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-black p-8",children:e.jsx(j,{className:"max-w-md mx-auto bg-black/50 backdrop-blur border-amber-500/20",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-serif text-amber-400 text-center",children:"Anima Genesis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-amber-300 mb-1",children:"Name Your Anima"}),e.jsx(f,{type:"text",value:t,onChange:n=>i(n.target.value),className:"bg-black/30 border-amber-500/30 text-amber-100",placeholder:"Enter a mystical name..."})]}),e.jsxs("div",{className:"p-4 rounded bg-amber-900/20 border border-amber-500/20",children:[e.jsx("h3",{className:"font-medium text-amber-400 mb-2",children:"Genesis Fee"}),e.jsx("p",{className:"text-amber-200",children:"1 ICP"}),e.jsx("p",{className:"text-sm text-amber-300/60 mt-1",children:"This fee is used to sustain the eternal flame of your Anima"})]}),m&&e.jsx(b,{variant:"destructive",children:m}),e.jsx(u,{onClick:p,disabled:l,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700",children:l?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"animate-spin mr-2",children:"âš¡"}),"Initiating Genesis..."]}):"Begin Genesis Ritual"})]})]})})})}export{D as GenesisPage};
//# sourceMappingURL=GenesisPage-BO0gRIcs.js.map
