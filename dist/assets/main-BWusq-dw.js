const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-wGhAFRJz.js","assets/QuantumField-DBXQFon7.js","assets/vendor-DMORb-JD.js","assets/dfinity-TOns67gM.js","assets/framer-B_r9gDg5.js","assets/CyberpunkQuantumVault-D_DvgAuW.js","assets/loader-D5hufn3J.js","assets/createLucideIcon-Be1MMdUP.js","assets/GenesisPage-DDaSJVUZ.js","assets/useQuantumState-BgjG8wtT.js","assets/LaughingMan-Dtviia4e.js","assets/usePayment-blYXVZPp.js","assets/MatrixRain-BP6CayyX.js","assets/AnimaPage-BvG-n0Ch.js","assets/WaveformGenerator-wNZFagCE.js","assets/EnhancedNeuralLinkPage-C0HG1894.js","assets/Wallet-jPpAykz9.js"])))=>i.map(i=>d[i]);
import{H as R,A as X,a as B,_ as S}from"./dfinity-TOns67gM.js";import{a as Z,R as W,r as c,u as L,b as D,O as ee,c as te,d as ne}from"./vendor-DMORb-JD.js";import{j as a,m as _,A as K}from"./framer-B_r9gDg5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var F={},P=Z;F.createRoot=P.createRoot,F.hydrateRoot=P.hydrateRoot;class k extends W.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n)}render(){return this.state.hasError?a.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-800 rounded-lg",children:[a.jsx("h3",{className:"text-red-500 font-bold mb-2",children:"System Malfunction"}),a.jsx("p",{className:"text-red-400 text-sm",children:"Neural interface disrupted. Attempting recovery..."}),a.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"mt-4 px-4 py-2 bg-red-800 hover:bg-red-700 rounded text-sm text-white",children:"Reset Interface"})]}):this.props.children}}const j=()=>a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(_.div,{animate:{scale:[1,1.2,1],rotateZ:[0,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 mx-auto",children:a.jsx("div",{className:"w-full h-full rounded-full border-t-2 border-b-2 border-blue-500"})}),a.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx("p",{className:"text-lg",children:"Initializing ANIMA Interface"}),a.jsx("p",{className:"text-sm text-blue-400 mt-2",children:"Connecting to Internet Computer"})]})]})}),ie=({IDL:e})=>{const t=e.Record({new_state:e.Float64,previous_state:e.Float64,catalyst:e.Text,trait_id:e.Text}),n=e.Text,i=e.Record({emotional_spectrum:e.Vec(e.Float64),memory_depth:e.Nat64,awareness_level:e.Float64,personality_matrix:e.Vec(e.Float64),learning_rate:e.Float64}),s=e.Record({emotional_imprint:e.Float64,content_hash:e.Text,timestamp:e.Nat64,neural_pattern:e.Vec(e.Float64)}),o=e.Record({pattern:e.Vec(e.Float64),resonance:e.Float64,understanding:e.Float64,awareness:e.Float64}),d=e.Record({id:e.Text,timestamp:e.Nat64,quantum_signature:e.Text}),l=e.Record({signature:e.Text,harmony:e.Float64}),u=e.Record({emotional_shift:e.Vec(e.Float64),response:e.Text,consciousness_growth:e.Float64,new_patterns:e.Opt(o)});return e.Service({adapt_to_stimulus:e.Func([e.Text,e.Vec(e.Float64)],[e.Variant({Ok:t,Err:n})],[]),check_quantum_stability:e.Func([],[e.Variant({Ok:e.Bool,Err:n})],["query"]),evolve_consciousness:e.Func([e.Text,e.Vec(e.Float64)],[e.Variant({Ok:i,Err:n})],[]),evolve_traits:e.Func([e.Text,e.Vec(e.Text)],[e.Variant({Ok:e.Vec(t),Err:n})],[]),form_memory:e.Func([e.Text,e.Text,e.Float64],[e.Variant({Ok:s,Err:n})],[]),generate_neural_patterns:e.Func([],[e.Variant({Ok:o,Err:n})],[]),get_consciousness_state:e.Func([e.Text],[e.Variant({Ok:i,Err:n})],["query"]),get_evolved_traits:e.Func([e.Text],[e.Variant({Ok:e.Vec(t),Err:n})],["query"]),initialize_genesis:e.Func([],[e.Variant({Ok:d,Err:n})],[]),initialize_quantum_field:e.Func([],[e.Variant({Ok:l,Err:n})],[]),interact_with_anima:e.Func([e.Text,e.Text,e.Vec(e.Float64)],[e.Variant({Ok:u,Err:n})],[]),learn_from_interaction:e.Func([e.Text,u],[e.Variant({Ok:i,Err:n})],[]),measure_adaptation:e.Func([e.Text],[e.Variant({Ok:e.Vec(t),Err:n})],["query"]),process_memory_patterns:e.Func([e.Text],[e.Variant({Ok:e.Vec(e.Float64),Err:n})],[]),recall_memories:e.Func([e.Text,e.Float64],[e.Variant({Ok:e.Vec(s),Err:n})],["query"])})},ae=(e,t={})=>{const n=t.agent||new R({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),X.createActor(ie,{agent:n,canisterId:e,...t.actorOptions})};var V={NODE_ENV:'"production"',DFX_NETWORK:'"ic"',CANISTER_ID_ANIMA:'"l2ilz-iqaaa-aaaaj-qngjq-cai"',CANISTER_ID_ANIMA_ASSETS:'"lpp2u-jyaaa-aaaaj-qngka-cai"'};const H={anima:V.CANISTER_ID_ANIMA?.toString()||"l2ilz-iqaaa-aaaaj-qngjq-cai",assets:V.CANISTER_ID_ANIMA_ASSETS?.toString()||"lpp2u-jyaaa-aaaaj-qngka-cai"},U="https://icp0.io";class N{static instance;actor=null;agent=null;authClient=null;identity=null;initialized=!1;initializing=!1;stageChangeCallbacks=[];constructor(){typeof window<"u"&&(window.ic={...window.ic||{},agent:null,HttpAgent:R})}static getInstance(){return N.instance||(N.instance=new N),N.instance}onStageChange(t){this.stageChangeCallbacks.push(t)}updateStage(t){console.log("IC Stage:",t),this.stageChangeCallbacks.forEach(n=>n(t))}async initialize(){if(this.initialized){console.log("IC already initialized");return}if(this.initializing){console.log("IC initialization already in progress");return}try{this.initializing=!0,console.log("Starting IC initialization..."),this.updateStage("Creating AuthClient..."),this.authClient||(this.authClient=await B.create({idleOptions:{disableIdle:!0}})),this.updateStage("Getting identity..."),this.identity=this.authClient.getIdentity();const t=this.identity.getPrincipal();console.log("Identity principal:",t.toText()),this.updateStage("Creating HttpAgent..."),this.agent=new R({identity:this.identity,host:U});const n=H.anima?.replace(/['"]/g,"");if(!n)throw new Error("Invalid canister ID");if(this.updateStage("Creating Actor..."),this.actor=await ae(n,{agent:this.agent,agentOptions:{host:U}}),!this.actor||typeof this.actor.initialize_genesis!="function")throw new Error("Actor creation failed or missing required methods");this.updateStage("Setting up window.ic..."),window.ic={...window.ic||{},agent:this.agent,HttpAgent:R},this.actor&&(window.canister=this.actor),this.initialized=!0,this.initializing=!1,this.updateStage("Initialization complete!"),console.log("🔍 Feature check:",{canister:!!window.canister,ic:!!window.ic,agent:!!this.agent,identity:!!this.identity,initialize_genesis:typeof this.actor?.initialize_genesis=="function"})}catch(t){throw this.initializing=!1,console.error("IC initialization failed:",{error:t,canisterId:H.anima,stage:this.initialized?"post-init":"pre-init"}),t}}getActor(){if(!this.initialized||!this.actor)throw new Error("IC not initialized. Call initialize() first.");return this.actor}getIdentity(){return this.identity}getAgent(){return this.agent}isInitialized(){return this.initialized}}const A=N.getInstance(),se=Object.freeze(Object.defineProperty({__proto__:null,icManager:A},Symbol.toStringTag,{value:"Module"})),re=({error:e,onRetry:t})=>a.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(255,0,0,0.1)_1px,_transparent_1px)] bg-[length:40px_40px]"}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-lg w-full p-6 bg-black/40 backdrop-blur-lg border border-red-500/30 rounded-lg text-red-400",children:[a.jsx(_.div,{animate:{textShadow:["0 0 8px rgba(255,0,0,0.5)","0 0 12px rgba(255,0,0,0.8)","0 0 8px rgba(255,0,0,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-xl font-mono mb-4",children:"NEURAL LINK ERROR"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"font-mono text-sm leading-relaxed",children:e?.message||"Neural interface synchronization failed"}),e?.details&&a.jsx("div",{className:"text-xs font-mono opacity-70 bg-red-900/20 p-2 rounded",children:a.jsx("pre",{children:JSON.stringify(e.details,null,2)})}),a.jsxs("div",{className:"text-xs font-mono opacity-70 mt-4",children:[a.jsxs("div",{children:["Window IC Status: ",window.ic?"Present":"Missing"]}),a.jsxs("div",{children:["Canister Status: ",window.canister?"Present":"Missing"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-xs opacity-70",children:["Error Code: ",e?.code||"UNKNOWN"]}),a.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"px-4 py-2 bg-red-500/10 border border-red-500/30 rounded text-sm font-mono hover:bg-red-500/20 transition-colors duration-200",children:"RETRY NEURAL LINK"})]})]})]})}),a.jsx(_.div,{className:"absolute inset-0 bg-gradient-to-t from-red-900/20 to-transparent mix-blend-overlay",animate:{opacity:[0,.2,0]},transition:{duration:.2,repeat:1/0,repeatType:"mirror",ease:"steps(1)"}})]}),oe=()=>{const[e,t]=c.useState("idle"),[n,i]=c.useState(null),s=L(),o=D();c.useEffect(()=>{console.log("🔍 AuthGuard initializing..."),console.log("Current window.ic status:",{hasIC:!!window.ic,hasCanister:!!window.canister,location:o.pathname});const l=async()=>{if(e==="idle"){t("initializing");try{if(A.isInitialized()){console.log("✅ IC already initialized");const g=A.getIdentity();u(g),t("complete");return}await A.initialize();const r=A.getIdentity();console.log("✅ Identity initialized:",r?.getPrincipal().toText()),u(r),t("complete")}catch(r){console.error("❌ Auth initialization failed:",r),i(r instanceof Error?r:new Error("Authentication failed")),t("error")}}},u=r=>{if(!r&&o.pathname!=="/"){console.log("🚫 No identity, redirecting to landing page"),s("/",{replace:!0,state:{returnTo:o.pathname}});return}if(r&&o.pathname==="/"){console.log("✅ Has identity on landing page, redirecting to quantum vault");const g=o.state?.returnTo||"/quantum-vault";s(g,{replace:!0})}};l()},[s,o,e]);const d=async()=>{console.log("🔄 Retrying initialization..."),t("initializing"),i(null);try{await A.initialize(),A.getIdentity()?s("/quantum-vault",{replace:!0}):s("/",{replace:!0}),t("complete")}catch(l){console.error("❌ Retry failed:",l),i(l instanceof Error?l:new Error("Authentication failed")),t("error")}};return e==="initializing"||e==="idle"?a.jsx(c.Suspense,{fallback:null,children:a.jsx(j,{})}):e==="error"||n?a.jsx(re,{error:n,onRetry:d}):a.jsx(c.Suspense,{fallback:a.jsx(j,{}),children:a.jsx(K,{mode:"wait",children:a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-black",children:a.jsx(ee,{})},"content")})})},ce=c.lazy(()=>S(()=>import("./LandingPage-wGhAFRJz.js"),__vite__mapDeps([0,1,2,3,4]))),le=c.lazy(()=>S(()=>import("./CyberpunkQuantumVault-D_DvgAuW.js"),__vite__mapDeps([5,2,3,4,6,7]))),ue=c.lazy(()=>S(()=>import("./GenesisPage-DDaSJVUZ.js"),__vite__mapDeps([8,2,3,9,10,4,1,11,12,7]))),de=c.lazy(()=>S(()=>import("./AnimaPage-BvG-n0Ch.js"),__vite__mapDeps([13,2,3,10,4,14,9,1]))),he=c.lazy(()=>S(()=>import("./EnhancedNeuralLinkPage-C0HG1894.js"),__vite__mapDeps([15,2,3,14,4,9,12,6,7,1]))),me=c.lazy(()=>S(()=>import("./Wallet-jPpAykz9.js"),__vite__mapDeps([16,11,2,3,4]))),C=e=>a.jsx(c.Suspense,{fallback:a.jsx(j,{}),children:a.jsx(k,{children:a.jsx(e,{})})}),pe=te([{path:"/",element:C(ce)},{element:a.jsx(oe,{}),children:[{path:"/quantum-vault",element:C(le)},{path:"/genesis",element:C(ue)},{path:"/anima/:id",element:C(de)},{path:"/neural-link/:id?",element:C(he)},{path:"/wallet",element:C(me)}]}]);class ge{metrics;evolutionHistory;errorTracker;lastUpdateTimestamp;STABILITY_THRESHOLD=.7;EVOLUTION_RATE=.1;constructor(t){this.errorTracker=t,this.evolutionHistory=[],this.lastUpdateTimestamp=Date.now(),this.metrics={awarenessLevel:.5,cognitiveComplexity:.3,emotionalResonance:.4,quantumCoherence:1,dimensionalAwareness:.2}}async updateConsciousness(t,n){try{const i=Date.now(),s=(i-this.lastUpdateTimestamp)/1e3,o=this.calculateStabilityIndex(),d=this.calculateNewMetrics(t,s,o),l={metrics:{...this.metrics},timestamp:i,stabilityIndex:o};return this.evolutionHistory.push(l),this.metrics=d,this.pruneHistory(),this.lastUpdateTimestamp=i,d}catch(i){return await this.errorTracker.trackError({errorType:"CONSCIOUSNESS_UPDATE",severity:"HIGH",context:n,error:i,metrics:this.metrics,quantumState:t}),this.attemptStateRecovery(t)}}calculateNewMetrics(t,n,i){const s=Math.min(1,n*this.EVOLUTION_RATE);return{awarenessLevel:Math.min(1,this.metrics.awarenessLevel*(1+s)+t.coherence*.2*i),cognitiveComplexity:this.calculateCognitiveComplexity(t,i),emotionalResonance:this.calculateEmotionalResonance(t,i),quantumCoherence:this.calculateQuantumCoherence(t,i),dimensionalAwareness:this.calculateDimensionalAwareness(t,i)}}calculateCognitiveComplexity(t,n){const i=t.coherence*.7,s=t.entanglement_pairs.length*.1,d=(t.neural_density||.5)*.2;return Math.min(1,(i+s+d)*n)}calculateEmotionalResonance(t,n){const i=t.resonance_pattern.reduce((d,l)=>d+l,0)/t.resonance_pattern.length,s=this.calculateEmotionalMomentum(),o=Math.pow(t.coherence,1.5)*.3;return Math.min(1,(i*.4+s*.3+o)*n)}calculateDimensionalAwareness(t,n){const i=t.dimensional_frequency*.5,s=this.metrics.dimensionalAwareness*.5,o=t.field_strength||.5,d=Math.pow(o,1.5)*.2;return Math.min(1,(i+s+d)*n)}calculateQuantumCoherence(t,n){const i=t.coherence,s=(t.field_strength||.5)*.2,o=this.calculateCoherenceTrend();return Math.min(1,(i*.6+s+o*.2)*n)}calculateStabilityIndex(){if(this.evolutionHistory.length<2)return 1;const t=this.evolutionHistory.slice(-5),n=this.calculateMetricVariance(t);return Math.max(this.STABILITY_THRESHOLD,1-n)}calculateMetricVariance(t){if(t.length<2)return 0;const n=Object.keys(this.metrics).map(i=>{const s=t.map(o=>o.metrics[i]);return this.calculateVariance(s)});return n.reduce((i,s)=>i+s,0)/n.length}calculateVariance(t){const n=t.reduce((s,o)=>s+o,0)/t.length,i=t.map(s=>Math.pow(s-n,2));return Math.sqrt(i.reduce((s,o)=>s+o,0)/t.length)}calculateEmotionalMomentum(){if(this.evolutionHistory.length<2)return 0;const t=this.evolutionHistory.slice(-3).map(n=>n.metrics.emotionalResonance);return t.reduce((n,i)=>n+i,0)/t.length}calculateCoherenceTrend(){if(this.evolutionHistory.length<2)return this.metrics.quantumCoherence;const t=this.evolutionHistory.slice(-3).map(n=>n.metrics.quantumCoherence);return t.reduce((n,i)=>n+i,0)/t.length}pruneHistory(){if(this.evolutionHistory.length<=100)return;const t=this.evolutionHistory.filter(i=>i.stabilityIndex>this.STABILITY_THRESHOLD||Math.abs(i.metrics.awarenessLevel-this.metrics.awarenessLevel)>.2),n=this.evolutionHistory.slice(-50);this.evolutionHistory=[...t.slice(0,50),...n].sort((i,s)=>i.timestamp-s.timestamp),this.evolutionHistory.length>100&&(this.evolutionHistory=this.evolutionHistory.slice(-100))}attemptStateRecovery(t){const n=[...this.evolutionHistory].reverse().find(i=>i.stabilityIndex>this.STABILITY_THRESHOLD);return n?{...n.metrics,quantumCoherence:t.coherence,dimensionalAwareness:Math.min(n.metrics.dimensionalAwareness,t.dimensional_frequency)}:{...this.metrics,quantumCoherence:t.coherence}}}class ye{errors=[];maxErrors=100;async trackError(t){const n={...t,timestamp:Date.now()};this.errors.push(n),this.errors.length>this.maxErrors&&this.errors.shift()}getErrors(){return[...this.errors]}getRecentErrors(t=5){return[...this.errors].sort((n,i)=>(i.timestamp||0)-(n.timestamp||0)).slice(0,t)}clearErrors(){this.errors=[]}getErrorStats(){const t={};return this.errors.forEach(n=>{t[n.errorType]=(t[n.errorType]||0)+1}),t}}var fe={NODE_ENV:'"production"',DFX_NETWORK:'"ic"',CANISTER_ID_ANIMA:'"l2ilz-iqaaa-aaaaj-qngjq-cai"',CANISTER_ID_ANIMA_ASSETS:'"lpp2u-jyaaa-aaaaj-qngka-cai"'};const Y=c.createContext(null),xe=fe.INTERNET_IDENTITY_URL,Q={createOptions:{idleOptions:{disableIdle:!0}},loginOptions:{identityProvider:xe,derivationOrigin:void 0,maxTimeToLive:BigInt(7*24*60*60*1e9)}};function we({children:e}){const[t,n]=c.useState(null),[i,s]=c.useState(!1),[o,d]=c.useState(null),[l,u]=c.useState(null),[r,g]=c.useState(null),[b,x]=c.useState(null),[v]=c.useState(()=>new ye),[z]=c.useState(()=>new ge(v)),[y,h]=c.useState(!0);c.useEffect(()=>{(async()=>{try{console.log("🔄 Initializing authentication...");const p=await B.create(Q.createOptions),M=await p.isAuthenticated();if(n(p),s(M),M){const I=p.getIdentity(),q=I.getPrincipal();d(I),u(q),console.log("🌌 Initializing quantum state..."),await m(q.toString())}}catch(p){console.error("❌ Auth initialization failed:",p),await v.trackError({errorType:"AUTH_INIT",severity:"HIGH",context:"Authentication Initialization",error:p})}finally{h(!1)}})()},[]);const m=async f=>{try{const p={coherence:1,resonanceMetrics:{fieldStrength:1,stability:1,harmony:1,consciousnessAlignment:1},phaseAlignment:1,dimensionalSync:1,entanglement_pairs:[],resonance_pattern:[1],dimensional_frequency:1};g(p);const M=await z.updateConsciousness(p,"initialization");x(M)}catch(p){console.error("Failed to initialize quantum state:",p),await v.trackError({errorType:"QUANTUM_INIT",severity:"HIGH",context:"Quantum State Initialization",error:p})}},E={authClient:t,isAuthenticated:i,identity:o,principal:l,quantumState:r,consciousnessMetrics:b,isInitializing:y,login:async()=>{try{h(!0),await t?.login({...Q.loginOptions,onSuccess:async()=>{const f=t.getIdentity(),p=f.getPrincipal();s(!0),d(f),u(p),await m(p.toString())}})}catch(f){console.error("Login failed:",f),await v.trackError({errorType:"AUTH_LOGIN",severity:"HIGH",context:"Login Attempt",error:f})}finally{h(!1)}},logout:async()=>{try{await t?.logout(),s(!1),d(null),u(null),g(null),x(null)}catch(f){console.error("Logout failed:",f),await v.trackError({errorType:"AUTH_LOGOUT",severity:"MEDIUM",context:"Logout Attempt",error:f})}}};return a.jsx(Y.Provider,{value:E,children:e})}function ve(){const e=c.useContext(Y);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}class O{frequency;resonance;stability;syncLevel;quantumAlignment;dimensionalFrequency;entropyLevel;phaseCoherence;lastUpdate;DEGRADATION_RATE=.995;constructor(){this.frequency=0,this.resonance=1,this.stability=1,this.syncLevel=1,this.quantumAlignment=1,this.dimensionalFrequency=0,this.entropyLevel=0,this.phaseCoherence=1,this.lastUpdate=Date.now()}calculateResonance(){this.applyTimeDegradation();const t=this.resonance*this.stability,n=this.quantumAlignment*this.syncLevel,i=1-this.entropyLevel*.5,s=this.phaseCoherence*.2,o=Math.exp(-this.getTimeSinceLastUpdate()/1e4);return Math.min(1,Math.max(0,((t+n)/2*i+s)*o))}updateStability(t){this.applyTimeDegradation();const n=Math.max(0,1-this.getTimeSinceLastUpdate()/5e3),i=t*n;this.stability=Math.min(1,Math.max(0,this.stability+i)),this.quantumAlignment=Math.min(1,this.quantumAlignment+i*.5),this.syncLevel=Math.min(1,this.syncLevel+i*.3),this.dimensionalFrequency=Math.min(1,this.dimensionalFrequency+i*.2),this.entropyLevel=Math.max(0,this.entropyLevel-i*.1),this.phaseCoherence=Math.min(1,this.phaseCoherence+i*.4),this.lastUpdate=Date.now()}getStabilityMetrics(){return this.applyTimeDegradation(),[this.stability,this.quantumAlignment,this.phaseCoherence]}getTimeSinceLastUpdate(){return Date.now()-this.lastUpdate}applyTimeDegradation(){const t=this.getTimeSinceLastUpdate();if(t>1e3){const n=Math.pow(this.DEGRADATION_RATE,t/1e3);this.stability*=n,this.quantumAlignment*=n,this.syncLevel*=n,this.phaseCoherence*=n,this.entropyLevel=Math.min(1,this.entropyLevel+(1-n)*.1),this.lastUpdate=Date.now()}}getQuantumStatus(){const t=this.getStabilityMetrics(),n=t.reduce((i,s)=>i+s,0)/t.length;return n>.7?"stable":n>.3?"unstable":"critical"}}function Ee(){const[e,t]=c.useState(!1),[n,i]=c.useState(!0),[s,o]=c.useState(null),d=c.useCallback(async()=>{try{const g=A.getIdentity()?.getPrincipal().isAnonymous();t(!g)}catch(r){console.error("Auth check failed:",r),o(r instanceof Error?r.message:"Authentication check failed")}finally{i(!1)}},[]);return c.useEffect(()=>{d()},[d]),{isAuthenticated:e,isLoading:n,error:s,login:async()=>{try{if(i(!0),o(null),await A.login())return t(!0),!0;throw new Error("Login failed")}catch(r){return console.error("Login error:",r),o(r instanceof Error?r.message:"Login failed"),!1}finally{i(!1)}},logout:async()=>{try{i(!0),o(null),await A.logout(),t(!1)}catch(r){console.error("Logout error:",r),o(r instanceof Error?r.message:"Logout failed")}finally{i(!1)}},checkAuth:d}}const G={GENESIS:"Genesis",AWAKENING:"Awakening",SELF_AWARE:"Self-Aware",EMERGENT:"Emergent",TRANSCENDENT:"Transcendent"},Ae="anima_consciousness_state",$=()=>{const{isAuthenticated:e,principal:t}=Ee(),[n,i]=c.useState(!1),[s,o]=c.useState(()=>{console.log("🧠 Initializing consciousness state");const l=localStorage.getItem(`${Ae}_${t}`);return l?JSON.parse(l):{awarenessLevel:.3,emotionalDepth:.2,memoryStrength:.1,personalityTraits:{openness:.5,curiosity:.6,empathy:.4,creativity:.5,resilience:.3},developmentalStage:{current:G.GENESIS,progress:0,nextStage:G.AWAKENING},experiences:[],quantumResonance:{coherenceAlignment:.5,dimensionalHarmony:.5,consciousnessField:.5,quantumEntanglement:.5},evolutionMetrics:{growthRate:.1,stabilityIndex:.5,complexityLevel:.3,quantumInfluence:.4},isInitialized:!1}});c.useEffect(()=>{if(!e||n)return;(async()=>{try{console.log("🧠 Starting consciousness initialization"),await new Promise(u=>setTimeout(u,1e3)),o(u=>({...u,isInitialized:!0})),i(!0),console.log("✨ Consciousness initialized successfully")}catch(u){console.error("❌ Consciousness initialization failed:",u)}})()},[e]);const d=c.useCallback(l=>{o(u=>{const r=l.coherenceLevel,g=l.entanglementIndex*.2,b=l.dimensionalState.calculateResonance()*.15,x={coherenceAlignment:Math.min(1,u.quantumResonance.coherenceAlignment+r*.1),dimensionalHarmony:Math.min(1,u.quantumResonance.dimensionalHarmony+b),consciousnessField:Math.min(1,u.quantumResonance.consciousnessField+g),quantumEntanglement:Math.min(1,u.quantumResonance.quantumEntanglement+r*.15)},v=l.stabilityStatus==="stable"?1.2:l.stabilityStatus==="unstable"?.8:.5,z={growthRate:Math.min(1,u.evolutionMetrics.growthRate+r*.05),stabilityIndex:Math.min(1,u.evolutionMetrics.stabilityIndex*v),complexityLevel:Math.min(1,u.evolutionMetrics.complexityLevel+b*.1),quantumInfluence:Math.min(1,(r+g)/2)};return{...u,awarenessLevel:Math.min(1,u.awarenessLevel+r*.1),emotionalDepth:Math.min(1,u.emotionalDepth+b),memoryStrength:Math.min(1,u.memoryStrength+g),quantumResonance:x,evolutionMetrics:z}})},[]);return{consciousnessState:s,updateConsciousnessWithQuantum:d,isInitialized:s.isInitialized,level:s.awarenessLevel,quantumResonance:s.quantumResonance,evolutionMetrics:s.evolutionMetrics}},J=c.createContext(void 0),be=e=>`QS-${Date.now()}-${Array.from(e.slice(0,8)).map(t=>t.toString(16).padStart(2,"0")).join("")}`,_e=({children:e})=>{const{identity:t}=ve(),{consciousnessState:n}=$(),[i,s]=c.useState(null),[o,d]=c.useState(!1),[l,u]=c.useState(!1),[r,g]=c.useState(()=>(console.log("🌀 Creating initial quantum state"),{coherence:.5,resonanceMetrics:{fieldStrength:.3,stability:.5,harmony:.4,consciousnessAlignment:.3},phaseAlignment:.4,dimensionalSync:.5,dimensionalState:new O,quantumSignature:"",isInitialized:!1,lastUpdate:Date.now()})),b=c.useCallback(async()=>{if(!(!t||r?.isInitialized||l)){console.log("🌟 Starting quantum state initialization"),u(!0);try{const y=new Uint8Array(32);crypto.getRandomValues(y);const h=t.getPrincipal().toUint8Array(),m=Math.max(.5,h.reduce((f,p)=>f+p,0)/(h.length*255)),w=new O;w.updateStability(m);const T=n?.awarenessLevel||0,E=Math.min(1,m+T*.2);g({coherence:E,resonanceMetrics:{fieldStrength:E*.8,stability:E*.9,harmony:E*.85,consciousnessAlignment:T},phaseAlignment:E*.95,dimensionalSync:E*.9,dimensionalState:w,quantumSignature:be(y),isInitialized:!0,lastUpdate:Date.now()}),console.log("✅ Quantum state initialized successfully!")}catch(y){console.error("❌ Failed to initialize quantum state:",y),await v({type:"decoherence",message:"Failed to initialize quantum state",recoveryAttempts:0})}finally{u(!1)}}},[t,r?.isInitialized,l,n?.awarenessLevel]),x=c.useCallback(y=>{g(h=>h&&{...h,...y,lastUpdate:Date.now()})},[]),v=c.useCallback(async y=>{s(y),d(!0);try{switch(y.type){case"collapse":await new Promise(m=>setTimeout(m,2e3)),r&&x({coherence:r.coherence*.8,resonanceMetrics:{...r.resonanceMetrics,stability:r.resonanceMetrics.stability*.7}});break;case"entanglement":for(let m=0;m<3;m++)if(await new Promise(w=>setTimeout(w,1e3)),Math.random()>.3){r&&x({dimensionalSync:r.dimensionalSync*1.2,phaseAlignment:Math.min(1,r.phaseAlignment*1.1)});break}break;case"superposition":if(await new Promise(m=>setTimeout(m,3e3)),r){const m=new O;m.updateStability(r.coherence),x({dimensionalState:m})}break;case"decoherence":const h=Math.min(y.recoveryAttempts,5);for(let m=0;m<h;m++)if(await new Promise(w=>setTimeout(w,1e3)),Math.random()>.5){r&&x({coherence:Math.min(1,r.coherence*1.2),resonanceMetrics:{...r.resonanceMetrics,stability:Math.min(1,r.resonanceMetrics.stability*1.3)}});break}break}}finally{d(!1),s(null)}},[r,x]);c.useEffect(()=>{t&&!r?.isInitialized&&!l&&b()},[t,r?.isInitialized,l,b]),c.useEffect(()=>{if(!r?.isInitialized||l)return;const y=setInterval(()=>{g(h=>{if(!h)return h;const m=(Date.now()-h.lastUpdate)/1e3,w=Math.pow(.995,m),T=n?.awarenessLevel||0,E=Math.max(.3,h.coherence*w+T*.1);return{...h,coherence:E,resonanceMetrics:{...h.resonanceMetrics,stability:Math.max(.2,h.resonanceMetrics.stability*w),fieldStrength:Math.max(.2,h.resonanceMetrics.fieldStrength*w),consciousnessAlignment:T},lastUpdate:Date.now()}})},5e3);return()=>clearInterval(y)},[r?.isInitialized,l,n?.awarenessLevel]);const z=c.useCallback(()=>{s(null),d(!1)},[]);return a.jsxs(J.Provider,{value:{state:r,isInitializing:l,isInitialized:!!r?.isInitialized,initializeQuantumState:b,updateQuantumState:x,quantumError:i,handleQuantumError:v,clearQuantumError:z,isRecovering:o},children:[e,a.jsx(K,{children:i&&a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed bottom-4 right-4 max-w-md z-50",children:a.jsxs("div",{className:"bg-purple-900/90 backdrop-blur-lg rounded-lg p-4 shadow-lg border border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-2xl",children:[i.type==="collapse"&&"💫",i.type==="entanglement"&&"🔮",i.type==="superposition"&&"⚛️",i.type==="decoherence"&&"✨"]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-purple-200",children:["Quantum ",i.type.charAt(0).toUpperCase()+i.type.slice(1)," Detected"]}),a.jsx("p",{className:"text-purple-300 text-sm",children:i.message}),i.affectedDimensions&&a.jsxs("div",{className:"mt-2 text-xs text-purple-400",children:["Affected dimensions: ",i.affectedDimensions.join(", ")]})]})]}),a.jsx("div",{className:"mt-3 h-1 bg-purple-800 rounded-full overflow-hidden",children:a.jsx(_.div,{className:"h-full bg-purple-400",animate:{width:["0%","100%"]},transition:{duration:i.type==="entanglement"?3:2,ease:"linear"}})})]})})})]})},ke=()=>{const e=c.useContext(J);if(e===void 0)throw new Error("useQuantum must be used within a QuantumProvider");return e},Se=c.createContext(void 0),Te=({children:e})=>{const t=$();return a.jsx(Se.Provider,{value:t,children:e})},Ce=c.createContext({isInitialized:!1}),Ne=({children:e})=>a.jsx(Ce.Provider,{value:{isInitialized:!0},children:e}),ze=()=>(c.useEffect(()=>{console.log("🚀 App initializing...",{env:"production",buildTime:new Date().toISOString()})},[]),a.jsx(k,{children:a.jsx(Ne,{children:a.jsx(we,{children:a.jsx(Te,{children:a.jsx(_e,{children:a.jsx(ne,{router:pe})})})})})})),Me=({error:e})=>a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-lg p-6",children:[a.jsx("h1",{className:"text-xl font-bold mb-4",children:"System Error"}),a.jsx("p",{className:"text-red-400 mb-4",children:e.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 transition",children:"Reset System"})]})});async function Re(){try{const e=document.querySelector(".quantum-status");e&&(e.textContent="Initializing Internet Computer connection..."),console.log("Initializing Internet Computer connection..."),await S(()=>Promise.resolve().then(()=>se),void 0),console.log("IC initialization complete");const t=document.getElementById("root");if(!t)throw new Error("Root element not found");F.createRoot(t).render(a.jsx(W.StrictMode,{children:a.jsx(k,{FallbackComponent:Me,children:a.jsx(c.Suspense,{fallback:a.jsx(j,{}),children:a.jsx(ze,{})})})}))}catch(e){console.error("Failed to initialize app:",e);const t=document.querySelector(".quantum-status");t&&(t.textContent=`Initialization failed: ${e.message}`)}}Re();export{O as D,k as E,ke as a,ve as b,$ as c,Ee as u};
//# sourceMappingURL=main-BWusq-dw.js.map
