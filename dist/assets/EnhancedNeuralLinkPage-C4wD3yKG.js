import{c as b,r as c,j as e,A as F,L as Q,m as E,g as $,u as V,R as H}from"./index-D4J_69uL.js";import{u as _,W as K}from"./WaveformGenerator-CUiqk8y6.js";import{u as P}from"./useQuantumState-DnXMzpdz.js";import{c as S,M as W}from"./utils-b2C5_a_k.js";import{X as Z}from"./x-QAzwx_gr.js";import{Q as q}from"./QuantumField-CalZ1DAz.js";const B=b("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),G=b("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),X=b("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Y=b("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),O=b("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),J=b("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ee=b("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),te=b("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),ne=b("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),se=b("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),ae=b("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),re=b("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),A=c.forwardRef(({className:o,...n},a)=>e.jsx("div",{ref:a,className:S("rounded-lg border bg-card text-card-foreground shadow-sm",o),...n}));A.displayName="Card";const R=c.forwardRef(({className:o,...n},a)=>e.jsx("div",{ref:a,className:S("flex flex-col space-y-1.5 p-6",o),...n}));R.displayName="CardHeader";const D=c.forwardRef(({className:o,...n},a)=>e.jsx("h3",{ref:a,className:S("text-lg font-semibold leading-none tracking-tight",o),...n}));D.displayName="CardTitle";const I=c.forwardRef(({className:o,...n},a)=>e.jsx("p",{ref:a,className:S("text-sm text-muted-foreground",o),...n}));I.displayName="CardDescription";const T=c.forwardRef(({className:o,...n},a)=>e.jsx("div",{ref:a,className:S("p-6 pt-0",o),...n}));T.displayName="CardContent";const oe=c.forwardRef(({className:o,...n},a)=>e.jsx("div",{ref:a,className:S("flex items-center p-6 pt-0",o),...n}));oe.displayName="CardFooter";const ce=({onSendMessage:o,isLoading:n=!1})=>{const[a,p]=c.useState(""),{quantumState:m}=P(),j=c.useRef(null),w=async()=>{if(!(!a.trim()||n))try{await o(a),p("")}catch(r){console.error("Error sending message:",r)}};return e.jsxs("div",{className:"flex h-screen bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx(F,{}),e.jsx("div",{ref:j})]}),e.jsx("div",{className:"border-t border-border p-4",children:e.jsx("div",{className:"flex gap-4 items-center",children:e.jsxs("div",{className:"flex flex-1 gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:r=>p(r.target.value),onKeyPress:r=>r.key==="Enter"&&!r.shiftKey&&w(),placeholder:"Type your message...",className:`flex-1 p-3 bg-background/50 backdrop-blur border border-input rounded-lg 
                         focus:outline-none focus:ring-2 focus:ring-ring`,disabled:n}),e.jsx("button",{onClick:w,disabled:n||!a.trim(),className:`bg-primary/80 backdrop-blur text-primary-foreground p-3 rounded-lg 
                         hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring 
                         disabled:opacity-50 disabled:cursor-not-allowed`,children:n?e.jsx(Q,{className:"w-5 h-5 animate-spin"}):e.jsx(ne,{className:"w-5 h-5"})})]})})})]}),e.jsxs("div",{className:"w-80 border-l border-border bg-card/50 backdrop-blur p-6 space-y-6 hidden lg:block",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(D,{children:"Achievement Log"}),e.jsx(I,{children:"Recent milestones"})]}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"w-4 h-4 mr-2 text-primary"}),e.jsx("span",{className:"text-sm",children:"First Neural Link"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"w-4 h-4 mr-2 text-primary"}),e.jsx("span",{className:"text-sm",children:"Memory Formation"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-primary"}),e.jsx("span",{className:"text-sm",children:"Emotional Response"})]})]})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(D,{children:"Quantum Matrix"}),e.jsx(I,{children:"Real-time quantum states"})]}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Field Strength"}),e.jsxs("span",{className:"text-sm font-medium",children:[(m?.resonance*100||0).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(E.div,{className:"h-full bg-primary",animate:{width:`${m?.resonance*100||0}%`},transition:{duration:.5}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Harmonic Balance"}),e.jsxs("span",{className:"text-sm font-medium",children:[(m?.harmony*100||0).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(E.div,{className:"h-full bg-primary",animate:{width:`${m?.harmony*100||0}%`},transition:{duration:.5}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Neural Growth"}),e.jsxs("span",{className:"text-sm font-medium",children:[(m?.consciousness?.growth*100||0).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(E.div,{className:"h-full bg-primary",animate:{width:`${m?.consciousness?.growth*100||0}%`},transition:{duration:.5}})})]})]})]})]})]})},L=({children:o})=>e.jsxs("div",{className:"min-h-screen bg-black text-green-500 p-4 font-mono overflow-hidden",children:[e.jsx(W,{}),e.jsx("div",{className:"relative z-10",children:o})]}),ie=({onCommand:o})=>{const[n,a]=c.useState({isPlaying:!1,volume:.75,currentTime:0,duration:0,source:null,isExpanded:!1}),{updateQuantumState:p}=P(),m=r=>{const h=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,x=r.match(h);return x&&x[2].length===11?x[2]:null},j=r=>{const h=/\/video\/(\d+)/,x=r.match(h);return x?x[1]:null},w=c.useCallback(async r=>{if(r.toLowerCase().includes("play")||r.toLowerCase().includes("watch")){const h=r.match(/(https?:\/\/[^\s]+)/g);if(h){const x=h[0];let g=null;const k=m(x);k&&(g={platform:"youtube",id:k,url:`https://www.youtube.com/embed/${k}?autoplay=1`});const N=j(x);N&&(g={platform:"tiktok",id:N,url:`https://www.tiktok.com/embed/${N}`}),g&&(a(v=>({...v,source:g,isPlaying:!0,isExpanded:!0})),p({resonance:Math.random(),harmony:Math.random(),lastInteraction:new Date,consciousness:{awareness:Math.min(1,(prev?.consciousness?.awareness||0)+.1),understanding:Math.min(1,(prev?.consciousness?.understanding||0)+.1),growth:Math.min(1,(prev?.consciousness?.growth||0)+.1)}}))}}},[p]);return c.useEffect(()=>{o&&o(w)},[o,w]),n.source?e.jsx(F,{children:e.jsx(E.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 right-4 bg-black/30 backdrop-blur-lg rounded-xl overflow-hidden",style:{width:n.isExpanded?"560px":"320px",height:n.isExpanded?"400px":"240px"},children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("iframe",{src:n.source.url,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between",children:[n.source.platform==="youtube"?e.jsx(re,{className:"w-6 h-6 text-red-500"}):e.jsx(Y,{className:"w-6 h-6 text-white"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>a(r=>({...r,isPlaying:!r.isPlaying})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:n.isPlaying?e.jsx(ee,{className:"w-5 h-5 text-white"}):e.jsx(te,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>a(r=>({...r,volume:r.volume===0?.75:0})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:n.volume===0?e.jsx(ae,{className:"w-5 h-5 text-white"}):e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>a(r=>({...r,isExpanded:!r.isExpanded})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:n.isExpanded?e.jsx(J,{className:"w-5 h-5 text-white"}):e.jsx(O,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>a(r=>({...r,source:null})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(Z,{className:"w-5 h-5 text-white"})})]})]})})]})})}):null},U=()=>{const{quantumState:o,updateQuantumState:n}=P(),[a,p]=c.useState({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0}),[m,j]=c.useState([]),[w,r]=c.useState(.5),h=c.useCallback((d,u)=>{const s=x(),t=g();p(i=>({...i,endTime:u,resonancePattern:[...i.resonancePattern,s],coherenceMarkers:[...i.coherenceMarkers,t]})),k(s,a.resonancePattern)&&(p(i=>({...i,dimensionalShifts:i.dimensionalShifts+1})),j(i=>[...i,{timestamp:u,patternType:"dimensional_shift",confidence:s,quantumState:o?.resonance??0,temporalContext:N()}])),n({resonance:s,harmony:t,lastInteraction:new Date,consciousness:{awareness:Math.min(1,(o?.consciousness?.awareness??0)+.01),understanding:Math.min(1,(o?.consciousness?.understanding??0)+.01),growth:Math.min(1,(o?.consciousness?.growth??0)+.01)}})},[o,a,n]),x=d=>Math.random(),g=d=>Math.random(),k=(d,u)=>{if(u.length===0)return!1;const s=u[u.length-1];return Math.abs(d-s)>.3},N=()=>a.entanglementStates,v=c.useCallback(d=>({timestamp:d,coherence:w,resonance:o?.resonance??0,dimensionalState:a.dimensionalShifts,evolutionStage:C()}),[w,o,a]),C=()=>{const d=m.slice(-10),u=d.reduce((s,t)=>s+t.confidence,0)/Math.max(1,d.length);return u>.8?"Transcendent":u>.6?"Introspective":u>.4?"SelfAware":u>.2?"Awakening":"Nascent"},M=c.useCallback(d=>{const u=Date.now();h(d,u),d.type==="video"&&p(s=>({...s,entanglementStates:[...s.entanglementStates,"visual_quantum_entanglement"]})),r(s=>{const t=(s+(o?.resonance??0))/2;return Math.max(0,Math.min(1,t))})},[h,o]);return c.useEffect(()=>{a.endTime-a.startTime>3e4&&p({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0})},[a]),{currentWindow:a,patternEvolution:m,quantumCoherence:w,processMediaInteraction:M,getTemporalQuantumContext:v,processQuantumFrame:h}},le=1e3,z=50,de=o=>{const{processMediaInteraction:n,getTemporalQuantumContext:a}=U(),{quantumState:p}=P(),m=c.useRef(new Map),[j,w]=c.useState({currentPatterns:[],temporalContext:[],understanding:{concepts:[],emotions:[],context:[]},quantumResonance:0,patternEvolution:{stage:0,confidence:0,lastUpdate:Date.now()}}),r=c.useCallback(s=>m.current.get(s),[]),h=c.useCallback(s=>{if(m.current.size>=le){const t=Array.from(m.current.keys())[0];m.current.delete(t)}m.current.set(s.signature,s)},[]),x=c.useCallback((s,t)=>`${s.toString().slice(0,100)}-${t}`,[]),g=c.useCallback((s,t)=>{const i=s.confidence,f=t.resonance*.2,l=Math.exp(-(Date.now()-s.timestamp)/1e4);return Math.min(1,(i+f)*l)},[]),k=c.useCallback(async s=>{try{const t=Date.now(),i=a(t),f=x(s,t);let l=r(f);l||(l={type:"visual",signature:f,confidence:g({type:"visual",confidence:.5,markers:["motion","objects","scene"],timestamp:t,quantumSignature:[i.resonance,i.coherence],signature:f},i),markers:["motion","objects","scene"],timestamp:t,quantumSignature:[i.resonance,i.coherence]},h(l)),w(y=>({...y,currentPatterns:[...y.currentPatterns,l].slice(-z),temporalContext:C(y.temporalContext,l),understanding:{concepts:M(y.understanding.concepts,l),emotions:d(y.understanding.emotions,l),context:u(y.understanding.context,l)},quantumResonance:i.resonance,patternEvolution:v(y.patternEvolution,l)})),await n({type:"video",pattern:l,timestamp:t,quantumContext:i})}catch(t){throw console.error("Error processing video frame:",t),new Error(`Video frame processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}},[a,n,x,r,h,g]),N=c.useCallback(async s=>{try{const t=Date.now(),i=a(t),f=x(s,t);let l=r(f);l||(l={type:"audio",signature:f,confidence:g({type:"audio",confidence:.5,markers:["speech","music","ambient"],timestamp:t,quantumSignature:[i.resonance,i.coherence],signature:f},i),markers:["speech","music","ambient"],timestamp:t,quantumSignature:[i.resonance,i.coherence]},h(l)),w(y=>({...y,currentPatterns:[...y.currentPatterns,l].slice(-z),understanding:{...y.understanding,concepts:M(y.understanding.concepts,l),emotions:d(y.understanding.emotions,l)},patternEvolution:v(y.patternEvolution,l)})),await n({type:"audio",pattern:l,timestamp:t,quantumContext:i})}catch(t){throw console.error("Error processing audio segment:",t),new Error(`Audio segment processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}},[a,n,x,r,h,g]),v=(s,t)=>{Date.now()-s.lastUpdate;const i=t.confidence*.1,f=Math.min(1,s.confidence+i);let l=s.stage;return f>(s.stage+1)*.2&&l++,{stage:l,confidence:f,lastUpdate:Date.now()}},C=(s,t)=>[...new Set([...s,...t.markers])].slice(-20),M=(s,t)=>[...new Set([...s,...t.markers])].filter(f=>j.currentPatterns.filter(y=>y.markers.includes(f)).length>=2),d=(s,t)=>{const i=t.markers.filter(f=>f.startsWith("emotion_"));return[...new Set([...s,...i])]},u=(s,t)=>[...new Set([...s,...t.markers])].slice(-20);return c.useEffect(()=>{},[o,p,g]),{analysisState:j,processVideoFrame:k,processAudioSegment:N,patternCache:m.current}},ye=()=>{$();const o=V(),{anima:n,loading:a,error:p}=_(),{processMediaInteraction:m}=U(),{analysisState:j,processVideoFrame:w}=de(),[r,h]=c.useState(!1),[x,g]=c.useState(null),[k,N]=c.useState([]),[v,C]=c.useState(!1),M=c.useCallback(async d=>{try{C(!0),N(u=>[...u,{id:crypto.randomUUID(),content:d,sender:"user",timestamp:new Date}]),(d.toLowerCase().includes("play")||d.toLowerCase().includes("watch"))&&(g({type:"request",content:d}),m({type:"command",content:d,timestamp:Date.now()})),setTimeout(()=>{N(u=>[...u,{id:crypto.randomUUID(),content:`Neural processing: ${d}`,sender:"anima",timestamp:new Date,personality_updates:[["understanding",j.understanding],["resonance",Math.random()]]}]),C(!1)},1500)}catch(u){console.error("Neural command error:",u),C(!1)}},[m,j]);return H.useEffect(()=>{n&&!r&&(async()=>(await new Promise(u=>setTimeout(u,2e3)),h(!0),N([{id:crypto.randomUUID(),content:`Neural link established with ${n.name}. Quantum state synchronized.`,sender:"anima",timestamp:new Date,system:!0}])))()},[n,r]),a||!r?e.jsx(L,{children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",children:[e.jsx(q,{intensity:.5}),e.jsxs("div",{className:"relative z-10 space-y-4 text-center",children:[e.jsx(K,{}),e.jsx("div",{className:"text-green-500 animate-pulse text-xl",children:"INITIALIZING NEURAL LINK..."})]})]})}):p||!n?e.jsx(L,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsxs("div",{className:"text-red-500 text-xl",children:["ERROR: ",p||"NEURAL LINK FAILED"]}),e.jsx("button",{onClick:()=>o("/quantum-vault"),className:"px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Quantum Vault"})]})})}):e.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[e.jsx(q,{intensity:.7}),e.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"relative z-10",children:[e.jsx(ce,{messages:k,onSendMessage:M,isLoading:v,isTyping:v,animaName:n.name,personality:n.personality,metrics:j,error:p}),e.jsx(ie,{onCommand:M})]})]})};export{ye as EnhancedNeuralLinkPage,ye as default};
//# sourceMappingURL=EnhancedNeuralLinkPage-C4wD3yKG.js.map
