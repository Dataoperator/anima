{"version":3,"mappings":"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AA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EAEAE,EAEAC,EAEAC,EAEAC,EACAqD,GACAA,GACAA,GACAA,GAEApD,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EAEAC,EAEAC,EAEAC,EAEAC,EACAgD,GACAA,GACAA,GACAA,GAEA/C,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EAEAC,EAEAC,EAEAC,GAEAC,GACA2C,GACAA,GACAA,GAEA1C,GAEAC,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EAEAC,EAEAC,EAEAC,EAEAC,EAEAqC,GACAA,GACAA,GACApC,EAEAC,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EAEAC,GAEAC,GAEAC,GAEAC,GAEA+B,GACAA,GACAA,GACA9B,GAEAC,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GAEAC,GAEAC,GAEAC,GAEAC,GACAyB,GACAA,GACAA,GAEAxB,GAEAC,GAEAA,GAEAA,GAEAA,GAEAA,GAEAA,GAEAK,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GACAA,GAC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","names":["base64Js","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","code","i","len","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","extraBytes","parts","maxChunkLength","len2","ieee754","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","d","s","value","rt","base64","require$$0","require$$1","customInspectSymbol","exports","Buffer","SlowBuffer","K_MAX_LENGTH","typedArraySupport","proto","createBuffer","length","buf","arg","encodingOrOffset","allocUnsafe","from","fromString","fromArrayView","isInstance","fromArrayBuffer","valueOf","b","fromObject","assertSize","size","alloc","fill","encoding","checked","string","actual","fromArrayLike","array","arrayView","copy","byteOffset","obj","numberIsNaN","a","y","list","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","str","max","target","thisStart","thisEnd","x","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","found","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","hexSliceLookupTable","bytes","newBuf","checkOffset","ext","noAssert","mul","defineBigIntMethod","validateNumber","first","last","boundsError","lo","hi","checkInt","min","maxBytes","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","limit","sub","checkIEEE754","writeFloat","littleEndian","writeDouble","targetStart","errors","E","sym","getMessage","Base","name","range","input","msg","received","addNumericalSeparator","checkBounds","type","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","c","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","l","p","q","r","t","u","v","w","z","A","B","C","D","F","G","H","I","J","K","L","M","k","h","g","f","N","O","escape","P","Q","R","S","T","U","V","W","react_production_min","reactModule","reactJsxRuntime_production_min","jsxRuntimeModule","MotionConfigContext","createContext","MotionContext","PresenceContext","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","LazyContext","camelToDash","optimizedAppearDataId","optimizedAppearDataAttribute","MotionGlobalConfig","Queue","process","index","createRenderStep","runNextFrame","thisFrame","nextFrame","numToRun","isProcessing","flushNextFrame","toKeepAlive","step","callback","keepAlive","immediate","addToCurrentFrame","queue","frameData","stepsOrder","maxElapsed","createRenderBatcher","scheduleNextBatch","allowKeepAlive","useDefaultElapsed","state","steps","acc","key","processStep","stepId","processBatch","timestamp","wake","microtask","cancelMicrotask","useVisualElement","Component","visualState","props","createVisualElement","parent","useContext","lazyContext","presenceContext","reducedMotionConfig","visualElementRef","useRef","visualElement","useInsertionEffect","wantsHandoff","isRefObject","ref","useMotionRef","externalRef","useCallback","instance","isVariantLabel","isAnimationControls","variantPriorityOrder","variantProps","isControllingVariants","isVariantNode","getCurrentTreeVariants","context","initial","animate","useCreateMotionContext","useMemo","variantLabelsAsDependency","prop","featureProps","featureDefinitions","loadFeatures","features","LayoutGroupContext","SwitchLayoutGroupContext","motionComponentSymbol","createMotionComponent","preloadedFeatures","useRender","useVisualState","MotionComponent","MeasureLayout","configAndProps","useLayoutId","isStatic","initialLayoutGroupConfig","isStrict","React.createElement","ForwardRefComponent","forwardRef","layoutId","layoutGroupId","createMotionProxy","createConfig","custom","customMotionComponentConfig","componentCache","_target","lowercaseSVGElements","isSVGComponent","scaleCorrectors","addScaleCorrector","correctors","transformPropOrder","transformProps","isForcedMotionValue","layout","isMotionValue","translateAlias","numTransforms","buildTransform","transform","enableHardwareAcceleration","allowTransformNone","transformIsDefault","transformTemplate","transformString","transformName","checkStringStartsWith","token","isCSSVariableName","isCSSVariableToken","cssVariableRegex","getValueAsType","clamp","number","alpha","scale","sanitize","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","degrees","percent","px","vh","vw","progressPercentage","int","numberValueTypes","buildHTMLStyles","latestValues","options","style","vars","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","originX","originY","originZ","createHtmlRenderState","copyRawValuesOnly","source","useInitialMotionValues","useStyle","styleProp","useHTMLProps","htmlProps","validMotionProps","isValidMotionProp","shouldForward","loadExternalIsValidProp","isValidProp","filterProps","isDom","forwardMotionProps","filteredProps","calcOrigin","origin","calcSVGTransformOrigin","dimensions","pxOriginX","pxOriginY","dashKeys","camelKeys","buildSVGPath","attrs","spacing","useDashCase","keys","pathLength","pathSpacing","buildSVGAttrs","attrX","attrY","attrScale","pathOffset","latest","isSVGTag","createSvgRenderState","tag","useSVGProps","_isStatic","visualProps","rawStyles","createUseRender","elementProps","children","renderedChildren","createElement","renderHTML","element","projection","camelCaseAttributes","renderSVG","renderState","_styleProp","scrapeMotionValuesFromProps","prevProps","newValues","scrapeMotionValuesFromProps$1","targetKey","resolveVariantFromProps","definition","currentValues","currentVelocity","useConstant","init","isKeyframesTarget","isCustomValue","resolveFinalValueInKeyframes","resolveMotionValue","unwrappedValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","config","make","scrapeMotionValues","values","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","resolved","transitionEnd","transition","valueTarget","noop","any","frame","cancelFrame","svgMotionConfig","htmlMotionConfig","createDomMotionConfig","addDomEvent","eventName","handler","isPrimaryPointer","event","extractEventInfo","pointType","addPointerInfo","addPointerEvent","combineFunctions","pipe","transformers","createLock","lock","openLock","globalHorizontalLock","globalVerticalLock","getGlobalLock","drag","openHorizontal","openVertical","isDragActive","openGestureLock","Feature","node","addHoverEvent","isActive","callbackName","handleEvent","info","HoverGesture","FocusGesture","isFocusVisible","isNodeOrChild","child","fireSyntheticPointerEvent","syntheticPointerEvent","PressGesture","startEvent","startInfo","removePointerUpListener","endEvent","endInfo","onTap","onTapCancel","globalTapTarget","removePointerCancelListener","cancelEvent","cancelInfo","handleKeydown","keydownEvent","handleKeyup","keyupEvent","removeKeydownListener","handleBlur","removeBlurListener","onTapStart","whileTap","removePointerListener","removeFocusListener","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","entries","initIntersectionObserver","root","lookupRoot","rootObservers","observeIntersection","rootInteresectionObserver","thresholdNames","InViewFeature","viewport","rootMargin","amount","once","onIntersectionUpdate","isIntersecting","onViewportEnter","onViewportLeave","hasViewportOptionChanged","prevViewport","gestureAnimations","shallowCompare","next","prev","prevLength","getCurrent","current","getVelocity","velocity","resolveVariant","invariant","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","instantAnimationState","isBezierDefinition","easing","isWaapiSupportedEasing","supportedWaapiEasing","cubicBezierAsString","mapEasingToNativeEasing","animateStyle","valueName","keyframes","delay","duration","repeat","repeatType","ease","times","keyframeOptions","getFinalKeyframe","calcBezier","a1","a2","subdivisionPrecision","subdivisionMaxIterations","binarySubdivide","lowerBound","upperBound","mX1","mX2","currentX","currentT","cubicBezier","mY1","mY2","getTForX","aX","easeIn","easeOut","easeInOut","isEasingArray","mirrorEasing","reverseEasing","circIn","circOut","circInOut","backOut","backIn","backInOut","anticipate","easingLookup","easingDefinitionToFunction","x1","y1","x2","y2","isColorString","testProp","splitColor","aName","bName","cName","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","parseHex","hex","hsla","hue","saturation","lightness","color","mix","to","progress","hueToRgb","hslaToRgba","mixLinearColor","fromExpo","colorTypes","getColorType","asRGBA","model","mixColor","fromRGBA","toRGBA","blended","test","_a","_b","cssVarTokeniser","colorTokeniser","numberTokeniser","tokenise","regex","countKey","parse","matches","analyseComplexValue","originalValue","parseComplexValue","createTransformer","numColors","numVars","tokenised","numValues","convertNumbersToZero","getAnimatableNone","complex","mixImmediate","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","template","originStats","targetStats","toFromDifference","mixNumber","detectMixerFactory","createMixers","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","isClamp","inputLength","interpolator","progressInRange","fillOffset","offsetProgress","defaultOffset","convertOffsetToTimes","o","defaultEasing","keyframeValues","easingFunctions","absoluteTimes","mapTimeToKeyframe","velocityPerSecond","frameDuration","velocitySampleDuration","calcGeneratorVelocity","resolveValue","prevT","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","delta","calcAngularFreq","initialGuess","approximateRoot","stiffness","rootIterations","result","durationKeys","physicsKeys","isSpringType","getSpringOptions","springOptions","derived","spring","restDelta","restSpeed","damping","isResolvedFromDuration","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","dampedAngularFreq","freqForT","isBelowVelocityThreshold","isBelowDisplacementThreshold","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","isOutOfBounds","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","now","clearTime","time","newTime","frameloopDriver","update","passTimestamp","maxGeneratorDuration","calcGeneratorDuration","generator","timeStep","types","animateValue","autoplay","driver","keyframes$1","repeatDelay","onPlay","onStop","onComplete","onUpdate","speed","hasStopped","resolveFinishedPromise","currentFinishedPromise","updateFinishedPromise","resolve","animationDriver","generatorFactory","mapNumbersToKeyframes","mirroredGenerator","playState","holdTime","startTime","cancelTime","calculatedDuration","resolvedDuration","totalDuration","currentTime","tick","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","iterationProgress","done","isAnimationFinished","finish","stopAnimationDriver","cancel","play","controls","reject","newSpeed","memo","supportsWaapi","acceleratedValues","sampleDelta","requiresPregeneratedKeyframes","createAcceleratedAnimation","pendingCancel","sampleAnimation","pregeneratedKeyframes","animation","cancelAnimation","safeCancel","timeline","createInstantAnimation","setValue","underDampedSpring","criticallyDampedSpring","keyframesTransition","getDefaultTransition","valueKey","isAnimatable","maxDefaults","applyDefaultFilter","defaultValue","functionRegex","filter","functions","defaultValueTypes","getDefaultValueType","defaultValueType","isZeroValueString","isNone","getKeyframes","isTargetAnimatable","defaultOrigin","animatableTemplateValue","noneKeyframeIndexes","isTransitionDefined","when","_delay","delayChildren","staggerChildren","staggerDirection","getValueTransition","animateMotionValue","valueTransition","originKeyframe","targetKeyframe","isOriginAnimatable","acceleratedAnimation","isWillChangeMotionValue","isNumericalString","addUniqueItem","item","removeItem","SubscriptionManager","numSubscriptions","MAX_VELOCITY_DELTA","isFloat","MotionValue","render","prevFrameValue","subscription","unsubscribe","eventManagers","passiveEffect","stopPassiveEffect","startAnimation","motionValue","testValueType","auto","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","setTarget","checkTargetForNewValues","newValueKeys","numNewValues","targetValue","getOriginFromTransition","getOrigin","transitionOrigin","shouldBlockAnimation","protectedKeys","needsAnimating","shouldBlock","hasKeyframesChanged","animateTarget","transitionOverride","willChange","animations","animationTypeState","appearId","canSkip","animateVariant","variant","getAnimation","getChildAnimations","forwardDelay","animateChildren","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateVisualElement","resolvedDefinition","reversePriorityOrder","numAnimationTypes","animateList","createAnimationState","createState","isInitialRender","buildResolvedTypeValues","setAnimateFunction","makeAnimator","animateChanges","changedActiveType","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isInherited","shouldAnimateType","checkVariantsDidChange","handledRemovedValues","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","valueHasChanged","fallbackAnimation","fallbackTarget","shouldAnimate","setActive","createTypeState","AnimationFeature","prevAnimate","id","ExitAnimationFeature","isPresent","onExitComplete","prevIsPresent","exitAnimation","register","distance","distance2D","xDelta","yDelta","PanSession","handlers","transformPagePoint","contextWindow","dragSnapToOrigin","getPanInfo","isPanStarted","isDistancePastThreshold","point","onStart","onMove","transformPoint","onEnd","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","subtractPoint","history","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","calcLength","axis","isNear","maxDistance","calcAxisDelta","calcBoxDelta","calcRelativeAxis","relative","calcRelativeBox","calcRelativeAxisPosition","calcRelativePosition","applyConstraints","elastic","calcRelativeAxisConstraints","calcRelativeConstraints","layoutBox","top","left","bottom","right","calcViewportAxisConstraints","layoutAxis","constraintsAxis","calcViewportConstraints","constraintsBox","sourceLength","targetLength","rebaseAxisConstraints","constraints","relativeConstraints","defaultElastic","resolveDragElastic","dragElastic","resolveAxisElastic","minLabel","maxLabel","resolvePointElastic","label","createAxisDelta","createDelta","createAxis","createBox","eachAxis","convertBoundingBoxToBox","convertBoxToBoundingBox","transformBoxPoints","topLeft","bottomRight","isIdentityScale","hasScale","scaleX","scaleY","has2DTranslate","is2DTranslate","scalePoint","originPoint","distanceFromOrigin","scaled","applyPointDelta","translate","boxScale","applyAxisDelta","applyBoxDelta","box","applyTreeDeltas","treeScale","treePath","isSharedTransition","treeLength","transformBox","snapToDefault","translateAxis","transformAxis","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","measureViewportBox","measurePageBox","rootProjectionNode","viewportBox","scroll","getContextWindow","elementDragControls","VisualElementDragControls","originEvent","snapToCursor","dragPropagation","onDragStart","measuredAxis","animationState","dragDirectionLock","onDirectionLock","onDrag","getCurrentDirection","isDragging","onDragEnd","_point","shouldDrag","axisValue","dragConstraints","prevConstraints","onMeasureDragConstraints","constraintsElement","measuredConstraints","userConstraints","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","dragKey","externalMotionValue","boxProgress","stopPointerListener","dragListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","direction","currentDirection","lockThreshold","DragGesture","dragControls","asyncHandler","PanGesture","pointerDownEvent","onPanSessionStart","onPanStart","onPan","onPanEnd","usePresence","useId","globalProjectionState","pixelsToPercent","pixels","correctBorderRadius","correctBoxShadow","projectionDelta","original","shadow","xScale","yScale","averageScale","MeasureLayoutWithContext","React__default","layoutGroup","switchLayoutGroup","defaultScaleCorrectors","layoutDependency","stack","promoteContext","safeToRemove","borders","numBorders","asNumber","isPx","mixValues","follow","lead","shouldCrossfadeOpacity","isOnlyMember","easeCrossfadeIn","easeCrossfadeOut","borderLabel","followRadius","getRadius","leadRadius","radiusName","compress","copyAxisInto","originAxis","copyBoxInto","originBox","removePointDelta","removeAxisDelta","sourceAxis","removeAxisTransforms","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","boxEquals","boxEqualsRounded","aspectRatio","NodeStack","prevLead","indexOfNode","member","preserveFollowOpacity","crossfade","resumingFrom","buildProjectionTransform","latestTransform","xTranslate","yTranslate","rotate","rotateX","rotateY","elementScaleX","elementScaleY","compareByDepth","FlatTree","timeout","checkElapsed","record","data","isSVGElement","animateSingleValue","motionValue$1","transformAxes","hiddenVisibility","animationTarget","projectionFrameData","createProjectionNode","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","args","subscriptionManager","isLayoutDirty","cancelDelay","resizeUnblockUpdate","finishAnimation","hasRelativeTargetChanged","newLayout","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","targetChanged","hasOnlyRelativeTargetChanged","animationOptions","resetRotation","shouldNotifyListeners","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","updateLayout","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","prevLayout","phase","needsMeasurement","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","roundBox","boxWithoutScroll","rootScroll","transformOnly","withTransforms","boxWithoutTransform","nodeBox","forceRecalculation","isShared","relativeParent","prevTreeScaleX","prevTreeScaleY","prevProjectionTransform","notifyAll","snapshot","snapshotLatestValues","mixedValues","targetDelta","relativeLayout","snapshotSource","layoutSource","isSharedLayoutAnimation","hasOpacityCrossfade","prevRelativeTarget","mixAxisDelta","mixBox","targetWithTransforms","shouldAnimatePositionOnly","xLength","yLength","needsReset","hasRotate","resetValues","styles","emptyStyles","valuesToRender","correct","applyTo","corrected","measuredLayout","animationType","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","mixAxis","userAgentContains","roundPoint","roundAxis","DocumentProjectionNode","notify","HTMLProjectionNode","documentNode","splitCSSVariableRegex","parseCSSVariable","match","fallback","getVariableValue","depth","trimmed","resolveCSSVariables","positionalKeys","isPositionalKey","hasPositionalKey","isNumOrPxType","getPosFromMatrix","matrix","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","transformKeys","nonTranslationalTransformKeys","removeNonTranslationalTransform","removedTransforms","positionalValues","paddingLeft","paddingRight","paddingTop","paddingBottom","convertChangedValueTypes","changedKeys","originBbox","elementComputedStyle","display","targetBbox","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","fromType","toType","numKeyframes","fromIndex","scrollY","convertedTarget","unitConversion","parseDomVariant","prefersReducedMotion","hasReducedMotionListener","initPrefersReducedMotion","motionMediaQuery","setReducedMotionPreferences","updateMotionValuesFromProps","nextValue","prevValue","existingValue","latestValue","visualElementStore","featureNames","numFeatures","propEventHandlers","numVariantProps","VisualElement","initialMotionValues","_props","_prevProps","remove","valueIsTransform","removeOnChange","removeOnRenderRequest","other","renderedProps","ProjectionNodeConstructor","isEnabled","FeatureConstructor","ProjectionNode","MeasureLayoutComponent","layoutScroll","layoutRoot","feature","canMutate","listener","startAtParent","closestVariantNode","valueFromInitial","DOMVisualElement","isMounted","getComputedStyle","HTMLVisualElement","defaultType","computedStyle","SVGVisualElement","createDomVisualElement","motion","useIsMounted","useForceUpdate","forcedRenderCount","setForcedRenderCount","useState","forceRender","PopChildMeasure","React.Component","PopChild","width","height","React.cloneElement","PresenceChild","presenceAffectsLayout","mode","presenceChildren","newChildrenMap","childId","isComplete","_","React.useEffect","useUnmountEffect","getChildKey","updateChildLookup","allChildren","onlyElements","filtered","Children","isValidElement","AnimatePresence","exitBeforeEnter","filteredChildren","childrenToRender","exitingChildren","presentChildren","React.Fragment","presentKeys","targetKeys","numPresent","component","insertionIndex","exitingComponent","onExit","leftOverKeys","childKey","leftOverKey","presentChild","presentChildKey","cloneElement","ReplicaRejectCode","lookupTable","encode","skip","bits","encodeByte","byte","decode","decodeChar","char","lookUpTable","getCrc32","crc","isBytes","abytes","lengths","aexists","checkFinished","aoutput","crypto","createView","rotr","word","shift","toBytes","Hash","wrapConstructor","hashCons","hashC","randomBytes","bytesLength","setBigUint64","view","_32n","_u32_max","wh","wl","Chi","Maj","HashMD","blockLen","outputLen","padOffset","take","dataView","oview","outLen","finished","destroyed","SHA256_K","SHA256_IV","SHA256_W","SHA256","W15","W2","s0","s1","sigma1","T1","T2","SHA224","sha256","sha224","jsSha224","JSON_KEY_PRINCIPAL","SELF_AUTHENTICATING_SUFFIX","ANONYMOUS_SUFFIX","MANAGEMENT_CANISTER_PRINCIPAL_HEX_STR","fromHexString","hexString","toHexString","Principal$1","Principal","_arr","publicKey","sha","text","maybePrincipal","canisterIdNoDash","principal","checksumArrayBuf","checksum","cmp","AgentError","message","concat","buffers","curr","PipeArrayBuffer","idlHash","idlLabelToId","eob","safeRead","safeReadUint8","lebEncode","Pipe","lebDecode","weight","slebEncode","isNeg","getLowerBytes","slebDecode","pipeView","writeUIntLE","writeIntLE","readUIntLE","readIntLE","iexp2","nBig","magicNumber","toReadableString_max","zipWith","xs","ys","TypeTable","idx","knot","knotIdx","typeName","Visitor","ty","fields","components","Type","toReadableString","typeTable","PrimitiveType","ConstructType","RecClass","EmptyClass","UnknownClass","decodedValue","typeFunc","BoolClass","NullClass","ReservedClass","TextClass","IntClass","NatClass","FloatClass","_bits","opcode","FixedIntClass","ok","FixedNatClass","VecClass","_type","encoded","opCode","vec","rets","OptClass","opt","RecordClass","bufs","expectedRecordIdx","actualRecordIdx","hash","expectKey","expectType","expectedId","actualId","TupleClass","_components","tuple","wireType","VariantClass","wireHash","decodePrincipalId","PrincipalId","PrincipalClass","FuncClass","argTypes","retTypes","annotations","methodName","canister","method","methodLen","argLen","retLen","annLen","anns","annon","ann","ServiceClass","func","meths","labelBuf","labelLen","_key","magic","typs","vals","magicBuffer","readTypeTable","objectLength","prevHash","argLength","returnValues","returnValuesLength","annotationLength","servLength","methods","nameLength","funcName","funcType","rawList","rawTable","rawTypes","Rec","getType","Null","Bool","Nat","Int","Nat8","Nat16","Nat32","Nat64","Int8","Int16","Int32","Int64","Float32","Float64","Text","Reserved","Empty","buildType","Vec","Opt","Record","Tuple","Variant","Func","rec","typeRef","Service","ind","Unknown","globalObject","BigNumber","isNumeric","mathceil","mathfloor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","clone","configObject","div","convertBase","parseNumeric","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","ALPHABET","alphabetHasNormalDecimalDigits","caseChanged","isNum","intCheck","round","maxOrMin","pow2_53","random53bitInt","dp","rand","sum","decimal","toBaseOut","baseIn","baseOut","arrL","sign","callerIsToString","xc","rm","toFixedPoint","coeffToString","multiply","base","temp","xlo","xhi","carry","klo","khi","compare","aL","bL","subtract","more","prod","prodL","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","yc","bitFloor","format","c0","ne","toExponential","normalise","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","p1","p2","sd","ni","rd","pows10","half","isModExp","nIsBig","nIsNeg","nIsOdd","isOdd","xLTy","xe","ye","xcL","ycL","ylo","yhi","zc","sqrtBase","rep","g1","g2","groupSeparator","intPart","fractionPart","intDigits","md","d0","d1","d2","exp","n0","n1","zs","module","this","decoder_asm","stdlib","foreign","heap","pushInt","pushInt32","pushInt32Neg","pushInt64","pushInt64Neg","pushFloat","pushFloatSingle","pushFloatDouble","pushTrue","pushFalse","pushUndefined","pushNull","pushInfinity","pushInfinityNeg","pushNaN","pushNaNNeg","pushArrayStart","pushArrayStartFixed","pushArrayStartFixed32","pushArrayStartFixed64","pushObjectStart","pushObjectStartFixed","pushObjectStartFixed32","pushObjectStartFixed64","pushByteString","pushByteStringStart","pushUtf8String","pushUtf8StringStart","pushSimpleUnassigned","pushTagStart","pushTagStart4","pushTagStart8","pushTagUnassigned","pushBreak","pow","jumpTable","readUInt16","readUInt32","INT_P","octet","UINT_P_8","UINT_P_16","UINT_P_32","UINT_P_64","INT_N","UINT_N_8","UINT_N_16","UINT_N_32","UINT_N_64","BYTE_STRING","BYTE_STRING_8","BYTE_STRING_16","BYTE_STRING_32","BYTE_STRING_64","BYTE_STRING_BREAK","UTF8_STRING","UTF8_STRING_8","UTF8_STRING_16","UTF8_STRING_32","UTF8_STRING_64","UTF8_STRING_BREAK","ARRAY","ARRAY_8","ARRAY_16","ARRAY_32","ARRAY_64","ARRAY_BREAK","MAP","MAP_8","MAP_16","MAP_32","MAP_64","MAP_BREAK","TAG_KNOWN","TAG_BIGNUM_POS","TAG_BIGNUM_NEG","TAG_FRAC","TAG_BIGNUM_FLOAT","TAG_UNASSIGNED","TAG_BASE64_URL","TAG_BASE64","TAG_BASE16","TAG_MORE_1","TAG_MORE_2","TAG_MORE_4","TAG_MORE_8","SIMPLE_UNASSIGNED","SIMPLE_FALSE","SIMPLE_TRUE","SIMPLE_NULL","SIMPLE_UNDEFINED","SIMPLE_BYTE","SIMPLE_FLOAT_HALF","mant","SIMPLE_FLOAT_SINGLE","SIMPLE_FLOAT_DOUBLE","ERROR","BREAK","Bignumber","constants","require$$2","SHIFT32","SHIFT16","MAX_SAFE_HIGH","toHex","f1","f2","u32","s16","lenA","lenB","count","MT","SIMPLE","SYMS","Simple$1","Simple","gen","hasParent","simple","Tagged$1","Tagged","err","converters","er","error","tagged","defaultBase","URL","URLWithLegacySupport$2","url","host","hostname","href","password","pathname","port","protocol","search","searchParams","username","userPass","auth","path","urlBrowser","URLWithLegacySupport","location","protocolMap","defaultProtocol","urlParsed","URLSearchParams","isoUrl","parser","require$$3","utils","require$$4","require$$5","require$$6","require$$7","require$$8","Decoder$1","Decoder","opts","hasChildren","tagNumber","typ","raw","len1","len3","len4","enc","decoder","Diagnose","fl","map","collectObject","diagnose","NUMBYTES","TAG","HALF","FLOAT","DOUBLE","TRUE","FALSE","UNDEFINED","NULL","MAXINT_BN","BUF_NAN","BUF_INF_NEG","BUF_INF_POS","Encoder","addTypes","fun","old","b2","b4","mt","orig","dec","slide","keyLength","resultLength","resultMethod","encoder","hexRe","fromHex","b1","u1","u2","bufEquals","uint8ToBuf","hashValue","borc","hashString","hashOfMap","requestIdOf","request","sorted","hashedKey","hashedValue","k1","k2","concatenated","__rest","domainSeparator","SignIdentity","body","requestId","AnonymousIdentity","MAX_U64_NUMBER","_concat","newBuffer","_serializeValue","major","minor","_serializeNumber","_serializeString","utf8","charcode","uSmall","u8","radix","u16","u64","iSmall","i8","i32","i64","newI64","items","stable","keyA","keyB","singleFloat","single","doubleFloat","bool","true_","false_","null_","undefined_","__importStar","mod","serializer","cbor","BufferClasses","JsonDefaultCborEncoder","_serializer","_stable","ToCborEncoder","CborSerializer","chosenEncoder","SelfDescribeCborSerializer","__export","PrincipalEncoder","cbor.value","BufferEncoder","BigIntEncoder","CborTag","decodePositiveBigInt","Uint8ArrayDecoder","randomNumber","SubmitRequestType","makeNonce","rand1","rand2","rand3","rand4","NANOSECONDS_PER_MILLISECONDS","REPLICA_PERMITTED_DRIFT_MILLISECONDS","Expiry","deltaInMSec","rounded_down_nanos","makeNonceTransform","nonceFn","headers","httpHeadersTransform","headerFields","AgentHTTPResponseError","response","chars","bufferLength","encoded1","encoded2","encoded3","encoded4","arraybuffer","wasmBytesBase64","wasm","wasmBytes","base64Arraybuffer.decode","bls_init","cachegetUint8Memory0","getUint8Memory0","passArray8ToWasm0","malloc","ptr","bls_verify","sig","ptr0","len0","ptr1","ptr2","load","imports","verify","blsVerify","pk","pk1","sig1","msg1","decodeLeb128","decodeTime","decoded","CertificateVerificationError","reason","NodeId","isBufferEqual","a8","b8","Certificate","certificate","_rootKey","_canisterId","_blsVerify","_maxAgeInMinutes","cbor.decode","bls.blsVerify","cert","lookupResultToBuffer","lookup_path","rootHash","reconstruct","derKey","extractDER","domain_sep","sigVer","lookupTime","FIVE_MINUTES_IN_MSEC","MAX_AGE_IN_MSEC","earliestCertificateTime","fiveMinutesFromNow","certTime","check_canister_ranges","publicKeyLookup","DER_PREFIX","KEY_LENGTH","expectedLength","prefix","tree","find_label","flatten_forks","trees","params","canisterId","subnetId","rangeLookup","agent","paths","uniquePaths","encodedPaths","encodePath","status","promises","fetchNodeKeys","decodeControllers","decodeHex","decodeCbor","decodeUtf8","root_key","Cbor.decode","delegation","nodeTree","nodeForks","nodeKeys","fork","node_id","derEncodedPublicKey","canisterBuffer","metaPath","U32_MASK64","fromBig","le","split","lst","Ah","Al","toBig","shrSH","_l","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","_h","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","add","Bh","Bl","add3L","Cl","add3H","low","Ch","add4L","Dl","add4H","Dh","add5L","El","add5H","Eh","SHA512_Kh","SHA512_Kl","SHA512_W_H","SHA512_W_L","SHA512","Fh","Fl","Gh","Gl","Hh","Hl","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","All","sha512","_0n","_1n","_2n","abool","title","hexes","bytesToHex","hexToNumber","asciis","asciiToBase16","ch","hexToBytes","hl","al","ai","n2","bytesToNumberBE","bytesToNumberLE","numberToBytesBE","numberToBytesLE","ensureBytes","concatBytes","arrays","pad","isPosBig","inRange","aInRange","bitLen","bitMask","validatorFns","object","validateObject","validators","optValidators","checkField","fieldName","isOptional","checkVal","memoized","computed","_3n","_4n","_5n","_8n","modulo","pow2","invert","tonelliShanks","legendreC","Z","p1div4","Fp","Q1div2","t2","ge","FpSqrt","c1","nv","isNegativeLE","FIELD_FIELDS","validateField","field","FpPow","FpInvertBatch","nums","lastMultiplied","inverted","nLength","nBitLength","_nBitLength","nByteLength","Field","ORDER","redef","BITS","BYTES","sqrtP","lhs","rhs","constTimeNegate","condition","neg","validateW","calcWOpts","windows","windowSize","validateMSMPoints","points","validateMSMScalars","scalars","pointPrecomputes","pointWindowSizes","getW","wNAF","elm","window","precomputes","mask","maxNumber","shiftBy","wbits","offset1","offset2","cond1","cond2","comp","pippenger","fieldN","zero","MASK","buckets","lastBits","scalar","resI","sumI","validateBasic","curve","VERIFY_DEFAULT","validateOpts","ut.validateObject","twistedEdwards","curveDef","CURVE","CURVE_ORDER","prehash","cHash","cofactor","modP","Fn","uvRatio","adjustScalarBytes","domain","ctx","phflag","aCoordinate","ut.aInRange","assertPoint","Point","toAffineMemo","iz","is0","ax","ay","zz","assertValidMemo","X","Y","X2","Y2","Z2","Z4","aX2","XY","ZT","ex","ey","ez","et","toInv","wnaf","X1","Y1","Z1","X1Z2","X2Z1","Y1Z2","Y2Z1","x1y1","X3","Y3","T3","Z3","zip215","normed","lastByte","ut.bytesToNumberLE","isValid","isXOdd","isLastByteOdd","privKey","getExtendedPublicKey","ut.numberToBytesLE","ut.bytesToHex","modN","modN_LE","hashed","head","pointBytes","getPublicKey","hashDomainToScalar","msgs","ut.concatBytes","verifyOpts","SB","ED25519_P","ED25519_SQRT_M1","ed25519_pow_2_252_3","_10n","_20n","_40n","_80n","b5","b10","b20","b40","b80","b160","b240","b250","v3","v7","vx2","root1","root2","useRoot1","useRoot2","noRoot","ed25519Defaults","ed25519","__classPrivateFieldSet","receiver","kind","__classPrivateFieldGet","_ExpirableMap_inner","_ExpirableMap_expirationTime","ExpirableMap","expirationTime","iterator","callbackfn","thisArg","encodeLenBytes","encodeLen","decodeLenBytes","decodeLen","lenBytes","ED25519_OID","wrapDER","payload","oid","bitStringHeaderLength","unwrapDER","derEncoded","expect","payloadLen","_Ed25519PublicKey_rawKey","_Ed25519PublicKey_derKey","Ed25519PublicKey$1","Ed25519PublicKey","rawKey","unwrapped","_HttpAgent_queryPipeline","_HttpAgent_updatePipeline","_HttpAgent_subnetKeys","_HttpAgent_verifyQuerySignatures","_HttpAgent_verifyQueryResponse","RequestStatusResponseStatus","DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS","IC_ROOT_KEY","IC0_DOMAIN","IC0_SUB_DOMAIN","ICP0_DOMAIN","ICP0_SUB_DOMAIN","ICP_API_DOMAIN","ICP_API_SUB_DOMAIN","HttpDefaultFetchError","IdentityInvalidError","getDefaultFetch","defaultFetch","HttpAgent","queryResponse","subnetStatus","signatures","identity","nodeId","reply","reject_code","reject_message","error_code","separatorWithHash","pubKey","knownHosts","knownHost","priority","ecid","sender","ingress_expiry","submit","transformedRequest","cbor.encode","responseBuffer","responseBody","tries","responseText","errorMessage","makeQuery","getSubnetStatus","query","updatedSubnetStatus","CanisterStatus","__vitePreload","callTime","replicaTime","effectiveCanisterId","subnetResponse","r2","ProxyMessageKind","getDefaultAgent","defaultStrategy","chain","conditionalDelay","backoff","timeInMsec","startingThrottleInMsec","backoffFactor","currentThrottling","strategies","pollForResponse","strategy","currentRequest","maybeBuf","rejectCode","rejectMessage","managementCanisterIdl","IDL","canister_id","definite_canister_settings","canister_settings","wasm_module","ActorCallError","QueryCallRejectedError","UpdateCallRejectedError","CanisterInstallMode","metadataSymbol","Actor","metadata","actor","wasmModule","getManagementCanister","interfaceFactory","service","CanisterActor","DEFAULT_ACTOR_CONFIG","ACTOR_METHOD_WITH_HTTP_DETAILS","_createActorMethod","configuration","decodeReturnValue","IDL.decode","strategy.defaultStrategy","caller","cid","IDL.encode","pollingStrategyFactory","pollStrategy","responseBytes","shouldIncludeHttpDetails","_methodName","_callConfig","_Ed25519KeyIdentity_publicKey","_Ed25519KeyIdentity_privateKey","Ed25519KeyIdentity","privateKey","seed","sk","publicKeyDer","privateKeyRaw","json","secretKey","challenge","blob","signature","CryptoError","_getEffectiveCrypto","subtleCrypto","ECDSAKeyIdentity","keyPair","extractable","keyUsages","effectiveCrypto","requestDomainSeparator","_parseBlob","Delegation","pubkey","expiration","targets","_createSingleDelegation","DelegationChain","delegations","parsedDelegations","signedDelegation","DelegationIdentity","_inner","_delegation","isDelegationValid","checks","scopes","scope","none","PubKeyCoseAlgo","events","IdleManager","onIdle","idleTimeout","_resetTimer","debounce","wait","later","cb","exit","instanceOfAny","constructors","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","getCursorAdvanceMethods","cursorRequestMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","promisifyRequest","promise","unlisten","success","wrap","cacheDonePromiseForTransaction","tx","complete","idbProxyTraps","replaceTraps","wrapFunction","storeNames","unwrap","transformCachableValue","newValue","openDB","version","blocked","upgrade","blocking","terminated","openPromise","db","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","storeName","oldTraps","AUTH_DB_NAME","OBJECT_STORE_NAME","_openDbStore","dbName","KEY_STORAGE_DELEGATION","KEY_STORAGE_KEY","database","_getValue","_setValue","_removeValue","IdbKeyVal","_db","_storeName","KEY_VECTOR","DB_VERSION","LocalStorage","_localStorage","ls","IdbStorage","IDENTITY_PROVIDER_DEFAULT","IDENTITY_PROVIDER_ENDPOINT","ECDSA_KEY_LABEL","ED25519_KEY_LABEL","INTERRUPT_CHECK_INTERVAL","ERROR_USER_INTERRUPT","AuthClient","_identity","_chain","_storage","idleManager","_createOptions","_idpWindow","_eventHandler","logout","idleOptions","_c","storage","keyType","maybeIdentityStorage","fallbackLocalStorage","localChain","localKey","chainStorage","_deleteStorage","onSuccess","delegationChain","_d","defaultTimeToLive","identityProviderUrl","checkInterruption","onError","idlFactory","TraitEvolution","Error","ConsciousnessState","MemoryFragment","NeuralPatternResult","AnimaCreationResult","QuantumFieldResult","InteractionResult","Account","AccountBalanceArgs","Tokens","TimeStamp","TransferArgs","BlockIndex","TransferError","TransferResult","ErrorTracker","maxErrors","constructor","getInstance","trackError","errorInfo","Date","push","getErrors","getRecentErrors","sort","slice","clearErrors","getErrorStats","stats","forEach","errorType","define_process_env_default","defaultAttributes","toKebabCase","createLucideIcon","iconName","iconNode","strokeWidth","absoluteStrokeWidth","rest","createLucideIcon$1","Activity","AlertCircle","Brain","CheckCircle","ChevronRight","CreditCard","Info","Loader2","Lock","Network","Shield","Zap","useAuth","useAuthContext","MatrixRain","className","canvasRef","canvas","getContext","innerWidth","innerHeight","fontSize","columns","drops","interval","setInterval","draw","fillStyle","fillRect","font","Math","floor","random","fillText","handleResize","addEventListener","clearInterval","removeEventListener","useAnima","animas","setAnimas","loading","setLoading","setError","activeAnima","setActiveAnima","fetchUserAnimas","getPrincipal","userAnimas","get_user_animas","console","getAnima","anima","get_anima","createAnima","create_anima"],"sources":["../../node_modules/base64-js/index.js","../../node_modules/ieee754/index.js","../../node_modules/buffer/index.js","../../node_modules/react/cjs/react.production.min.js","../../node_modules/react/index.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","../../node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","../../node_modules/framer-motion/dist/es/context/PresenceContext.mjs","../../node_modules/framer-motion/dist/es/utils/is-browser.mjs","../../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../../node_modules/framer-motion/dist/es/context/LazyContext.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","../../node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","../../node_modules/framer-motion/dist/es/utils/GlobalConfig.mjs","../../node_modules/framer-motion/dist/es/frameloop/render-step.mjs","../../node_modules/framer-motion/dist/es/frameloop/batcher.mjs","../../node_modules/framer-motion/dist/es/frameloop/microtask.mjs","../../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","../../node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","../../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","../../node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","../../node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","../../node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","../../node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","../../node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","../../node_modules/framer-motion/dist/es/motion/features/definitions.mjs","../../node_modules/framer-motion/dist/es/motion/features/load-features.mjs","../../node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","../../node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","../../node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","../../node_modules/framer-motion/dist/es/motion/index.mjs","../../node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","../../node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","../../node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","../../node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","../../node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","../../node_modules/framer-motion/dist/es/utils/clamp.mjs","../../node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","../../node_modules/framer-motion/dist/es/value/types/utils.mjs","../../node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","../../node_modules/framer-motion/dist/es/render/html/use-props.mjs","../../node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","../../node_modules/framer-motion/dist/es/render/svg/use-props.mjs","../../node_modules/framer-motion/dist/es/render/dom/use-render.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/render.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","../../node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","../../node_modules/framer-motion/dist/es/utils/use-constant.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","../../node_modules/framer-motion/dist/es/utils/resolve-value.mjs","../../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","../../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","../../node_modules/framer-motion/dist/es/utils/noop.mjs","../../node_modules/framer-motion/dist/es/frameloop/frame.mjs","../../node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","../../node_modules/framer-motion/dist/es/render/html/config-motion.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","../../node_modules/framer-motion/dist/es/events/add-dom-event.mjs","../../node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","../../node_modules/framer-motion/dist/es/events/event-info.mjs","../../node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","../../node_modules/framer-motion/dist/es/utils/pipe.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","../../node_modules/framer-motion/dist/es/motion/features/Feature.mjs","../../node_modules/framer-motion/dist/es/gestures/hover.mjs","../../node_modules/framer-motion/dist/es/gestures/focus.mjs","../../node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","../../node_modules/framer-motion/dist/es/gestures/press.mjs","../../node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","../../node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","../../node_modules/framer-motion/dist/es/motion/features/gestures.mjs","../../node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","../../node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","../../node_modules/framer-motion/dist/es/utils/errors.mjs","../../node_modules/framer-motion/dist/es/utils/time-conversion.mjs","../../node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","../../node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","../../node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","../../node_modules/framer-motion/dist/es/easing/ease.mjs","../../node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","../../node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","../../node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","../../node_modules/framer-motion/dist/es/easing/circ.mjs","../../node_modules/framer-motion/dist/es/easing/back.mjs","../../node_modules/framer-motion/dist/es/easing/anticipate.mjs","../../node_modules/framer-motion/dist/es/easing/utils/map.mjs","../../node_modules/framer-motion/dist/es/value/types/color/utils.mjs","../../node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","../../node_modules/framer-motion/dist/es/value/types/color/hex.mjs","../../node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","../../node_modules/framer-motion/dist/es/value/types/color/index.mjs","../../node_modules/framer-motion/dist/es/utils/mix.mjs","../../node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","../../node_modules/framer-motion/dist/es/utils/mix-color.mjs","../../node_modules/framer-motion/dist/es/value/types/complex/index.mjs","../../node_modules/framer-motion/dist/es/utils/mix-complex.mjs","../../node_modules/framer-motion/dist/es/utils/progress.mjs","../../node_modules/framer-motion/dist/es/utils/interpolate.mjs","../../node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","../../node_modules/framer-motion/dist/es/utils/offsets/default.mjs","../../node_modules/framer-motion/dist/es/utils/offsets/time.mjs","../../node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","../../node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","../../node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","../../node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","../../node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","../../node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","../../node_modules/framer-motion/dist/es/frameloop/sync-time.mjs","../../node_modules/framer-motion/dist/es/animation/animators/js/driver-frameloop.mjs","../../node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","../../node_modules/framer-motion/dist/es/animation/animators/js/index.mjs","../../node_modules/framer-motion/dist/es/utils/memo.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/create-accelerated-animation.mjs","../../node_modules/framer-motion/dist/es/animation/animators/instant.mjs","../../node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","../../node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","../../node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","../../node_modules/framer-motion/dist/es/animation/utils/keyframes.mjs","../../node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","../../node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","../../node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","../../node_modules/framer-motion/dist/es/utils/array.mjs","../../node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","../../node_modules/framer-motion/dist/es/value/index.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","../../node_modules/framer-motion/dist/es/render/utils/setters.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","../../node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","../../node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","../../node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","../../node_modules/framer-motion/dist/es/motion/features/animations.mjs","../../node_modules/framer-motion/dist/es/utils/distance.mjs","../../node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/models.mjs","../../node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","../../node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","../../node_modules/framer-motion/dist/es/projection/utils/measure.mjs","../../node_modules/framer-motion/dist/es/utils/get-context-window.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/index.mjs","../../node_modules/framer-motion/dist/es/gestures/pan/index.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","../../node_modules/framer-motion/dist/es/projection/node/state.mjs","../../node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","../../node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","../../node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","../../node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","../../node_modules/framer-motion/dist/es/projection/shared/stack.mjs","../../node_modules/framer-motion/dist/es/projection/styles/transform.mjs","../../node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","../../node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","../../node_modules/framer-motion/dist/es/utils/delay.mjs","../../node_modules/framer-motion/dist/es/debug/record.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-element.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/single-value.mjs","../../node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","../../node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","../../node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","../../node_modules/framer-motion/dist/es/motion/features/drag.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.mjs","../../node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","../../node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","../../node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","../../node_modules/framer-motion/dist/es/render/store.mjs","../../node_modules/framer-motion/dist/es/render/VisualElement.mjs","../../node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","../../node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","../../node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","../../node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","../../node_modules/framer-motion/dist/es/motion/features/layout.mjs","../../node_modules/framer-motion/dist/es/render/dom/motion.mjs","../../node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","../../node_modules/framer-motion/dist/es/utils/use-force-update.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../../node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","../../node_modules/@dfinity/agent/lib/esm/agent/api.js","../../node_modules/@dfinity/principal/lib/esm/utils/base32.js","../../node_modules/@dfinity/principal/lib/esm/utils/getCrc.js","../../node_modules/@noble/hashes/esm/_assert.js","../../node_modules/@noble/hashes/esm/crypto.js","../../node_modules/@noble/hashes/esm/utils.js","../../node_modules/@noble/hashes/esm/_md.js","../../node_modules/@noble/hashes/esm/sha256.js","../../node_modules/@dfinity/principal/lib/esm/utils/sha224.js","../../node_modules/@dfinity/principal/lib/esm/index.js","../../node_modules/@dfinity/agent/lib/esm/errors.js","../../node_modules/@dfinity/candid/lib/esm/utils/buffer.js","../../node_modules/@dfinity/candid/lib/esm/utils/hash.js","../../node_modules/@dfinity/candid/lib/esm/utils/leb128.js","../../node_modules/@dfinity/candid/lib/esm/utils/bigint-math.js","../../node_modules/@dfinity/candid/lib/esm/idl.js","../../node_modules/borc/node_modules/buffer/index.js","../../node_modules/bignumber.js/bignumber.js","../../node_modules/borc/src/decoder.asm.js","../../node_modules/borc/src/constants.js","../../node_modules/borc/src/utils.js","../../node_modules/borc/src/simple.js","../../node_modules/borc/src/tagged.js","../../node_modules/iso-url/src/url-browser.js","../../node_modules/iso-url/src/relative.js","../../node_modules/iso-url/index.js","../../node_modules/borc/src/decoder.js","../../node_modules/borc/src/diagnose.js","../../node_modules/borc/src/encoder.js","../../node_modules/borc/src/index.js","../../node_modules/@dfinity/agent/lib/esm/utils/buffer.js","../../node_modules/@dfinity/agent/lib/esm/request_id.js","../../node_modules/@dfinity/agent/lib/esm/auth.js","../../node_modules/simple-cbor/src/value.js","../../node_modules/simple-cbor/src/serializer.js","../../node_modules/simple-cbor/src/index.js","../../node_modules/@dfinity/agent/lib/esm/cbor.js","../../node_modules/@dfinity/agent/lib/esm/utils/random.js","../../node_modules/@dfinity/agent/lib/esm/agent/http/types.js","../../node_modules/@dfinity/agent/lib/esm/agent/http/transforms.js","../../node_modules/@dfinity/agent/lib/esm/agent/http/errors.js","../../node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","../../node_modules/@dfinity/agent/lib/esm/vendor/bls/wasm.js","../../node_modules/@dfinity/agent/lib/esm/vendor/bls/bls.js","../../node_modules/@dfinity/agent/lib/esm/utils/bls.js","../../node_modules/@dfinity/agent/lib/esm/utils/leb.js","../../node_modules/@dfinity/agent/lib/esm/certificate.js","../../node_modules/@dfinity/agent/lib/esm/canisterStatus/index.js","../../node_modules/@noble/hashes/esm/_u64.js","../../node_modules/@noble/hashes/esm/sha512.js","../../node_modules/@noble/curves/esm/abstract/utils.js","../../node_modules/@noble/curves/esm/abstract/modular.js","../../node_modules/@noble/curves/esm/abstract/curve.js","../../node_modules/@noble/curves/esm/abstract/edwards.js","../../node_modules/@noble/curves/esm/ed25519.js","../../node_modules/@dfinity/agent/lib/esm/utils/expirableMap.js","../../node_modules/@dfinity/agent/lib/esm/der.js","../../node_modules/@dfinity/agent/lib/esm/public_key.js","../../node_modules/@dfinity/agent/lib/esm/agent/http/index.js","../../node_modules/@dfinity/agent/lib/esm/agent/proxy.js","../../node_modules/@dfinity/agent/lib/esm/agent/index.js","../../node_modules/@dfinity/agent/lib/esm/polling/strategy.js","../../node_modules/@dfinity/agent/lib/esm/polling/index.js","../../node_modules/@dfinity/agent/lib/esm/canisters/management_idl.js","../../node_modules/@dfinity/agent/lib/esm/actor.js","../../node_modules/@dfinity/identity/lib/esm/identity/ed25519.js","../../node_modules/@dfinity/identity/lib/esm/identity/ecdsa.js","../../node_modules/@dfinity/identity/lib/esm/identity/delegation.js","../../node_modules/@dfinity/identity/lib/esm/identity/webauthn.js","../../node_modules/@dfinity/auth-client/lib/esm/idleManager.js","../../node_modules/idb/build/wrap-idb-value.js","../../node_modules/idb/build/index.js","../../node_modules/@dfinity/auth-client/lib/esm/db.js","../../node_modules/@dfinity/auth-client/lib/esm/storage.js","../../node_modules/@dfinity/auth-client/lib/esm/index.js","../../src/declarations/anima/anima.did.js","../../src/declarations/ledger/ledger.did.js","../../src/error/quantum_error.ts","../../src/ic-init.ts","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/activity.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/brain.mjs","../../node_modules/lucide-react/dist/esm/icons/check-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/chevron-right.mjs","../../node_modules/lucide-react/dist/esm/icons/credit-card.mjs","../../node_modules/lucide-react/dist/esm/icons/info.mjs","../../node_modules/lucide-react/dist/esm/icons/loader-2.mjs","../../node_modules/lucide-react/dist/esm/icons/lock.mjs","../../node_modules/lucide-react/dist/esm/icons/network.mjs","../../node_modules/lucide-react/dist/esm/icons/shield.mjs","../../node_modules/lucide-react/dist/esm/icons/zap.mjs","../../src/contexts/auth-context.tsx","../../src/hooks/useAuth.ts","../../src/components/ui/MatrixRain.tsx","../../src/hooks/useAnima.js"],"sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","const MotionGlobalConfig = {\n    skipAnimations: false,\n    useManualTiming: false,\n};\n\nexport { MotionGlobalConfig };\n","class Queue {\n    constructor() {\n        this.order = [];\n        this.scheduled = new Set();\n    }\n    add(process) {\n        if (!this.scheduled.has(process)) {\n            this.scheduled.add(process);\n            this.order.push(process);\n            return true;\n        }\n    }\n    remove(process) {\n        const index = this.order.indexOf(process);\n        if (index !== -1) {\n            this.order.splice(index, 1);\n            this.scheduled.delete(process);\n        }\n    }\n    clear() {\n        this.order.length = 0;\n        this.scheduled.clear();\n    }\n}\nfunction createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Queue();\n    let nextFrame = new Queue();\n    let numToRun = 0;\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (queue.add(callback) && addToCurrentFrame && isProcessing) {\n                // If we're adding it to the currently running queue, update its measured size\n                numToRun = thisFrame.order.length;\n            }\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.remove(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Clear the next frame queue\n            nextFrame.clear();\n            // Execute this frame\n            numToRun = thisFrame.order.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = thisFrame.order[i];\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                    callback(frameData);\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"prepare\",\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0,\n        timestamp: 0,\n        isProcessing: false,\n    };\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(() => (runNextFrame = true));\n        return acc;\n    }, {});\n    const processStep = (stepId) => {\n        steps[stepId].process(state);\n    };\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        stepsOrder.forEach(processStep);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => stepsOrder.forEach((key) => steps[key].cancel(process));\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useInsertionEffect(() => {\n        visualElement && visualElement.update(props, presenceContext);\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const wantsHandoff = useRef(Boolean(props[optimizedAppearDataAttribute] && !window.HandoffComplete));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        microtask.postRender(visualElement.render);\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.updateFeatures();\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            wantsHandoff.current = false;\n            // This ensures all future calls to animateChanges() will run in useEffect\n            window.HandoffComplete = true;\n        }\n    });\n    return visualElement;\n}\n\nexport { useVisualElement };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","import { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { SwitchLayoutGroupContext } from '../context/SwitchLayoutGroupContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             */\n            const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n            const isStrict = useContext(LazyContext).strict;\n            if (context.visualElement) {\n                MeasureLayout = context.visualElement.loadFeatures(\n                // Note: Pass the full new combined props to correctly re-render dynamic feature components.\n                configAndProps, isStrict, preloadedFeatures, initialLayoutGroupConfig);\n            }\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(MotionContext.Provider, { value: context },\n            MeasureLayout && context.visualElement ? (React.createElement(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null,\n            useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)));\n    }\n    const ForwardRefComponent = forwardRef(MotionComponent);\n    ForwardRefComponent[motionComponentSymbol] = Component;\n    return ForwardRefComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\n\nexport { createMotionComponent };\n","import { createMotionComponent } from '../../motion/index.mjs';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig = {}) {\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    if (typeof Proxy === \"undefined\") {\n        return custom;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { transformPropOrder } from './transform.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(transform, { enableHardwareAcceleration = true, allowTransformNone = true, }, transformIsDefault, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        if (transform[key] !== undefined) {\n            const transformName = translateAlias[key] || key;\n            transformString += `${transformName}(${transform[key]}) `;\n        }\n    }\n    if (enableHardwareAcceleration && !transform.z) {\n        transformString += \"translateZ(0)\";\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = checkStringStartsWith(\"--\");\nconst isCSSVariableToken = checkStringStartsWith(\"var(--\");\nconst cssVariableRegex = /var\\s*\\(\\s*--[\\w-]+(\\s*,\\s*(?:(?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)+)?\\s*\\)/g;\n\nexport { cssVariableRegex, isCSSVariableName, isCSSVariableToken };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","/**\n * TODO: When we move from string as a source of truth to data models\n * everything in this folder should probably be referred to as models vs types\n */\n// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))$/i;\nfunction isString(v) {\n    return typeof v === \"string\";\n}\n\nexport { colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType(\"deg\");\nconst percent = createUnitType(\"%\");\nconst px = createUnitType(\"px\");\nconst vh = createUnitType(\"vh\");\nconst vw = createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { px, degrees, progressPercentage } from '../../../value/types/numbers/units.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    const { style, vars, transform, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    let transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        const valueType = numberValueTypes[key];\n        const valueAsType = getValueAsType(value, valueType);\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== (valueType.default || 0))\n                transformIsNone = false;\n        }\n        else if (key.startsWith(\"origin\")) {\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n            transformOrigin[key] = valueAsType;\n        }\n        else {\n            style[key] = valueAsType;\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(state.transform, options, transformIsNone, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState, isStatic) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState, isStatic);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] && key.startsWith(\"onDrag\"))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, options, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, options, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, { enableHardwareAcceleration: false }, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = {\n            ...filteredProps,\n            ...visualProps,\n            ref,\n        };\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style && isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps);\n    for (const key in props) {\n        if (isMotionValue(props[key]) || isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","function resolveVariantFromProps(props, definition, custom, currentValues = {}, currentVelocity = {}) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach((definition) => {\n            const resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            const { transitionEnd, transition, ...target } = resolved;\n            for (const key in target) {\n                let valueTarget = target[key];\n                if (Array.isArray(valueTarget)) {\n                    /**\n                     * Take final keyframe if the initial animation is blocked because\n                     * we want to initialise at the end of that blocked animation.\n                     */\n                    const index = isInitialAnimationBlocked\n                        ? valueTarget.length - 1\n                        : 0;\n                    valueTarget = valueTarget[index];\n                }\n                if (valueTarget !== null) {\n                    values[key] = valueTarget;\n                }\n            }\n            for (const key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","const noop = (any) => any;\n\nexport { noop };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, steps };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, { enableHardwareAcceleration: false }, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","import { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, { forwardMotionProps = false }, preloadedFeatures, createVisualElement) {\n    const baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return {\n        ...baseConfig,\n        preloadedFeatures,\n        useRender: createUseRender(forwardMotionProps),\n        createVisualElement,\n        Component,\n    };\n}\n\nexport { createDomMotionConfig };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[pointType + \"X\"],\n            y: event[pointType + \"Y\"],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = \"pointer\" + (isActive ? \"enter\" : \"leave\");\n    const callbackName = \"onHover\" + (isActive ? \"Start\" : \"End\");\n    const handleEvent = (event, info) => {\n        if (event.pointerType === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        if (props[callbackName]) {\n            frame.update(() => props[callbackName](event, info));\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            if (this.isPressing)\n                return;\n            this.removeEndListeners();\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel, globalTapTarget } = this.node.getProps();\n                frame.update(() => {\n                    /**\n                     * We only count this as a tap gesture if the event.target is the same\n                     * as, or a child of, this component's element\n                     */\n                    !globalTapTarget &&\n                        !isNodeOrChild(this.node.current, endEvent.target)\n                        ? onTapCancel && onTapCancel(endEvent, endInfo)\n                        : onTap && onTap(endEvent, endInfo);\n                });\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, { passive: !(props.onTap || props[\"onPointerUp\"]) });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), { passive: !(props.onTapCancel || props[\"onPointerCancel\"]) });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap) {\n                            frame.update(() => onTap(event, info));\n                        }\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            frame.update(() => onTapStart(event, info));\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel) {\n            frame.update(() => onTapCancel(event, info));\n        }\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(props.globalTapTarget ? window : this.node.current, \"pointerdown\", this.startPointerPress, { passive: !(props.onTapStart || props[\"onPointerStart\"]) });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    const current = {};\n    visualElement.values.forEach((value, key) => (current[key] = value.get()));\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    const velocity = {};\n    visualElement.values.forEach((value, key) => (velocity[key] = value.getVelocity()));\n    return velocity;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nexport { resolveVariant };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean(!easing ||\n        (typeof easing === \"string\" && supportedWaapiEasing[easing]) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing) {\n    if (!easing)\n        return undefined;\n    return isBezierDefinition(easing)\n        ? cubicBezierAsString(easing)\n        : Array.isArray(easing)\n            ? easing.map(mapEasingToNativeEasing)\n            : supportedWaapiEasing[easing];\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction animateStyle(element, valueName, keyframes, { delay = 0, duration, repeat = 0, repeatType = \"loop\", ease, times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { animateStyle };\n","function getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }) {\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : keyframes.length - 1;\n    return keyframes[index];\n}\n\nexport { getFinalKeyframe };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gaëtan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = cubicBezier(0.42, 0, 1, 1);\nconst easeOut = cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = reverseEasing(backOut);\nconst backInOut = mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: isColorString(\"rgb\", \"red\"),\n    parse: splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString(\"hsl\", \"hue\"),\n    parse: splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mix } from './mix.mjs';\nimport { invariant } from './errors.mjs';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\nimport { hex } from '../value/types/color/hex.mjs';\nimport { rgba } from '../value/types/color/rgba.mjs';\nimport { hsla } from '../value/types/color/hsla.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    return Math.sqrt(Math.max(0, v * (to * to - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    invariant(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Framer Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mix(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { cssVariableRegex } from '../../../render/dom/utils/is-css-variable.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { colorRegex, floatRegex, isString, sanitize } from '../utils.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        isString(v) &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst cssVarTokeniser = {\n    regex: cssVariableRegex,\n    countKey: \"Vars\",\n    token: \"${v}\",\n    parse: noop,\n};\nconst colorTokeniser = {\n    regex: colorRegex,\n    countKey: \"Colors\",\n    token: \"${c}\",\n    parse: color.parse,\n};\nconst numberTokeniser = {\n    regex: floatRegex,\n    countKey: \"Numbers\",\n    token: \"${n}\",\n    parse: number.parse,\n};\nfunction tokenise(info, { regex, countKey, token, parse }) {\n    const matches = info.tokenised.match(regex);\n    if (!matches)\n        return;\n    info[\"num\" + countKey] = matches.length;\n    info.tokenised = info.tokenised.replace(regex, token);\n    info.values.push(...matches.map(parse));\n}\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const info = {\n        value: originalValue,\n        tokenised: originalValue,\n        values: [],\n        numVars: 0,\n        numColors: 0,\n        numNumbers: 0,\n    };\n    if (info.value.includes(\"var(--\"))\n        tokenise(info, cssVarTokeniser);\n    tokenise(info, colorTokeniser);\n    tokenise(info, numberTokeniser);\n    return info;\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { values, numColors, numVars, tokenised } = analyseComplexValue(source);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            if (i < numVars) {\n                output = output.replace(cssVarTokeniser.token, v[i]);\n            }\n            else if (i < numVars + numColors) {\n                output = output.replace(colorTokeniser.token, color.transform(v[i]));\n            }\n            else {\n                output = output.replace(numberTokeniser.token, sanitize(v[i]));\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../value/types/complex/index.mjs';\n\nconst mixImmediate = (origin, target) => (p) => `${p > 0 ? target : origin}`;\nfunction getMixer(origin, target) {\n    if (typeof origin === \"number\") {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return origin.startsWith(\"var(\")\n            ? mixImmediate(origin, target)\n            : mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = { ...origin, ...target };\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.numVars === targetStats.numVars &&\n        originStats.numColors === targetStats.numColors &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.values, targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { invariant } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { clamp } from './clamp.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof v === \"string\") {\n        return color.test(v) ? mixColor : mixComplex;\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === \"object\") {\n        return mixObject;\n    }\n    return mixNumber;\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { mix } from '../mix.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mix(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: 0.0,\n        stiffness: 100,\n        damping: 10,\n        mass: 1.0,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = {\n            ...springOptions,\n            ...derived,\n            mass: 1.0,\n        };\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring({ keyframes, restDelta, restSpeed, ...options }) {\n    const origin = keyframes[0];\n    const target = keyframes[keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale ? 0.01 : 2);\n    restDelta || (restDelta = isGranularScale ? 0.005 : 0.5);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    return {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = initialVelocity;\n                if (t !== 0) {\n                    /**\n                     * We only need to calculate velocity for under-damped springs\n                     * as over- and critically-damped springs can't overshoot, so\n                     * checking only for displacement is enough.\n                     */\n                    if (dampingRatio < 1) {\n                        currentVelocity = calcGeneratorVelocity(resolveSpring, t, current);\n                    }\n                    else {\n                        currentVelocity = 0;\n                    }\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n    };\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value),\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t > timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","import { time } from '../../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { keyframes } from '../../generators/keyframes.mjs';\nimport { spring } from '../../generators/spring/index.mjs';\nimport { inertia } from '../../generators/inertia.mjs';\nimport { frameloopDriver } from './driver-frameloop.mjs';\nimport { interpolate } from '../../../utils/interpolate.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorDuration } from '../../generators/utils/calc-duration.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\n\nconst types = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\n/**\n * Animate a single value on the main thread.\n *\n * This function is written, where functionality overlaps,\n * to be largely spec-compliant with WAAPI to allow fungibility\n * between the two.\n */\nfunction animateValue({ autoplay = true, delay = 0, driver = frameloopDriver, keyframes: keyframes$1, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", onPlay, onStop, onComplete, onUpdate, ...options }) {\n    let speed = 1;\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let animationDriver;\n    const generatorFactory = types[type] || keyframes;\n    /**\n     * If this isn't the keyframes generator and we've been provided\n     * strings as keyframes, we need to interpolate these.\n     */\n    let mapNumbersToKeyframes;\n    if (generatorFactory !== keyframes &&\n        typeof keyframes$1[0] !== \"number\") {\n        if (process.env.NODE_ENV !== \"production\") {\n            invariant(keyframes$1.length === 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`);\n        }\n        mapNumbersToKeyframes = interpolate([0, 100], keyframes$1, {\n            clamp: false,\n        });\n        keyframes$1 = [0, 100];\n    }\n    const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n    let mirroredGenerator;\n    if (repeatType === \"mirror\") {\n        mirroredGenerator = generatorFactory({\n            ...options,\n            keyframes: [...keyframes$1].reverse(),\n            velocity: -(options.velocity || 0),\n        });\n    }\n    let playState = \"idle\";\n    let holdTime = null;\n    let startTime = null;\n    let cancelTime = null;\n    /**\n     * If duration is undefined and we have repeat options,\n     * we need to calculate a duration from the generator.\n     *\n     * We set it to the generator itself to cache the duration.\n     * Any timeline resolver will need to have already precalculated\n     * the duration by this step.\n     */\n    if (generator.calculatedDuration === null && repeat) {\n        generator.calculatedDuration = calcGeneratorDuration(generator);\n    }\n    const { calculatedDuration } = generator;\n    let resolvedDuration = Infinity;\n    let totalDuration = Infinity;\n    if (calculatedDuration !== null) {\n        resolvedDuration = calculatedDuration + repeatDelay;\n        totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n    }\n    let currentTime = 0;\n    const tick = (timestamp) => {\n        if (startTime === null)\n            return;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (speed > 0)\n            startTime = Math.min(startTime, timestamp);\n        if (speed < 0)\n            startTime = Math.min(timestamp - totalDuration / speed, startTime);\n        if (holdTime !== null) {\n            currentTime = holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            currentTime = Math.round(timestamp - startTime) * speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = currentTime - delay * (speed >= 0 ? 1 : -1);\n        const isInDelayPhase = speed >= 0 ? timeWithoutDelay < 0 : timeWithoutDelay > totalDuration;\n        currentTime = Math.max(timeWithoutDelay, 0);\n        /**\n         * If this animation has finished, set the current time\n         * to the total duration.\n         */\n        if (playState === \"finished\" && holdTime === null) {\n            currentTime = totalDuration;\n        }\n        let elapsed = currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes$1[0] }\n            : frameGenerator.next(elapsed);\n        if (mapNumbersToKeyframes) {\n            state.value = mapNumbersToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done = speed >= 0 ? currentTime >= totalDuration : currentTime <= 0;\n        }\n        const isAnimationFinished = holdTime === null &&\n            (playState === \"finished\" || (playState === \"running\" && done));\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            finish();\n        }\n        return state;\n    };\n    const stopAnimationDriver = () => {\n        animationDriver && animationDriver.stop();\n        animationDriver = undefined;\n    };\n    const cancel = () => {\n        playState = \"idle\";\n        stopAnimationDriver();\n        resolveFinishedPromise();\n        updateFinishedPromise();\n        startTime = cancelTime = null;\n    };\n    const finish = () => {\n        playState = \"finished\";\n        onComplete && onComplete();\n        stopAnimationDriver();\n        resolveFinishedPromise();\n    };\n    const play = () => {\n        if (hasStopped)\n            return;\n        if (!animationDriver)\n            animationDriver = driver(tick);\n        const now = animationDriver.now();\n        onPlay && onPlay();\n        if (holdTime !== null) {\n            startTime = now - holdTime;\n        }\n        else if (!startTime || playState === \"finished\") {\n            startTime = now;\n        }\n        if (playState === \"finished\") {\n            updateFinishedPromise();\n        }\n        cancelTime = startTime;\n        holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        playState = \"running\";\n        animationDriver.start();\n    };\n    if (autoplay) {\n        play();\n    }\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        get time() {\n            return millisecondsToSeconds(currentTime);\n        },\n        set time(newTime) {\n            newTime = secondsToMilliseconds(newTime);\n            currentTime = newTime;\n            if (holdTime !== null || !animationDriver || speed === 0) {\n                holdTime = newTime;\n            }\n            else {\n                startTime = animationDriver.now() - newTime / speed;\n            }\n        },\n        get duration() {\n            const duration = generator.calculatedDuration === null\n                ? calcGeneratorDuration(generator)\n                : generator.calculatedDuration;\n            return millisecondsToSeconds(duration);\n        },\n        get speed() {\n            return speed;\n        },\n        set speed(newSpeed) {\n            if (newSpeed === speed || !animationDriver)\n                return;\n            speed = newSpeed;\n            controls.time = millisecondsToSeconds(currentTime);\n        },\n        get state() {\n            return playState;\n        },\n        play,\n        pause: () => {\n            playState = \"paused\";\n            holdTime = currentTime;\n        },\n        stop: () => {\n            hasStopped = true;\n            if (playState === \"idle\")\n                return;\n            playState = \"idle\";\n            onStop && onStop();\n            cancel();\n        },\n        cancel: () => {\n            if (cancelTime !== null)\n                tick(cancelTime);\n            cancel();\n        },\n        complete: () => {\n            playState = \"finished\";\n        },\n        sample: (elapsed) => {\n            startTime = 0;\n            return tick(elapsed);\n        },\n    };\n    return controls;\n}\n\nexport { animateValue };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { animateStyle } from './index.mjs';\nimport { isWaapiSupportedEasing } from './easing.mjs';\nimport { getFinalKeyframe } from './utils/get-final-keyframe.mjs';\nimport { animateValue } from '../js/index.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { memo } from '../../../utils/memo.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nconst supportsWaapi = memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    \"backgroundColor\",\n]);\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\nconst requiresPregeneratedKeyframes = (valueName, options) => options.type === \"spring\" ||\n    valueName === \"backgroundColor\" ||\n    !isWaapiSupportedEasing(options.ease);\nfunction createAcceleratedAnimation(value, valueName, { onUpdate, onComplete, ...options }) {\n    const canAccelerateAnimation = supportsWaapi() &&\n        acceleratedValues.has(valueName) &&\n        !options.repeatDelay &&\n        options.repeatType !== \"mirror\" &&\n        options.damping !== 0 &&\n        options.type !== \"inertia\";\n    if (!canAccelerateAnimation)\n        return false;\n    /**\n     * TODO: Unify with js/index\n     */\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Cancelling an animation will write to the DOM. For safety we want to defer\n     * this until the next `update` frame lifecycle. This flag tracks whether we\n     * have a pending cancel, if so we shouldn't allow animations to finish.\n     */\n    let pendingCancel = false;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let { keyframes, duration = 300, ease, times } = options;\n    /**\n     * If this animation needs pre-generated keyframes then generate.\n     */\n    if (requiresPregeneratedKeyframes(valueName, options)) {\n        const sampleAnimation = animateValue({\n            ...options,\n            repeat: 0,\n            delay: 0,\n        });\n        let state = { done: false, value: keyframes[0] };\n        const pregeneratedKeyframes = [];\n        /**\n         * Bail after 20 seconds of pre-generated keyframes as it's likely\n         * we're heading for an infinite loop.\n         */\n        let t = 0;\n        while (!state.done && t < maxDuration) {\n            state = sampleAnimation.sample(t);\n            pregeneratedKeyframes.push(state.value);\n            t += sampleDelta;\n        }\n        times = undefined;\n        keyframes = pregeneratedKeyframes;\n        duration = t - sampleDelta;\n        ease = \"linear\";\n    }\n    const animation = animateStyle(value.owner.current, valueName, keyframes, {\n        ...options,\n        duration,\n        /**\n         * This function is currently not called if ease is provided\n         * as a function so the cast is safe.\n         *\n         * However it would be possible for a future refinement to port\n         * in easing pregeneration from Motion One for browsers that\n         * support the upcoming `linear()` easing function.\n         */\n        ease: ease,\n        times,\n    });\n    const cancelAnimation = () => {\n        pendingCancel = false;\n        animation.cancel();\n    };\n    const safeCancel = () => {\n        pendingCancel = true;\n        frame.update(cancelAnimation);\n        resolveFinishedPromise();\n        updateFinishedPromise();\n    };\n    /**\n     * Prefer the `onfinish` prop as it's more widely supported than\n     * the `finished` promise.\n     *\n     * Here, we synchronously set the provided MotionValue to the end\n     * keyframe. If we didn't, when the WAAPI animation is finished it would\n     * be removed from the element which would then revert to its old styles.\n     */\n    animation.onfinish = () => {\n        if (pendingCancel)\n            return;\n        value.set(getFinalKeyframe(keyframes, options));\n        onComplete && onComplete();\n        safeCancel();\n    };\n    /**\n     * Animation interrupt callback.\n     */\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        attachTimeline(timeline) {\n            animation.timeline = timeline;\n            animation.onfinish = null;\n            return noop;\n        },\n        get time() {\n            return millisecondsToSeconds(animation.currentTime || 0);\n        },\n        set time(newTime) {\n            animation.currentTime = secondsToMilliseconds(newTime);\n        },\n        get speed() {\n            return animation.playbackRate;\n        },\n        set speed(newSpeed) {\n            animation.playbackRate = newSpeed;\n        },\n        get duration() {\n            return millisecondsToSeconds(duration);\n        },\n        play: () => {\n            if (hasStopped)\n                return;\n            animation.play();\n            /**\n             * Cancel any pending cancel tasks\n             */\n            cancelFrame(cancelAnimation);\n        },\n        pause: () => animation.pause(),\n        stop: () => {\n            hasStopped = true;\n            if (animation.playState === \"idle\")\n                return;\n            /**\n             * WAAPI doesn't natively have any interruption capabilities.\n             *\n             * Rather than read commited styles back out of the DOM, we can\n             * create a renderless JS animation and sample it twice to calculate\n             * its current value, \"previous\" value, and therefore allow\n             * Motion to calculate velocity for any subsequent animation.\n             */\n            const { currentTime } = animation;\n            if (currentTime) {\n                const sampleAnimation = animateValue({\n                    ...options,\n                    autoplay: false,\n                });\n                value.setWithVelocity(sampleAnimation.sample(currentTime - sampleDelta).value, sampleAnimation.sample(currentTime).value, sampleDelta);\n            }\n            safeCancel();\n        },\n        complete: () => {\n            if (pendingCancel)\n                return;\n            animation.finish();\n        },\n        cancel: safeCancel,\n    };\n    return controls;\n}\n\nexport { createAcceleratedAnimation };\n","import { animateValue } from './js/index.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nfunction createInstantAnimation({ keyframes, delay, onUpdate, onComplete, }) {\n    const setValue = () => {\n        onUpdate && onUpdate(keyframes[keyframes.length - 1]);\n        onComplete && onComplete();\n        /**\n         * TODO: As this API grows it could make sense to always return\n         * animateValue. This will be a bigger project as animateValue\n         * is frame-locked whereas this function resolves instantly.\n         * This is a behavioural change and also has ramifications regarding\n         * assumptions within tests.\n         */\n        return {\n            time: 0,\n            speed: 1,\n            duration: 0,\n            play: (noop),\n            pause: (noop),\n            stop: (noop),\n            then: (resolve) => {\n                resolve();\n                return Promise.resolve();\n            },\n            cancel: (noop),\n            complete: (noop),\n        };\n    };\n    return delay\n        ? animateValue({\n            keyframes: [0, 1],\n            duration: 0,\n            delay,\n            onComplete: setValue,\n        })\n        : setValue();\n}\n\nexport { createInstantAnimation };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (key, value) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/.test(v);\n\nexport { isZeroValueString };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n}\n\nexport { isNone };\n","import { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { isNone } from './is-none.mjs';\n\nfunction getKeyframes(value, valueName, target, transition) {\n    const isTargetAnimatable = isAnimatable(valueName, target);\n    let keyframes;\n    if (Array.isArray(target)) {\n        keyframes = [...target];\n    }\n    else {\n        keyframes = [null, target];\n    }\n    const defaultOrigin = transition.from !== undefined ? transition.from : value.get();\n    let animatableTemplateValue = undefined;\n    const noneKeyframeIndexes = [];\n    for (let i = 0; i < keyframes.length; i++) {\n        /**\n         * Fill null/wildcard keyframes\n         */\n        if (keyframes[i] === null) {\n            keyframes[i] = i === 0 ? defaultOrigin : keyframes[i - 1];\n        }\n        if (isNone(keyframes[i])) {\n            noneKeyframeIndexes.push(i);\n        }\n        // TODO: Clean this conditional, it works for now\n        if (typeof keyframes[i] === \"string\" &&\n            keyframes[i] !== \"none\" &&\n            keyframes[i] !== \"0\") {\n            animatableTemplateValue = keyframes[i];\n        }\n    }\n    if (isTargetAnimatable &&\n        noneKeyframeIndexes.length &&\n        animatableTemplateValue) {\n        for (let i = 0; i < noneKeyframeIndexes.length; i++) {\n            const index = noneKeyframeIndexes[i];\n            keyframes[index] = getAnimatableNone(valueName, animatableTemplateValue);\n        }\n    }\n    return keyframes;\n}\n\nexport { getKeyframes };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n\nexport { getValueTransition, isTransitionDefined };\n","import { warning } from '../../utils/errors.mjs';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { createAcceleratedAnimation } from '../animators/waapi/create-accelerated-animation.mjs';\nimport { createInstantAnimation } from '../animators/instant.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isAnimatable } from '../utils/is-animatable.mjs';\nimport { getKeyframes } from '../utils/keyframes.mjs';\nimport { getValueTransition, isTransitionDefined } from '../utils/transitions.mjs';\nimport { animateValue } from '../animators/js/index.mjs';\nimport { MotionGlobalConfig } from '../../utils/GlobalConfig.mjs';\n\nconst animateMotionValue = (valueName, value, target, transition = {}) => {\n    return (onComplete) => {\n        const valueTransition = getValueTransition(transition, valueName) || {};\n        /**\n         * Most transition values are currently completely overwritten by value-specific\n         * transitions. In the future it'd be nicer to blend these transitions. But for now\n         * delay actually does inherit from the root transition if not value-specific.\n         */\n        const delay = valueTransition.delay || transition.delay || 0;\n        /**\n         * Elapsed isn't a public transition option but can be passed through from\n         * optimized appear effects in milliseconds.\n         */\n        let { elapsed = 0 } = transition;\n        elapsed = elapsed - secondsToMilliseconds(delay);\n        const keyframes = getKeyframes(value, valueName, target, valueTransition);\n        /**\n         * Check if we're able to animate between the start and end keyframes,\n         * and throw a warning if we're attempting to animate between one that's\n         * animatable and another that isn't.\n         */\n        const originKeyframe = keyframes[0];\n        const targetKeyframe = keyframes[keyframes.length - 1];\n        const isOriginAnimatable = isAnimatable(valueName, originKeyframe);\n        const isTargetAnimatable = isAnimatable(valueName, targetKeyframe);\n        warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${valueName} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n        let options = {\n            keyframes,\n            velocity: value.getVelocity(),\n            ease: \"easeOut\",\n            ...valueTransition,\n            delay: -elapsed,\n            onUpdate: (v) => {\n                value.set(v);\n                valueTransition.onUpdate && valueTransition.onUpdate(v);\n            },\n            onComplete: () => {\n                onComplete();\n                valueTransition.onComplete && valueTransition.onComplete();\n            },\n        };\n        /**\n         * If there's no transition defined for this value, we can generate\n         * unqiue transition settings for this value.\n         */\n        if (!isTransitionDefined(valueTransition)) {\n            options = {\n                ...options,\n                ...getDefaultTransition(valueName, options),\n            };\n        }\n        /**\n         * Both WAAPI and our internal animation functions use durations\n         * as defined by milliseconds, while our external API defines them\n         * as seconds.\n         */\n        if (options.duration) {\n            options.duration = secondsToMilliseconds(options.duration);\n        }\n        if (options.repeatDelay) {\n            options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n        }\n        if (!isOriginAnimatable ||\n            !isTargetAnimatable ||\n            instantAnimationState.current ||\n            valueTransition.type === false ||\n            MotionGlobalConfig.skipAnimations) {\n            /**\n             * If we can't animate this value, or the global instant animation flag is set,\n             * or this is simply defined as an instant transition, return an instant transition.\n             */\n            return createInstantAnimation(instantAnimationState.current\n                ? { ...options, delay: 0 }\n                : options);\n        }\n        /**\n         * Animate via WAAPI if possible.\n         */\n        if (\n        /**\n         * If this is a handoff animation, the optimised animation will be running via\n         * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n         * optimised animation.\n         */\n        !transition.isHandoff &&\n            value.owner &&\n            value.owner.current instanceof HTMLElement &&\n            /**\n             * If we're outputting values to onUpdate then we can't use WAAPI as there's\n             * no way to read the value from WAAPI every frame.\n             */\n            !value.owner.getProps().onUpdate) {\n            const acceleratedAnimation = createAcceleratedAnimation(value, valueName, options);\n            if (acceleratedAnimation)\n                return acceleratedAnimation;\n        }\n        /**\n         * If we didn't create an accelerated animation, create a JS animation\n         */\n        return animateValue(options);\n    };\n};\n\nexport { animateMotionValue };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^\\-?\\d*\\.?\\d+$/.test(v);\n\nexport { isNumericalString };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"11.0.3\";\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.canTrackVelocity = isFloat(this.current);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { isNumericalString } from '../../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.mjs';\nimport { findValueType } from '../dom/value-types/find.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b;\n    const newValueKeys = Object.keys(target).filter((key) => !visualElement.hasValue(key));\n    const numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (let i = 0; i < numNewValues; i++) {\n        const key = newValueKeys[i];\n        const targetValue = target[key];\n        let value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" &&\n            (isNumericalString(value) || isZeroValueString(value))) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value, { owner: visualElement }));\n        if (origin[key] === undefined) {\n            origin[key] = value;\n        }\n        if (value !== null)\n            visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    const valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    const origin = {};\n    for (const key in target) {\n        const transitionOrigin = getOriginFromTransition(key, transition);\n        if (transitionOrigin !== undefined) {\n            origin[key] = transitionOrigin;\n        }\n        else {\n            const value = visualElement.getValue(key);\n            if (value) {\n                origin[key] = value.get();\n            }\n        }\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { optimizedAppearDataAttribute } from '../optimized-appear/data-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { getValueTransition } from '../utils/transitions.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction hasKeyframesChanged(value, target) {\n    const current = value.get();\n    if (Array.isArray(target)) {\n        for (let i = 0; i < target.length; i++) {\n            if (target[i] !== current)\n                return true;\n        }\n    }\n    else {\n        return current !== target;\n    }\n}\nfunction animateTarget(visualElement, definition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = visualElement.makeTargetAnimatable(definition);\n    const willChange = visualElement.getValue(\"willChange\");\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key);\n        const valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            elapsed: 0,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        if (window.HandoffAppearAnimations) {\n            const appearId = visualElement.getProps()[optimizedAppearDataAttribute];\n            if (appearId) {\n                const elapsed = window.HandoffAppearAnimations(appearId, key, value, frame);\n                if (elapsed !== null) {\n                    valueTransition.elapsed = elapsed;\n                    valueTransition.isHandoff = true;\n                }\n            }\n        }\n        let canSkip = !valueTransition.isHandoff &&\n            !hasKeyframesChanged(value, valueTarget);\n        if (valueTransition.type === \"spring\" &&\n            (value.getVelocity() || valueTransition.velocity)) {\n            canSkip = false;\n        }\n        /**\n         * Temporarily disable skipping animations if there's an animation in\n         * progress. Better would be to track the current target of a value\n         * and compare that against valueTarget.\n         */\n        if (value.animation) {\n            canSkip = false;\n        }\n        if (canSkip)\n            continue;\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition));\n        const animation = value.animation;\n        if (isWillChangeMotionValue(willChange)) {\n            willChange.add(key);\n            animation.then(() => willChange.remove(key));\n        }\n        animations.push(animation);\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            transitionEnd && setTarget(visualElement, transitionEnd);\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.custom);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => visualElement.notify(\"AnimationComplete\", definition));\n}\n\nexport { animateVisualElement };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    const state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        const props = visualElement.getProps();\n        const context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined ? props[type] : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             */\n            if (shouldAnimateType && (!isInherited || handledRemovedValues)) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type, ...options },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(options, type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        this.unmount();\n        if (isAnimationControls(animate)) {\n            this.unmount = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() { }\n}\n\nexport { AnimationFeature };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete, custom } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent, { custom: custom !== null && custom !== void 0 ? custom : this.node.getProps().custom });\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { extractEventInfo } from '../../events/event-info.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\nimport { isPrimaryPointer } from '../../events/utils/is-primary-pointer.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow, dragSnapToOrigin = false } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            if (this.dragSnapToOrigin)\n                resumeAnimation && resumeAnimation();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mix } from '../../utils/mix.mjs';\n\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target = 0, maxDistance = 0.01) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001) || isNaN(delta.scale))\n        delta.scale = 1;\n    delta.translate =\n        mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate) || isNaN(delta.translate))\n        delta.translate = 0;\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","import { progress } from '../../../utils/progress.mjs';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { mix } from '../../../utils/mix.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mix } from '../../utils/mix.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const instance = node.instance;\n        if (instance &&\n            instance.style &&\n            instance.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    treeScale.x = snapToDefault(treeScale.x);\n    treeScale.y = snapToDefault(treeScale.y);\n}\nfunction snapToDefault(scale) {\n    if (Number.isInteger(scale))\n        return scale;\n    return scale > 1.0000000000001 || scale < 0.999999999999 ? scale : 1;\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, transforms, [key, scaleKey, originKey]) {\n    const axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    const originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform, xKeys);\n    transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","// Fixes https://github.com/framer/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n","import { invariant } from '../../utils/errors.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, calcOrigin } from './utils/constraints.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: PointerEvent\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            const { dragSnapToOrigin } = this.getProps();\n            // Stop or pause any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            dragSnapToOrigin ? this.pauseAnimation() : this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event, \"page\").point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openGlobalLock)\n                    this.openGlobalLock();\n                this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openGlobalLock)\n                    return;\n            }\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.update(() => onDragStart(event, info), false, true);\n            }\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            // latestPointerEvent = event\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openGlobalLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => this.stop(event, info);\n        const resumeAnimation = () => eachAxis((axis) => {\n            var _a;\n            return this.getAnimationState(axis) === \"paused\" &&\n                ((_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.play());\n        });\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            contextWindow: getContextWindow(this.visualElement),\n        });\n    }\n    stop(event, info) {\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging)\n            return;\n        const { velocity } = info;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.update(() => onDragEnd(event, info));\n        }\n    }\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        var _a;\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : (_a = this.visualElement.projection) === null || _a === void 0 ? void 0 : _a.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => { var _a; return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.pause(); });\n    }\n    getAnimationState(axis) {\n        var _a;\n        return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = \"_drag\" + axis.toUpperCase();\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial ? props.initial[axis] : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mix(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mix(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints)) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        measureDragConstraints();\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.update(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.update(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","import { useContext, useId, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => register(id), []);\n    const safeToRemove = () => onExitComplete && onExitComplete(id);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from '../../value/types/numbers/units.mjs';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { mix } from '../../utils/mix.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mix(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","import React__default, { useContext } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\nimport { microtask } from '../../../frameloop/microtask.mjs';\nimport { frame } from '../../../frameloop/frame.mjs';\n\nclass MeasureLayoutWithContext extends React__default.Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            projection.root.didUpdate();\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const projection = visualElement.projection;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (React__default.createElement(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { circOut } from '../../easing/circ.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { percent, px } from '../../value/types/numbers/units.mjs';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mix(0, \n        // TODO Reinstate this if only child\n        lead.opacity !== undefined ? lead.opacity : 1, easeCrossfadeIn(progress));\n        target.opacityExit = mix(follow.opacity !== undefined ? follow.opacity : 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mix(follow.opacity !== undefined ? follow.opacity : 1, lead.opacity !== undefined ? lead.opacity : 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mix(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mix(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = compress(0, 0.5, circOut);\nconst easeCrossfadeOut = compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n\nexport { copyAxisInto, copyBoxInto };\n","import { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mix(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mix(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction boxEquals(a, b) {\n    return (a.x.min === b.x.min &&\n        a.x.max === b.x.max &&\n        a.y.min === b.y.min &&\n        a.y.max === b.y.max);\n}\nfunction boxEqualsRounded(a, b) {\n    return (Math.round(a.x.min) === Math.round(b.x.min) &&\n        Math.round(a.x.max) === Math.round(b.x.max) &&\n        Math.round(a.y.min) === Math.round(b.y.min) &&\n        Math.round(a.y.max) === Math.round(b.y.max));\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\n\nexport { aspectRatio, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    if (xTranslate || yTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, 0) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { rotate, rotateX, rotateY } = latestTransform;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { time } from '../frameloop/sync-time.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.read(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\n\nexport { delay };\n","function record(data) {\n    if (window.MotionDebug) {\n        window.MotionDebug.record(data);\n    }\n}\n\nexport { record };\n","function isSVGElement(element) {\n    return element instanceof SVGElement && element.tagName !== \"svg\";\n}\n\nexport { isSVGElement };\n","import { animateMotionValue } from './motion-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","import { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { getValueTransition } from '../../animation/utils/transitions.mjs';\nimport { boxEqualsRounded, isDeltaZero, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { globalProjectionState } from './state.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { record } from '../../debug/record.mjs';\nimport { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { animateSingleValue } from '../../animation/interfaces/single-value.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { cancelFrame, frameData, steps, frame } from '../../frameloop/frame.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { time } from '../../frameloop/sync-time.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\nconst hiddenVisibility = { visibility: \"hidden\" };\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\n/**\n * Use a mutable data object for debug data so as to not create a new\n * object every frame.\n */\nconst projectionFrameData = {\n    type: \"projectionFrame\",\n    totalNodes: 0,\n    resolvedTargetDeltas: 0,\n    recalculatedProjection: 0,\n};\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                projectionFrameData.totalNodes =\n                    projectionFrameData.resolvedTargetDeltas =\n                        projectionFrameData.recalculatedProjection =\n                            0;\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                record(projectionFrameData);\n            };\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance, isLayoutDirty = this.root.hasTreeAnimated) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (isLayoutDirty && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                attachResizeListener(instance, () => {\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeTargetChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const targetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout) ||\n                        hasRelativeTargetChanged;\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n                    if (this.options.layoutRoot ||\n                        (this.resumeFrom && this.resumeFrom.instance) ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (targetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            this.isUpdating = false;\n            /**\n             * Write\n             */\n            this.nodes.forEach(resetTransformStyle);\n            /**\n             * Read ==================\n             */\n            // Update layout measurements of updated children\n            this.nodes.forEach(updateLayout);\n            /**\n             * Write\n             */\n            // Notify listeners that the layout is updated\n            this.nodes.forEach(notifyLayoutUpdate);\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            steps.update.process(frameData);\n            steps.preRender.process(frameData);\n            steps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(() => this.update());\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            // TODO: Incorporate into a forwarded scroll offset\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement) {\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot: checkIsScrollRoot(this.instance),\n                    offset: measureScroll(this.instance),\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty || this.shouldResetTransform;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            // Remove viewport scroll to give page-relative coordinates\n            const { scroll } = this.root;\n            if (scroll) {\n                translateAxis(box.x, scroll.offset.x);\n                translateAxis(box.y, scroll.offset.y);\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.isRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                        const { scroll: rootScroll } = this.root;\n                        /**\n                         * Undo the application of page scroll that was originally added\n                         * to the measured bounding box.\n                         */\n                        if (rootScroll) {\n                            translateAxis(boxWithoutScroll.x, -rootScroll.offset.x);\n                            translateAxis(boxWithoutScroll.y, -rootScroll.offset.y);\n                        }\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            var _a;\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty) ||\n                this.attemptToResolveRelativeTarget);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            projectionFrameData.resolvedTargetDeltas++;\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            var _a;\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.projectionTransform) {\n                    this.projectionDelta = createDelta();\n                    this.projectionTransform = \"none\";\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta) {\n                this.projectionDelta = createDelta();\n                this.projectionDeltaWithTransform = createDelta();\n            }\n            const prevProjectionTransform = this.projectionTransform;\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            this.projectionTransform = buildProjectionTransform(this.projectionDelta, this.treeScale);\n            if (this.projectionTransform !== prevProjectionTransform ||\n                this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            projectionFrameData.recalculatedProjection++;\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.scheduleRender && this.options.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot\n                ? snapshot.latestValues\n                : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation && this.currentAnimation.stop();\n            if (this.resumingFrom && this.resumingFrom.currentAnimation) {\n                this.resumingFrom.currentAnimation.stop();\n            }\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                this.currentAnimation = animateSingleValue(0, animationTarget, {\n                    ...options,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onComplete: () => {\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n        }\n        getPrevLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected rotation values, we can early return without a forced render.\n            let hasRotate = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ) {\n                hasRotate = true;\n            }\n            // If there's no rotation values, we don't need to do any more.\n            if (!hasRotate)\n                return;\n            const resetValues = {};\n            // Check the rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                const key = \"rotate\" + transformAxes[i];\n                // Record the rotation and then temporarily set it to 0\n                if (latestValues[key]) {\n                    resetValues[key] = latestValues[key];\n                    visualElement.setStaticValue(key, 0);\n                }\n            }\n            // Force a render of this element to apply the transform with all rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        getProjectionStyles(styleProp) {\n            var _a, _b;\n            if (!this.instance || this.isSVG)\n                return undefined;\n            if (!this.isVisible) {\n                return hiddenVisibility;\n            }\n            const styles = {\n                visibility: \"\",\n            };\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                styles.opacity = \"\";\n                styles.pointerEvents =\n                    resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                styles.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return styles;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                const emptyStyles = {};\n                if (this.options.layoutId) {\n                    emptyStyles.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    emptyStyles.pointerEvents =\n                        resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    emptyStyles.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return emptyStyles;\n            }\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                styles.transform = transformTemplate(valuesToRender, styles.transform);\n            }\n            const { x, y } = this.projectionDelta;\n            styles.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                styles.opacity =\n                    lead === this\n                        ? (_b = (_a = valuesToRender.opacity) !== null && _a !== void 0 ? _a : this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                styles.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = styles.transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        styles[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    styles[key] = corrected;\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                styles.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\"\n                        : \"none\";\n            }\n            return styles;\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => { var _a; return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop(); });\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    var _a;\n    const snapshot = ((_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeTargetChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeTargetChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeTargetChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    projectionFrameData.totalNodes++;\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetRotation(node) {\n    node.resetRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mix(delta.translate, 0, p);\n    output.scale = mix(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mix(from.min, to.min, p);\n    output.max = mix(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token, fallback] = match;\n    return [token, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    else if (isCSSVariableToken(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, { ...target }, transitionEnd) {\n    const element = visualElement.current;\n    if (!(element instanceof Element))\n        return { target, transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = { ...transitionEnd };\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.values.forEach((value) => {\n        const current = value.get();\n        if (!isCSSVariableToken(current))\n            return;\n        const resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (const key in target) {\n        const current = target[key];\n        if (!isCSSVariableToken(current))\n            continue;\n        const resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        if (!transitionEnd)\n            transitionEnd = {};\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd[key] === undefined) {\n            transitionEnd[key] = current;\n        }\n    }\n    return { target, transitionEnd };\n}\n\nexport { parseCSSVariable, resolveCSSVariables };\n","import { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { findDimensionValueType } from '../value-types/dimensions.mjs';\nimport { isBrowser } from '../../../utils/is-browser.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isPositionalKey = (key) => positionalKeys.has(key);\nconst hasPositionalKey = (target) => {\n    return Object.keys(target).some(isPositionalKey);\n};\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.render();\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\nconst convertChangedValueTypes = (target, visualElement, changedKeys) => {\n    const originBbox = visualElement.measureViewportBox();\n    const element = visualElement.current;\n    const elementComputedStyle = getComputedStyle(element);\n    const { display } = elementComputedStyle;\n    const origin = {};\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    /**\n     * Record origins before we render and update styles\n     */\n    changedKeys.forEach((key) => {\n        origin[key] = positionalValues[key](originBbox, elementComputedStyle);\n    });\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.render();\n    const targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach((key) => {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        const value = visualElement.getValue(key);\n        value && value.jump(origin[key]);\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nconst checkAndConvertChangedValueTypes = (visualElement, target, origin = {}, transitionEnd = {}) => {\n    target = { ...target };\n    transitionEnd = { ...transitionEnd };\n    const targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    let removedTransformValues = [];\n    let hasAttemptedToRemoveTransformValues = false;\n    const changedValueTypeKeys = [];\n    targetPositionalKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        let from = origin[key];\n        let fromType = findDimensionValueType(from);\n        const to = target[key];\n        let toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            const numKeyframes = to.length;\n            const fromIndex = to[0] === null ? 1 : 0;\n            from = to[fromIndex];\n            fromType = findDimensionValueType(from);\n            for (let i = fromIndex; i < numKeyframes; i++) {\n                /**\n                 * Don't allow wildcard keyframes to be used to detect\n                 * a difference in value types.\n                 */\n                if (to[i] === null)\n                    break;\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                const current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues =\n                        removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                value.jump(to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        const scrollY = changedValueTypeKeys.indexOf(\"height\") >= 0\n            ? window.pageYOffset\n            : null;\n        const convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(([key, value]) => {\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.render();\n        // Restore scroll position\n        if (isBrowser && scrollY !== null) {\n            window.scrollTo({ top: scrollY });\n        }\n        return { target: convertedTarget, transitionEnd };\n    }\n    else {\n        return { target, transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target, transitionEnd };\n}\n\nexport { positionalValues, unitConversion };\n","import { resolveCSSVariables } from './css-variables-conversion.mjs';\nimport { unitConversion } from './unit-conversion.mjs';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nconst parseDomVariant = (visualElement, target, origin, transitionEnd) => {\n    const resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    const { willChange } = next;\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n            }\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"11.0.3\", `Attempting to mix Framer Motion versions ${nextValue.version} with 11.0.3 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.remove(key);\n            }\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","import { warning, invariant } from '../utils/errors.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { isRefObject } from '../utils/is-ref-object.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isWillChangeMotionValue } from '../value/use-will-change/is.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from './utils/is-variant-label.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { variantProps } from './utils/variant-props.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst featureNames = Object.keys(featureDefinitions);\nconst numFeatures = featureNames.length;\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\nconst numVariantProps = variantProps.length;\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    constructor({ parent, props, presenceContext, reducedMotionConfig, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.scheduleRender = () => frame.render(this.render, false, true);\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {});\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n                if (isWillChangeMotionValue(willChange)) {\n                    willChange.add(key);\n                }\n            }\n        }\n    }\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps) {\n        return {};\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            this.features[key].unmount();\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate &&\n                frame.update(this.notifyUpdate, false, true);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    loadFeatures({ children, ...renderedProps }, isStrict, preloadedFeatures, initialLayoutGroupConfig) {\n        let ProjectionNodeConstructor;\n        let MeasureLayout;\n        /**\n         * If we're in development mode, check to make sure we're not rendering a motion component\n         * as a child of LazyMotion, as this will break the file-size benefits of using it.\n         */\n        if (process.env.NODE_ENV !== \"production\" &&\n            preloadedFeatures &&\n            isStrict) {\n            const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n            renderedProps.ignoreStrict\n                ? warning(false, strictMessage)\n                : invariant(false, strictMessage);\n        }\n        for (let i = 0; i < numFeatures; i++) {\n            const name = featureNames[i];\n            const { isEnabled, Feature: FeatureConstructor, ProjectionNode, MeasureLayout: MeasureLayoutComponent, } = featureDefinitions[name];\n            if (ProjectionNode)\n                ProjectionNodeConstructor = ProjectionNode;\n            if (isEnabled(renderedProps)) {\n                if (!this.features[name] && FeatureConstructor) {\n                    this.features[name] = new FeatureConstructor(this);\n                }\n                if (MeasureLayoutComponent) {\n                    MeasureLayout = MeasureLayoutComponent;\n                }\n            }\n        }\n        if ((this.type === \"html\" || this.type === \"svg\") &&\n            !this.projection &&\n            ProjectionNodeConstructor) {\n            this.projection = new ProjectionNodeConstructor(this.latestValues, this.parent && this.parent.projection);\n            const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = renderedProps;\n            this.projection.setOptions({\n                layoutId,\n                layout,\n                alwaysMeasureLayout: Boolean(drag) ||\n                    (dragConstraints && isRefObject(dragConstraints)),\n                visualElement: this,\n                scheduleRender: () => this.scheduleRender(),\n                /**\n                 * TODO: Update options in an effect. This could be tricky as it'll be too late\n                 * to update by the time layout animations run.\n                 * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n                 * ensuring it gets called if there's no potential layout animations.\n                 *\n                 */\n                animationType: typeof layout === \"string\" ? layout : \"both\",\n                initialPromotionConfig: initialLayoutGroupConfig,\n                layoutScroll,\n                layoutRoot,\n            });\n        }\n        return MeasureLayout;\n    }\n    updateFeatures() {\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature.isMounted) {\n                feature.update();\n            }\n            else {\n                feature.mount();\n                feature.isMounted = true;\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.options, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Make a target animatable by Popmotion. For instance, if we're\n     * trying to animate width from 100px to 100vw we need to measure 100vw\n     * in pixels to determine what we really need to animate to. This is also\n     * pluggable to support Framer's custom value types like Color,\n     * and CSS variables.\n     */\n    makeTargetAnimatable(target, canMutate = true) {\n        return this.makeTargetAnimatableFromInstance(target, canMutate);\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listener = props[\"on\" + key];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    getVariantContext(startAtParent = false) {\n        if (startAtParent) {\n            return this.parent ? this.parent.getVariantContext() : undefined;\n        }\n        if (!this.isControllingVariants) {\n            const context = this.parent\n                ? this.parent.getVariantContext() || {}\n                : {};\n            if (this.props.initial !== undefined) {\n                context.initial = this.props.initial;\n            }\n            return context;\n        }\n        const context = {};\n        for (let i = 0; i < numVariantProps; i++) {\n            const name = variantProps[i];\n            const prop = this.props[name];\n            if (isVariantLabel(prop) || prop === false) {\n                context[name] = prop;\n            }\n        }\n        return context;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        if (value !== this.values.get(key)) {\n            this.removeValue(key);\n            this.bindToMotionValue(key, value);\n        }\n        this.values.set(key, value);\n        this.latestValues[key] = value.get();\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key) {\n        var _a;\n        return this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a;\n        const { initial } = this.props;\n        const valueFromInitial = typeof initial === \"string\" || typeof initial === \"object\"\n            ? (_a = resolveVariantFromProps(this.props, initial)) === null || _a === void 0 ? void 0 : _a[key]\n            : undefined;\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n","import { getOrigin, checkTargetForNewValues } from '../utils/setters.mjs';\nimport { parseDomVariant } from './utils/parse-dom-variant.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style ? props.style[key] : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    makeTargetAnimatableFromInstance({ transition, transitionEnd, ...target }, isMounted) {\n        const origin = getOrigin(target, transition || {}, this);\n        if (isMounted) {\n            checkTargetForNewValues(this, target, origin);\n            const parsed = parseDomVariant(this, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return {\n            transition,\n            transitionEnd,\n            ...target,\n        };\n    }\n}\n\nexport { DOMVisualElement };\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, options, props) {\n        buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderHTML(instance, renderState, styleProp, projection);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    build(renderState, latestValues, options, props) {\n        buildSVGAttrs(renderState, latestValues, options, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options, { enableHardwareAcceleration: false })\n        : new HTMLVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import { createMotionComponent } from '../../motion/index.mjs';\nimport { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { animations } from '../../motion/features/animations.mjs';\nimport { drag } from '../../motion/features/drag.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\nimport { layout } from '../../motion/features/layout.mjs';\n\nconst preloadedFeatures = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nconst motion = /*@__PURE__*/ createMotionProxy((Component, config) => createDomMotionConfig(Component, config, preloadedFeatures, createDomVisualElement));\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, preloadedFeatures, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useForceUpdate() {\n    const isMounted = useIsMounted();\n    const [forcedRenderCount, setForcedRenderCount] = useState(0);\n    const forceRender = useCallback(() => {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    const deferredForceRender = useCallback(() => frame.postRender(forceRender), [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","import * as React from 'react';\nimport { useId, useRef, useInsertionEffect } from 'react';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (React.createElement(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size }, React.cloneElement(children, { ref })));\n}\n\nexport { PopChild };\n","import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(() => () => callback(), []);\n}\n\nexport { useUnmountEffect };\n","import * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\nimport { invariant } from '../../utils/errors.mjs';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction updateChildLookup(children, allChildren) {\n    children.forEach((child) => {\n        const key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, exitBeforeEnter, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    const forceRender = useContext(LayoutGroupContext).forceRender || useForceUpdate()[0];\n    const isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    const filteredChildren = onlyElements(children);\n    let childrenToRender = filteredChildren;\n    const exitingChildren = useRef(new Map()).current;\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    const presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    const allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    const isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(() => {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exitingChildren.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map((child) => (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child)))));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = [...childrenToRender];\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    const presentKeys = presentChildren.current.map(getChildKey);\n    const targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    const numPresent = presentKeys.length;\n    for (let i = 0; i < numPresent; i++) {\n        const key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1 && !exitingChildren.has(key)) {\n            exitingChildren.set(key, undefined);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (mode === \"wait\" && exitingChildren.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exitingChildren.forEach((component, key) => {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        const child = allChildren.get(key);\n        if (!child)\n            return;\n        const insertionIndex = presentKeys.indexOf(key);\n        let exitingComponent = component;\n        if (!exitingComponent) {\n            const onExit = () => {\n                // clean up the exiting children map\n                exitingChildren.delete(key);\n                // compute the keys of children that were rendered once but are no longer present\n                // this could happen in case of too many fast consequent renderings\n                // @link https://github.com/framer/motion/issues/2023\n                const leftOverKeys = Array.from(allChildren.keys()).filter((childKey) => !targetKeys.includes(childKey));\n                // clean up the all children map\n                leftOverKeys.forEach((leftOverKey) => allChildren.delete(leftOverKey));\n                // make sure to render only the children that are actually visible\n                presentChildren.current = filteredChildren.filter((presentChild) => {\n                    const presentChildKey = getChildKey(presentChild);\n                    return (\n                    // filter out the node exiting\n                    presentChildKey === key ||\n                        // filter out the leftover children\n                        leftOverKeys.includes(presentChildKey));\n                });\n                // Defer re-rendering until all exiting children have indeed left\n                if (!exitingChildren.size) {\n                    if (isMounted.current === false)\n                        return;\n                    forceRender();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            exitingComponent = (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n            exitingChildren.set(key, exitingComponent);\n        }\n        childrenToRender.splice(insertionIndex, 0, exitingComponent);\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map((child) => {\n        const key = child.key;\n        return exitingChildren.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n    });\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        childrenToRender.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    return (React.createElement(React.Fragment, null, exitingChildren.size\n        ? childrenToRender\n        : childrenToRender.map((child) => cloneElement(child))));\n};\n\nexport { AnimatePresence };\n","/**\n * Codes used by the replica for rejecting a message.\n * See {@link https://sdk.dfinity.org/docs/interface-spec/#reject-codes | the interface spec}.\n */\nexport var ReplicaRejectCode;\n(function (ReplicaRejectCode) {\n    ReplicaRejectCode[ReplicaRejectCode[\"SysFatal\"] = 1] = \"SysFatal\";\n    ReplicaRejectCode[ReplicaRejectCode[\"SysTransient\"] = 2] = \"SysTransient\";\n    ReplicaRejectCode[ReplicaRejectCode[\"DestinationInvalid\"] = 3] = \"DestinationInvalid\";\n    ReplicaRejectCode[ReplicaRejectCode[\"CanisterReject\"] = 4] = \"CanisterReject\";\n    ReplicaRejectCode[ReplicaRejectCode[\"CanisterError\"] = 5] = \"CanisterError\";\n})(ReplicaRejectCode || (ReplicaRejectCode = {}));\n//# sourceMappingURL=api.js.map","const alphabet = 'abcdefghijklmnopqrstuvwxyz234567';\n// Build a lookup table for decoding.\nconst lookupTable = Object.create(null);\nfor (let i = 0; i < alphabet.length; i++) {\n    lookupTable[alphabet[i]] = i;\n}\n// Add aliases for rfc4648.\nlookupTable['0'] = lookupTable.o;\nlookupTable['1'] = lookupTable.i;\n/**\n * @param input The input array to encode.\n * @returns A Base32 string encoding the input.\n */\nexport function encode(input) {\n    // How many bits will we skip from the first byte.\n    let skip = 0;\n    // 5 high bits, carry from one byte to the next.\n    let bits = 0;\n    // The output string in base32.\n    let output = '';\n    function encodeByte(byte) {\n        if (skip < 0) {\n            // we have a carry from the previous byte\n            bits |= byte >> -skip;\n        }\n        else {\n            // no carry\n            bits = (byte << skip) & 248;\n        }\n        if (skip > 3) {\n            // Not enough data to produce a character, get us another one\n            skip -= 8;\n            return 1;\n        }\n        if (skip < 4) {\n            // produce a character\n            output += alphabet[bits >> 3];\n            skip += 5;\n        }\n        return 0;\n    }\n    for (let i = 0; i < input.length;) {\n        i += encodeByte(input[i]);\n    }\n    return output + (skip < 0 ? alphabet[bits >> 3] : '');\n}\n/**\n * @param input The base32 encoded string to decode.\n */\nexport function decode(input) {\n    // how many bits we have from the previous character.\n    let skip = 0;\n    // current byte we're producing.\n    let byte = 0;\n    const output = new Uint8Array(((input.length * 4) / 3) | 0);\n    let o = 0;\n    function decodeChar(char) {\n        // Consume a character from the stream, store\n        // the output in this.output. As before, better\n        // to use update().\n        let val = lookupTable[char.toLowerCase()];\n        if (val === undefined) {\n            throw new Error(`Invalid character: ${JSON.stringify(char)}`);\n        }\n        // move to the high bits\n        val <<= 3;\n        byte |= val >>> skip;\n        skip += 5;\n        if (skip >= 8) {\n            // We have enough bytes to produce an output\n            output[o++] = byte;\n            skip -= 8;\n            if (skip > 0) {\n                byte = (val << (5 - skip)) & 255;\n            }\n            else {\n                byte = 0;\n            }\n        }\n    }\n    for (const c of input) {\n        decodeChar(c);\n    }\n    return output.slice(0, o);\n}\n//# sourceMappingURL=base32.js.map","// This file is translated to JavaScript from\n// https://lxp32.github.io/docs/a-simple-example-crc32-calculation/\nconst lookUpTable = new Uint32Array([\n    0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419, 0x706af48f, 0xe963a535, 0x9e6495a3,\n    0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91,\n    0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,\n    0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9, 0xfa0f3d63, 0x8d080df5,\n    0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n    0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,\n    0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599, 0xb8bda50f,\n    0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924, 0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d,\n    0x76dc4190, 0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,\n    0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n    0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457,\n    0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,\n    0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb,\n    0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9,\n    0x5005713c, 0x270241aa, 0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad,\n    0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683,\n    0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,\n    0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb, 0x196c3671, 0x6e6b06e7,\n    0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n    0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,\n    0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef, 0x4669be79,\n    0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236, 0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f,\n    0xc5ba3bbe, 0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,\n    0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n    0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21,\n    0x86d3d2d4, 0xf1d4e242, 0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,\n    0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45,\n    0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db,\n    0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693, 0x54de5729, 0x23d967bf,\n    0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d,\n]);\n/**\n * Calculate the CRC32 of an ArrayBufferLike.\n * @param buf The BufferLike to calculate the CRC32 of.\n */\nexport function getCrc32(buf) {\n    const b = new Uint8Array(buf);\n    let crc = -1;\n    for (let i = 0; i < b.length; i++) {\n        const byte = b[i];\n        const t = (byte ^ crc) & 0xff;\n        crc = lookUpTable[t] ^ (crc >>> 8);\n    }\n    return (crc ^ -1) >>> 0;\n}\n//# sourceMappingURL=getCrc.js.map","/**\n * Assertion helpers\n * @module\n */\nfunction anumber(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error('positive integer expected, got ' + n);\n}\n// copied from utils\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\nfunction abytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\nfunction ahash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    anumber(h.outputLen);\n    anumber(h.blockLen);\n}\nfunction aexists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction aoutput(out, instance) {\n    abytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error('digestInto() expects output buffer of length at least ' + min);\n    }\n}\nexport { anumber, abytes, ahash, aexists, aoutput };\n//# sourceMappingURL=_assert.js.map","export const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nimport { abytes } from './_assert.js';\n// export { isBytes } from './_assert.js';\n// We can't reuse isBytes from _assert, because somehow this causes huge perf issues\nexport function isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n/** The rotate right (circular right shift) operation for uint32 */\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n/** The rotate left (circular left shift) operation for uint32 */\nexport const rotl = (word, shift) => (word << shift) | ((word >>> (32 - shift)) >>> 0);\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n// The byte swap operation for uint32\nexport const byteSwap = (word) => ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff);\n/** Conditionally byte swap if on a big-endian platform */\nexport const byteSwapIfBE = isLE\n    ? (n) => n\n    : (n) => byteSwap(n);\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * Convert JS string to byte array.\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('utf8ToBytes expected string, got ' + typeof str);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    // Legacy Node.js compatibility\n    if (crypto && typeof crypto.randomBytes === 'function') {\n        return crypto.randomBytes(bytesLength);\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","import { aexists, aoutput } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n/**\n * Merkle-Damgard hash utils.\n * @module\n */\n/**\n * Polyfill for Safari 14\n */\nexport function setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n/**\n * Choice: a ? b : c\n */\nexport const Chi = (a, b, c) => (a & b) ^ (~a & c);\n/**\n * Majority function, true if any two inputs is true\n */\nexport const Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport class HashMD extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        aexists(this);\n        const { view, buffer, blockLen } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        aoutput(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in\n        // current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\n//# sourceMappingURL=_md.js.map","import { HashMD, Chi, Maj } from './_md.js';\nimport { rotr, wrapConstructor } from './utils.js';\n/**\n * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.\n *\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n *\n * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\n/** Round constants: first 32 bits of fractional parts of the cube roots of the first 64 primes 2..311). */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n/** Initial state: first 32 bits of fractional parts of the square roots of the first 8 primes 2..19. */\n// prettier-ignore\nconst SHA256_IV = /* @__PURE__ */ new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n/**\n * Temporary buffer, not used to store anything between runs.\n * Named this way because it matches specification.\n */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nexport class SHA256 extends HashMD {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = SHA256_IV[0] | 0;\n        this.B = SHA256_IV[1] | 0;\n        this.C = SHA256_IV[2] | 0;\n        this.D = SHA256_IV[3] | 0;\n        this.E = SHA256_IV[4] | 0;\n        this.F = SHA256_IV[5] | 0;\n        this.G = SHA256_IV[6] | 0;\n        this.H = SHA256_IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n/**\n * Constants taken from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf.\n */\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/** SHA2-256 hash function */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\n/** SHA2-224 hash function */\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","import { sha224 as jsSha224 } from '@noble/hashes/sha256';\n/**\n * Returns the SHA224 hash of the buffer.\n * @param data Arraybuffer to encode\n */\nexport function sha224(data) {\n    return jsSha224.create().update(new Uint8Array(data)).digest();\n}\n//# sourceMappingURL=sha224.js.map","import { decode, encode } from './utils/base32';\nimport { getCrc32 } from './utils/getCrc';\nimport { sha224 } from './utils/sha224';\nexport const JSON_KEY_PRINCIPAL = '__principal__';\nconst SELF_AUTHENTICATING_SUFFIX = 2;\nconst ANONYMOUS_SUFFIX = 4;\nconst MANAGEMENT_CANISTER_PRINCIPAL_HEX_STR = 'aaaaa-aa';\nconst fromHexString = (hexString) => { var _a; return new Uint8Array(((_a = hexString.match(/.{1,2}/g)) !== null && _a !== void 0 ? _a : []).map(byte => parseInt(byte, 16))); };\nconst toHexString = (bytes) => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\nexport class Principal {\n    constructor(_arr) {\n        this._arr = _arr;\n        this._isPrincipal = true;\n    }\n    static anonymous() {\n        return new this(new Uint8Array([ANONYMOUS_SUFFIX]));\n    }\n    /**\n     * Utility method, returning the principal representing the management canister, decoded from the hex string `'aaaaa-aa'`\n     * @returns {Principal} principal of the management canister\n     */\n    static managementCanister() {\n        return this.fromHex(MANAGEMENT_CANISTER_PRINCIPAL_HEX_STR);\n    }\n    static selfAuthenticating(publicKey) {\n        const sha = sha224(publicKey);\n        return new this(new Uint8Array([...sha, SELF_AUTHENTICATING_SUFFIX]));\n    }\n    static from(other) {\n        if (typeof other === 'string') {\n            return Principal.fromText(other);\n        }\n        else if (Object.getPrototypeOf(other) === Uint8Array.prototype) {\n            return new Principal(other);\n        }\n        else if (typeof other === 'object' &&\n            other !== null &&\n            other._isPrincipal === true) {\n            return new Principal(other._arr);\n        }\n        throw new Error(`Impossible to convert ${JSON.stringify(other)} to Principal.`);\n    }\n    static fromHex(hex) {\n        return new this(fromHexString(hex));\n    }\n    static fromText(text) {\n        let maybePrincipal = text;\n        // If formatted as JSON string, parse it first\n        if (text.includes(JSON_KEY_PRINCIPAL)) {\n            const obj = JSON.parse(text);\n            if (JSON_KEY_PRINCIPAL in obj) {\n                maybePrincipal = obj[JSON_KEY_PRINCIPAL];\n            }\n        }\n        const canisterIdNoDash = maybePrincipal.toLowerCase().replace(/-/g, '');\n        let arr = decode(canisterIdNoDash);\n        arr = arr.slice(4, arr.length);\n        const principal = new this(arr);\n        if (principal.toText() !== maybePrincipal) {\n            throw new Error(`Principal \"${principal.toText()}\" does not have a valid checksum (original value \"${maybePrincipal}\" may not be a valid Principal ID).`);\n        }\n        return principal;\n    }\n    static fromUint8Array(arr) {\n        return new this(arr);\n    }\n    isAnonymous() {\n        return this._arr.byteLength === 1 && this._arr[0] === ANONYMOUS_SUFFIX;\n    }\n    toUint8Array() {\n        return this._arr;\n    }\n    toHex() {\n        return toHexString(this._arr).toUpperCase();\n    }\n    toText() {\n        const checksumArrayBuf = new ArrayBuffer(4);\n        const view = new DataView(checksumArrayBuf);\n        view.setUint32(0, getCrc32(this._arr));\n        const checksum = new Uint8Array(checksumArrayBuf);\n        const bytes = Uint8Array.from(this._arr);\n        const array = new Uint8Array([...checksum, ...bytes]);\n        const result = encode(array);\n        const matches = result.match(/.{1,5}/g);\n        if (!matches) {\n            // This should only happen if there's no character, which is unreachable.\n            throw new Error();\n        }\n        return matches.join('-');\n    }\n    toString() {\n        return this.toText();\n    }\n    /**\n     * Serializes to JSON\n     * @returns {JsonnablePrincipal} a JSON object with a single key, {@link JSON_KEY_PRINCIPAL}, whose value is the principal as a string\n     */\n    toJSON() {\n        return { [JSON_KEY_PRINCIPAL]: this.toText() };\n    }\n    /**\n     * Utility method taking a Principal to compare against. Used for determining canister ranges in certificate verification\n     * @param {Principal} other - a {@link Principal} to compare\n     * @returns {'lt' | 'eq' | 'gt'} `'lt' | 'eq' | 'gt'` a string, representing less than, equal to, or greater than\n     */\n    compareTo(other) {\n        for (let i = 0; i < Math.min(this._arr.length, other._arr.length); i++) {\n            if (this._arr[i] < other._arr[i])\n                return 'lt';\n            else if (this._arr[i] > other._arr[i])\n                return 'gt';\n        }\n        // Here, at least one principal is a prefix of the other principal (they could be the same)\n        if (this._arr.length < other._arr.length)\n            return 'lt';\n        if (this._arr.length > other._arr.length)\n            return 'gt';\n        return 'eq';\n    }\n    /**\n     * Utility method checking whether a provided Principal is less than or equal to the current one using the {@link Principal.compareTo} method\n     * @param other a {@link Principal} to compare\n     * @returns {boolean} boolean\n     */\n    ltEq(other) {\n        const cmp = this.compareTo(other);\n        return cmp == 'lt' || cmp == 'eq';\n    }\n    /**\n     * Utility method checking whether a provided Principal is greater than or equal to the current one using the {@link Principal.compareTo} method\n     * @param other a {@link Principal} to compare\n     * @returns {boolean} boolean\n     */\n    gtEq(other) {\n        const cmp = this.compareTo(other);\n        return cmp == 'gt' || cmp == 'eq';\n    }\n}\n//# sourceMappingURL=index.js.map","/**\n * An error that happens in the Agent. This is the root of all errors and should be used\n * everywhere in the Agent code (this package).\n *\n * @todo https://github.com/dfinity/agent-js/issues/420\n */\nexport class AgentError extends Error {\n    constructor(message) {\n        super(message);\n        this.message = message;\n        Object.setPrototypeOf(this, AgentError.prototype);\n    }\n}\n//# sourceMappingURL=errors.js.map","/**\n * Concatenate multiple array buffers.\n * @param buffers The buffers to concatenate.\n */\nexport function concat(...buffers) {\n    const result = new Uint8Array(buffers.reduce((acc, curr) => acc + curr.byteLength, 0));\n    let index = 0;\n    for (const b of buffers) {\n        result.set(new Uint8Array(b), index);\n        index += b.byteLength;\n    }\n    return result;\n}\n/**\n * Returns an hexadecimal representation of an array buffer.\n * @param bytes The array buffer.\n */\nexport function toHexString(bytes) {\n    return new Uint8Array(bytes).reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n}\n/**\n * Return an array buffer from its hexadecimal representation.\n * @param hexString The hexadecimal string.\n */\nexport function fromHexString(hexString) {\n    var _a;\n    return new Uint8Array(((_a = hexString.match(/.{1,2}/g)) !== null && _a !== void 0 ? _a : []).map(byte => parseInt(byte, 16)));\n}\n/**\n * A class that abstracts a pipe-like ArrayBuffer.\n */\nexport class PipeArrayBuffer {\n    /**\n     * Creates a new instance of a pipe\n     * @param buffer an optional buffer to start with\n     * @param length an optional amount of bytes to use for the length.\n     */\n    constructor(buffer, length = (buffer === null || buffer === void 0 ? void 0 : buffer.byteLength) || 0) {\n        this._buffer = buffer || new ArrayBuffer(0);\n        this._view = new Uint8Array(this._buffer, 0, length);\n    }\n    get buffer() {\n        // Return a copy of the buffer.\n        return this._view.slice();\n    }\n    get byteLength() {\n        return this._view.byteLength;\n    }\n    /**\n     * Read `num` number of bytes from the front of the pipe.\n     * @param num The number of bytes to read.\n     */\n    read(num) {\n        const result = this._view.subarray(0, num);\n        this._view = this._view.subarray(num);\n        return result.slice().buffer;\n    }\n    readUint8() {\n        const result = this._view[0];\n        this._view = this._view.subarray(1);\n        return result;\n    }\n    /**\n     * Write a buffer to the end of the pipe.\n     * @param buf The bytes to write.\n     */\n    write(buf) {\n        const b = new Uint8Array(buf);\n        const offset = this._view.byteLength;\n        if (this._view.byteOffset + this._view.byteLength + b.byteLength >= this._buffer.byteLength) {\n            // Alloc grow the view to include the new bytes.\n            this.alloc(b.byteLength);\n        }\n        else {\n            // Update the view to include the new bytes.\n            this._view = new Uint8Array(this._buffer, this._view.byteOffset, this._view.byteLength + b.byteLength);\n        }\n        this._view.set(b, offset);\n    }\n    /**\n     * Whether or not there is more data to read from the buffer\n     */\n    get end() {\n        return this._view.byteLength === 0;\n    }\n    /**\n     * Allocate a fixed amount of memory in the buffer. This does not affect the view.\n     * @param amount A number of bytes to add to the buffer.\n     */\n    alloc(amount) {\n        // Add a little bit of exponential growth.\n        const b = new ArrayBuffer(((this._buffer.byteLength + amount) * 1.2) | 0);\n        const v = new Uint8Array(b, 0, this._view.byteLength + amount);\n        v.set(this._view);\n        this._buffer = b;\n        this._view = v;\n    }\n}\n//# sourceMappingURL=buffer.js.map","/**\n * Hashes a string to a number. Algorithm can be found here:\n * https://caml.inria.fr/pub/papers/garrigue-polymorphic_variants-ml98.pdf\n * @param s\n */\nfunction idlHash(s) {\n    const utf8encoder = new TextEncoder();\n    const array = utf8encoder.encode(s);\n    let h = 0;\n    for (const c of array) {\n        h = (h * 223 + c) % 2 ** 32;\n    }\n    return h;\n}\n/**\n *\n * @param label string\n * @returns number representing hashed label\n */\nexport function idlLabelToId(label) {\n    if (/^_\\d+_$/.test(label) || /^_0x[0-9a-fA-F]+_$/.test(label)) {\n        const num = +label.slice(1, -1);\n        if (Number.isSafeInteger(num) && num >= 0 && num < 2 ** 32) {\n            return num;\n        }\n    }\n    return idlHash(label);\n}\n//# sourceMappingURL=hash.js.map","/* eslint-disable no-constant-condition */\n// Note: this file uses buffer-pipe, which on Node only, uses the Node Buffer\n//       implementation, which isn't compatible with the NPM buffer package\n//       which we use everywhere else. This means that we have to transform\n//       one into the other, hence why every function that returns a Buffer\n//       actually return `new Buffer(pipe.buffer)`.\n// TODO: The best solution would be to have our own buffer type around\n//       Uint8Array which is standard.\nimport { PipeArrayBuffer as Pipe } from './buffer';\nfunction eob() {\n    throw new Error('unexpected end of buffer');\n}\n/**\n *\n * @param pipe Pipe from buffer-pipe\n * @param num number\n * @returns Buffer\n */\nexport function safeRead(pipe, num) {\n    if (pipe.byteLength < num) {\n        eob();\n    }\n    return pipe.read(num);\n}\n/**\n * @param pipe\n */\nexport function safeReadUint8(pipe) {\n    const byte = pipe.readUint8();\n    if (byte === undefined) {\n        eob();\n    }\n    return byte;\n}\n/**\n * Encode a positive number (or bigint) into a Buffer. The number will be floored to the\n * nearest integer.\n * @param value The number to encode.\n */\nexport function lebEncode(value) {\n    if (typeof value === 'number') {\n        value = BigInt(value);\n    }\n    if (value < BigInt(0)) {\n        throw new Error('Cannot leb encode negative values.');\n    }\n    const byteLength = (value === BigInt(0) ? 0 : Math.ceil(Math.log2(Number(value)))) + 1;\n    const pipe = new Pipe(new ArrayBuffer(byteLength), 0);\n    while (true) {\n        const i = Number(value & BigInt(0x7f));\n        value /= BigInt(0x80);\n        if (value === BigInt(0)) {\n            pipe.write(new Uint8Array([i]));\n            break;\n        }\n        else {\n            pipe.write(new Uint8Array([i | 0x80]));\n        }\n    }\n    return pipe.buffer;\n}\n/**\n * Decode a leb encoded buffer into a bigint. The number will always be positive (does not\n * support signed leb encoding).\n * @param pipe A Buffer containing the leb encoded bits.\n */\nexport function lebDecode(pipe) {\n    let weight = BigInt(1);\n    let value = BigInt(0);\n    let byte;\n    do {\n        byte = safeReadUint8(pipe);\n        value += BigInt(byte & 0x7f).valueOf() * weight;\n        weight *= BigInt(128);\n    } while (byte >= 0x80);\n    return value;\n}\n/**\n * Encode a number (or bigint) into a Buffer, with support for negative numbers. The number\n * will be floored to the nearest integer.\n * @param value The number to encode.\n */\nexport function slebEncode(value) {\n    if (typeof value === 'number') {\n        value = BigInt(value);\n    }\n    const isNeg = value < BigInt(0);\n    if (isNeg) {\n        value = -value - BigInt(1);\n    }\n    const byteLength = (value === BigInt(0) ? 0 : Math.ceil(Math.log2(Number(value)))) + 1;\n    const pipe = new Pipe(new ArrayBuffer(byteLength), 0);\n    while (true) {\n        const i = getLowerBytes(value);\n        value /= BigInt(0x80);\n        // prettier-ignore\n        if ((isNeg && value === BigInt(0) && (i & 0x40) !== 0)\n            || (!isNeg && value === BigInt(0) && (i & 0x40) === 0)) {\n            pipe.write(new Uint8Array([i]));\n            break;\n        }\n        else {\n            pipe.write(new Uint8Array([i | 0x80]));\n        }\n    }\n    function getLowerBytes(num) {\n        const bytes = num % BigInt(0x80);\n        if (isNeg) {\n            // We swap the bits here again, and remove 1 to do two's complement.\n            return Number(BigInt(0x80) - bytes - BigInt(1));\n        }\n        else {\n            return Number(bytes);\n        }\n    }\n    return pipe.buffer;\n}\n/**\n * Decode a leb encoded buffer into a bigint. The number is decoded with support for negative\n * signed-leb encoding.\n * @param pipe A Buffer containing the signed leb encoded bits.\n */\nexport function slebDecode(pipe) {\n    // Get the size of the buffer, then cut a buffer of that size.\n    const pipeView = new Uint8Array(pipe.buffer);\n    let len = 0;\n    for (; len < pipeView.byteLength; len++) {\n        if (pipeView[len] < 0x80) {\n            // If it's a positive number, we reuse lebDecode.\n            if ((pipeView[len] & 0x40) === 0) {\n                return lebDecode(pipe);\n            }\n            break;\n        }\n    }\n    const bytes = new Uint8Array(safeRead(pipe, len + 1));\n    let value = BigInt(0);\n    for (let i = bytes.byteLength - 1; i >= 0; i--) {\n        value = value * BigInt(0x80) + BigInt(0x80 - (bytes[i] & 0x7f) - 1);\n    }\n    return -value - BigInt(1);\n}\n/**\n *\n * @param value bigint or number\n * @param byteLength number\n * @returns Buffer\n */\nexport function writeUIntLE(value, byteLength) {\n    if (BigInt(value) < BigInt(0)) {\n        throw new Error('Cannot write negative values.');\n    }\n    return writeIntLE(value, byteLength);\n}\n/**\n *\n * @param value\n * @param byteLength\n */\nexport function writeIntLE(value, byteLength) {\n    value = BigInt(value);\n    const pipe = new Pipe(new ArrayBuffer(Math.min(1, byteLength)), 0);\n    let i = 0;\n    let mul = BigInt(256);\n    let sub = BigInt(0);\n    let byte = Number(value % mul);\n    pipe.write(new Uint8Array([byte]));\n    while (++i < byteLength) {\n        if (value < 0 && sub === BigInt(0) && byte !== 0) {\n            sub = BigInt(1);\n        }\n        byte = Number((value / mul - sub) % BigInt(256));\n        pipe.write(new Uint8Array([byte]));\n        mul *= BigInt(256);\n    }\n    return pipe.buffer;\n}\n/**\n *\n * @param pipe Pipe from buffer-pipe\n * @param byteLength number\n * @returns bigint\n */\nexport function readUIntLE(pipe, byteLength) {\n    let val = BigInt(safeReadUint8(pipe));\n    let mul = BigInt(1);\n    let i = 0;\n    while (++i < byteLength) {\n        mul *= BigInt(256);\n        const byte = BigInt(safeReadUint8(pipe));\n        val = val + mul * byte;\n    }\n    return val;\n}\n/**\n *\n * @param pipe Pipe from buffer-pipe\n * @param byteLength number\n * @returns bigint\n */\nexport function readIntLE(pipe, byteLength) {\n    let val = readUIntLE(pipe, byteLength);\n    const mul = BigInt(2) ** (BigInt(8) * BigInt(byteLength - 1) + BigInt(7));\n    if (val >= mul) {\n        val -= mul * BigInt(2);\n    }\n    return val;\n}\n//# sourceMappingURL=leb128.js.map","/**\n * Equivalent to `Math.log2(n)` with support for `BigInt` values\n * @param n bigint or integer\n * @returns integer\n */\nexport function ilog2(n) {\n    const nBig = BigInt(n);\n    if (n <= 0) {\n        throw new RangeError('Input must be positive');\n    }\n    return nBig.toString(2).length - 1;\n}\n/**\n * Equivalent to `2 ** n` with support for `BigInt` values\n * (necessary for browser preprocessors which replace the `**` operator with `Math.pow`)\n * @param n bigint or integer\n * @returns bigint\n */\nexport function iexp2(n) {\n    const nBig = BigInt(n);\n    if (n < 0) {\n        throw new RangeError('Input must be non-negative');\n    }\n    return BigInt(1) << nBig;\n}\n//# sourceMappingURL=bigint-math.js.map","/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Principal as PrincipalId } from '@dfinity/principal';\nimport { concat, PipeArrayBuffer as Pipe } from './utils/buffer';\nimport { idlLabelToId } from './utils/hash';\nimport { lebDecode, lebEncode, readIntLE, readUIntLE, safeRead, safeReadUint8, slebDecode, slebEncode, writeIntLE, writeUIntLE, } from './utils/leb128';\nimport { iexp2 } from './utils/bigint-math';\nconst magicNumber = 'DIDL';\nconst toReadableString_max = 400; // will not display arguments after 400chars. Makes sure 2mb blobs don't get inside the error\nfunction zipWith(xs, ys, f) {\n    return xs.map((x, i) => f(x, ys[i]));\n}\n/**\n * An IDL Type Table, which precedes the data in the stream.\n */\nclass TypeTable {\n    constructor() {\n        // List of types. Needs to be an array as the index needs to be stable.\n        this._typs = [];\n        this._idx = new Map();\n    }\n    has(obj) {\n        return this._idx.has(obj.name);\n    }\n    add(type, buf) {\n        const idx = this._typs.length;\n        this._idx.set(type.name, idx);\n        this._typs.push(buf);\n    }\n    merge(obj, knot) {\n        const idx = this._idx.get(obj.name);\n        const knotIdx = this._idx.get(knot);\n        if (idx === undefined) {\n            throw new Error('Missing type index for ' + obj);\n        }\n        if (knotIdx === undefined) {\n            throw new Error('Missing type index for ' + knot);\n        }\n        this._typs[idx] = this._typs[knotIdx];\n        // Delete the type.\n        this._typs.splice(knotIdx, 1);\n        this._idx.delete(knot);\n    }\n    encode() {\n        const len = lebEncode(this._typs.length);\n        const buf = concat(...this._typs);\n        return concat(len, buf);\n    }\n    indexOf(typeName) {\n        if (!this._idx.has(typeName)) {\n            throw new Error('Missing type index for ' + typeName);\n        }\n        return slebEncode(this._idx.get(typeName) || 0);\n    }\n}\nexport class Visitor {\n    visitType(t, data) {\n        throw new Error('Not implemented');\n    }\n    visitPrimitive(t, data) {\n        return this.visitType(t, data);\n    }\n    visitEmpty(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitBool(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitNull(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitReserved(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitText(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitNumber(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitInt(t, data) {\n        return this.visitNumber(t, data);\n    }\n    visitNat(t, data) {\n        return this.visitNumber(t, data);\n    }\n    visitFloat(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitFixedInt(t, data) {\n        return this.visitNumber(t, data);\n    }\n    visitFixedNat(t, data) {\n        return this.visitNumber(t, data);\n    }\n    visitPrincipal(t, data) {\n        return this.visitPrimitive(t, data);\n    }\n    visitConstruct(t, data) {\n        return this.visitType(t, data);\n    }\n    visitVec(t, ty, data) {\n        return this.visitConstruct(t, data);\n    }\n    visitOpt(t, ty, data) {\n        return this.visitConstruct(t, data);\n    }\n    visitRecord(t, fields, data) {\n        return this.visitConstruct(t, data);\n    }\n    visitTuple(t, components, data) {\n        const fields = components.map((ty, i) => [`_${i}_`, ty]);\n        return this.visitRecord(t, fields, data);\n    }\n    visitVariant(t, fields, data) {\n        return this.visitConstruct(t, data);\n    }\n    visitRec(t, ty, data) {\n        return this.visitConstruct(ty, data);\n    }\n    visitFunc(t, data) {\n        return this.visitConstruct(t, data);\n    }\n    visitService(t, data) {\n        return this.visitConstruct(t, data);\n    }\n}\n/**\n * Represents an IDL type.\n */\nexport class Type {\n    /* Display type name */\n    display() {\n        return this.name;\n    }\n    valueToString(x) {\n        return toReadableString(x);\n    }\n    /* Implement `T` in the IDL spec, only needed for non-primitive types */\n    buildTypeTable(typeTable) {\n        if (!typeTable.has(this)) {\n            this._buildTypeTableImpl(typeTable);\n        }\n    }\n}\nexport class PrimitiveType extends Type {\n    checkType(t) {\n        if (this.name !== t.name) {\n            throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);\n        }\n        return t;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _buildTypeTableImpl(typeTable) {\n        // No type table encoding for Primitive types.\n        return;\n    }\n}\nexport class ConstructType extends Type {\n    checkType(t) {\n        if (t instanceof RecClass) {\n            const ty = t.getType();\n            if (typeof ty === 'undefined') {\n                throw new Error('type mismatch with uninitialized type');\n            }\n            return ty;\n        }\n        throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);\n    }\n    encodeType(typeTable) {\n        return typeTable.indexOf(this.name);\n    }\n}\n/**\n * Represents an IDL Empty, a type which has no inhabitants.\n * Since no values exist for this type, it cannot be serialised or deserialised.\n * Result types like `Result<Text, Empty>` should always succeed.\n */\nexport class EmptyClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitEmpty(this, d);\n    }\n    covariant(x) {\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue() {\n        throw new Error('Empty cannot appear as a function argument');\n    }\n    valueToString() {\n        throw new Error('Empty cannot appear as a value');\n    }\n    encodeType() {\n        return slebEncode(-17 /* IDLTypeIds.Empty */);\n    }\n    decodeValue() {\n        throw new Error('Empty cannot appear as an output');\n    }\n    get name() {\n        return 'empty';\n    }\n}\n/**\n * Represents an IDL Unknown, a placeholder type for deserialization only.\n * When decoding a value as Unknown, all fields will be retained but the names are only available in\n * hashed form.\n * A deserialized unknown will offer it's actual type by calling the `type()` function.\n * Unknown cannot be serialized and attempting to do so will throw an error.\n */\nexport class UnknownClass extends Type {\n    checkType(t) {\n        throw new Error('Method not implemented for unknown.');\n    }\n    accept(v, d) {\n        throw v.visitType(this, d);\n    }\n    covariant(x) {\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue() {\n        throw new Error('Unknown cannot appear as a function argument');\n    }\n    valueToString() {\n        throw new Error('Unknown cannot appear as a value');\n    }\n    encodeType() {\n        throw new Error('Unknown cannot be serialized');\n    }\n    decodeValue(b, t) {\n        let decodedValue = t.decodeValue(b, t);\n        if (Object(decodedValue) !== decodedValue) {\n            // decodedValue is primitive. Box it, otherwise we cannot add the type() function.\n            // The type() function is important for primitives because otherwise we cannot tell apart the\n            // different number types.\n            decodedValue = Object(decodedValue);\n        }\n        let typeFunc;\n        if (t instanceof RecClass) {\n            typeFunc = () => t.getType();\n        }\n        else {\n            typeFunc = () => t;\n        }\n        // Do not use 'decodedValue.type = typeFunc' because this would lead to an enumerable property\n        // 'type' which means it would be serialized if the value would be candid encoded again.\n        // This in turn leads to problems if the decoded value is a variant because these values are\n        // only allowed to have a single property.\n        Object.defineProperty(decodedValue, 'type', {\n            value: typeFunc,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        });\n        return decodedValue;\n    }\n    _buildTypeTableImpl() {\n        throw new Error('Unknown cannot be serialized');\n    }\n    get name() {\n        return 'Unknown';\n    }\n}\n/**\n * Represents an IDL Bool\n */\nexport class BoolClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitBool(this, d);\n    }\n    covariant(x) {\n        if (typeof x === 'boolean')\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        return new Uint8Array([x ? 1 : 0]);\n    }\n    encodeType() {\n        return slebEncode(-2 /* IDLTypeIds.Bool */);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        switch (safeReadUint8(b)) {\n            case 0:\n                return false;\n            case 1:\n                return true;\n            default:\n                throw new Error('Boolean value out of range');\n        }\n    }\n    get name() {\n        return 'bool';\n    }\n}\n/**\n * Represents an IDL Null\n */\nexport class NullClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitNull(this, d);\n    }\n    covariant(x) {\n        if (x === null)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue() {\n        return new ArrayBuffer(0);\n    }\n    encodeType() {\n        return slebEncode(-1 /* IDLTypeIds.Null */);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        return null;\n    }\n    get name() {\n        return 'null';\n    }\n}\n/**\n * Represents an IDL Reserved\n */\nexport class ReservedClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitReserved(this, d);\n    }\n    covariant(x) {\n        return true;\n    }\n    encodeValue() {\n        return new ArrayBuffer(0);\n    }\n    encodeType() {\n        return slebEncode(-16 /* IDLTypeIds.Reserved */);\n    }\n    decodeValue(b, t) {\n        if (t.name !== this.name) {\n            t.decodeValue(b, t);\n        }\n        return null;\n    }\n    get name() {\n        return 'reserved';\n    }\n}\n/**\n * Represents an IDL Text\n */\nexport class TextClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitText(this, d);\n    }\n    covariant(x) {\n        if (typeof x === 'string')\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const buf = new TextEncoder().encode(x);\n        const len = lebEncode(buf.byteLength);\n        return concat(len, buf);\n    }\n    encodeType() {\n        return slebEncode(-15 /* IDLTypeIds.Text */);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        const len = lebDecode(b);\n        const buf = safeRead(b, Number(len));\n        const decoder = new TextDecoder('utf8', { fatal: true });\n        return decoder.decode(buf);\n    }\n    get name() {\n        return 'text';\n    }\n    valueToString(x) {\n        return '\"' + x + '\"';\n    }\n}\n/**\n * Represents an IDL Int\n */\nexport class IntClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitInt(this, d);\n    }\n    covariant(x) {\n        // We allow encoding of JavaScript plain numbers.\n        // But we will always decode to bigint.\n        if (typeof x === 'bigint' || Number.isInteger(x))\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        return slebEncode(x);\n    }\n    encodeType() {\n        return slebEncode(-4 /* IDLTypeIds.Int */);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        return slebDecode(b);\n    }\n    get name() {\n        return 'int';\n    }\n    valueToString(x) {\n        return x.toString();\n    }\n}\n/**\n * Represents an IDL Nat\n */\nexport class NatClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitNat(this, d);\n    }\n    covariant(x) {\n        // We allow encoding of JavaScript plain numbers.\n        // But we will always decode to bigint.\n        if ((typeof x === 'bigint' && x >= BigInt(0)) || (Number.isInteger(x) && x >= 0))\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        return lebEncode(x);\n    }\n    encodeType() {\n        return slebEncode(-3 /* IDLTypeIds.Nat */);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        return lebDecode(b);\n    }\n    get name() {\n        return 'nat';\n    }\n    valueToString(x) {\n        return x.toString();\n    }\n}\n/**\n * Represents an IDL Float\n */\nexport class FloatClass extends PrimitiveType {\n    constructor(_bits) {\n        super();\n        this._bits = _bits;\n        if (_bits !== 32 && _bits !== 64) {\n            throw new Error('not a valid float type');\n        }\n    }\n    accept(v, d) {\n        return v.visitFloat(this, d);\n    }\n    covariant(x) {\n        if (typeof x === 'number' || x instanceof Number)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const buf = new ArrayBuffer(this._bits / 8);\n        const view = new DataView(buf);\n        if (this._bits === 32) {\n            view.setFloat32(0, x, true);\n        }\n        else {\n            view.setFloat64(0, x, true);\n        }\n        return buf;\n    }\n    encodeType() {\n        const opcode = this._bits === 32 ? -13 /* IDLTypeIds.Float32 */ : -14 /* IDLTypeIds.Float64 */;\n        return slebEncode(opcode);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        const bytes = safeRead(b, this._bits / 8);\n        const view = new DataView(bytes);\n        if (this._bits === 32) {\n            return view.getFloat32(0, true);\n        }\n        else {\n            return view.getFloat64(0, true);\n        }\n    }\n    get name() {\n        return 'float' + this._bits;\n    }\n    valueToString(x) {\n        return x.toString();\n    }\n}\n/**\n * Represents an IDL fixed-width Int(n)\n */\nexport class FixedIntClass extends PrimitiveType {\n    constructor(_bits) {\n        super();\n        this._bits = _bits;\n    }\n    accept(v, d) {\n        return v.visitFixedInt(this, d);\n    }\n    covariant(x) {\n        const min = iexp2(this._bits - 1) * BigInt(-1);\n        const max = iexp2(this._bits - 1) - BigInt(1);\n        let ok = false;\n        if (typeof x === 'bigint') {\n            ok = x >= min && x <= max;\n        }\n        else if (Number.isInteger(x)) {\n            const v = BigInt(x);\n            ok = v >= min && v <= max;\n        }\n        else {\n            ok = false;\n        }\n        if (ok)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        return writeIntLE(x, this._bits / 8);\n    }\n    encodeType() {\n        const offset = Math.log2(this._bits) - 3;\n        return slebEncode(-9 - offset);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        const num = readIntLE(b, this._bits / 8);\n        if (this._bits <= 32) {\n            return Number(num);\n        }\n        else {\n            return num;\n        }\n    }\n    get name() {\n        return `int${this._bits}`;\n    }\n    valueToString(x) {\n        return x.toString();\n    }\n}\n/**\n * Represents an IDL fixed-width Nat(n)\n */\nexport class FixedNatClass extends PrimitiveType {\n    constructor(_bits) {\n        super();\n        this._bits = _bits;\n    }\n    accept(v, d) {\n        return v.visitFixedNat(this, d);\n    }\n    covariant(x) {\n        const max = iexp2(this._bits);\n        let ok = false;\n        if (typeof x === 'bigint' && x >= BigInt(0)) {\n            ok = x < max;\n        }\n        else if (Number.isInteger(x) && x >= 0) {\n            const v = BigInt(x);\n            ok = v < max;\n        }\n        else {\n            ok = false;\n        }\n        if (ok)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        return writeUIntLE(x, this._bits / 8);\n    }\n    encodeType() {\n        const offset = Math.log2(this._bits) - 3;\n        return slebEncode(-5 - offset);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        const num = readUIntLE(b, this._bits / 8);\n        if (this._bits <= 32) {\n            return Number(num);\n        }\n        else {\n            return num;\n        }\n    }\n    get name() {\n        return `nat${this._bits}`;\n    }\n    valueToString(x) {\n        return x.toString();\n    }\n}\n/**\n * Represents an IDL Array\n *\n * Arrays of fixed-sized nat/int type (e.g. nat8), are encoded from and decoded to TypedArrays (e.g. Uint8Array).\n * Arrays of float or other non-primitive types are encoded/decoded as untyped array in Javascript.\n * @param {Type} t\n */\nexport class VecClass extends ConstructType {\n    constructor(_type) {\n        super();\n        this._type = _type;\n        // If true, this vector is really a blob and we can just use memcpy.\n        //\n        // NOTE:\n        // With support of encoding/dencoding of TypedArrays, this optimization is\n        // only used when plain array of bytes are passed as encoding input in order\n        // to be backward compatible.\n        this._blobOptimization = false;\n        if (_type instanceof FixedNatClass && _type._bits === 8) {\n            this._blobOptimization = true;\n        }\n    }\n    accept(v, d) {\n        return v.visitVec(this, this._type, d);\n    }\n    covariant(x) {\n        // Special case for ArrayBuffer\n        const bits = this._type instanceof FixedNatClass\n            ? this._type._bits\n            : this._type instanceof FixedIntClass\n                ? this._type._bits\n                : 0;\n        if ((ArrayBuffer.isView(x) && bits == x.BYTES_PER_ELEMENT * 8) ||\n            (Array.isArray(x) &&\n                x.every((v, idx) => {\n                    try {\n                        return this._type.covariant(v);\n                    }\n                    catch (e) {\n                        throw new Error(`Invalid ${this.display()} argument: \\n\\nindex ${idx} -> ${e.message}`);\n                    }\n                })))\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const len = lebEncode(x.length);\n        if (this._blobOptimization) {\n            return concat(len, new Uint8Array(x));\n        }\n        if (ArrayBuffer.isView(x)) {\n            return concat(len, new Uint8Array(x.buffer));\n        }\n        const buf = new Pipe(new ArrayBuffer(len.byteLength + x.length), 0);\n        buf.write(len);\n        for (const d of x) {\n            const encoded = this._type.encodeValue(d);\n            buf.write(new Uint8Array(encoded));\n        }\n        return buf.buffer;\n    }\n    _buildTypeTableImpl(typeTable) {\n        this._type.buildTypeTable(typeTable);\n        const opCode = slebEncode(-19 /* IDLTypeIds.Vector */);\n        const buffer = this._type.encodeType(typeTable);\n        typeTable.add(this, concat(opCode, buffer));\n    }\n    decodeValue(b, t) {\n        const vec = this.checkType(t);\n        if (!(vec instanceof VecClass)) {\n            throw new Error('Not a vector type');\n        }\n        const len = Number(lebDecode(b));\n        if (this._type instanceof FixedNatClass) {\n            if (this._type._bits == 8) {\n                return new Uint8Array(b.read(len));\n            }\n            if (this._type._bits == 16) {\n                return new Uint16Array(b.read(len * 2));\n            }\n            if (this._type._bits == 32) {\n                return new Uint32Array(b.read(len * 4));\n            }\n            if (this._type._bits == 64) {\n                return new BigUint64Array(b.read(len * 8));\n            }\n        }\n        if (this._type instanceof FixedIntClass) {\n            if (this._type._bits == 8) {\n                return new Int8Array(b.read(len));\n            }\n            if (this._type._bits == 16) {\n                return new Int16Array(b.read(len * 2));\n            }\n            if (this._type._bits == 32) {\n                return new Int32Array(b.read(len * 4));\n            }\n            if (this._type._bits == 64) {\n                return new BigInt64Array(b.read(len * 8));\n            }\n        }\n        const rets = [];\n        for (let i = 0; i < len; i++) {\n            rets.push(this._type.decodeValue(b, vec._type));\n        }\n        return rets;\n    }\n    get name() {\n        return `vec ${this._type.name}`;\n    }\n    display() {\n        return `vec ${this._type.display()}`;\n    }\n    valueToString(x) {\n        const elements = x.map(e => this._type.valueToString(e));\n        return 'vec {' + elements.join('; ') + '}';\n    }\n}\n/**\n * Represents an IDL Option\n * @param {Type} t\n */\nexport class OptClass extends ConstructType {\n    constructor(_type) {\n        super();\n        this._type = _type;\n    }\n    accept(v, d) {\n        return v.visitOpt(this, this._type, d);\n    }\n    covariant(x) {\n        try {\n            if (Array.isArray(x) && (x.length === 0 || (x.length === 1 && this._type.covariant(x[0]))))\n                return true;\n        }\n        catch (e) {\n            throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)} \\n\\n-> ${e.message}`);\n        }\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        if (x.length === 0) {\n            return new Uint8Array([0]);\n        }\n        else {\n            return concat(new Uint8Array([1]), this._type.encodeValue(x[0]));\n        }\n    }\n    _buildTypeTableImpl(typeTable) {\n        this._type.buildTypeTable(typeTable);\n        const opCode = slebEncode(-18 /* IDLTypeIds.Opt */);\n        const buffer = this._type.encodeType(typeTable);\n        typeTable.add(this, concat(opCode, buffer));\n    }\n    decodeValue(b, t) {\n        const opt = this.checkType(t);\n        if (!(opt instanceof OptClass)) {\n            throw new Error('Not an option type');\n        }\n        switch (safeReadUint8(b)) {\n            case 0:\n                return [];\n            case 1:\n                return [this._type.decodeValue(b, opt._type)];\n            default:\n                throw new Error('Not an option value');\n        }\n    }\n    get name() {\n        return `opt ${this._type.name}`;\n    }\n    display() {\n        return `opt ${this._type.display()}`;\n    }\n    valueToString(x) {\n        if (x.length === 0) {\n            return 'null';\n        }\n        else {\n            return `opt ${this._type.valueToString(x[0])}`;\n        }\n    }\n}\n/**\n * Represents an IDL Record\n * @param {object} [fields] - mapping of function name to Type\n */\nexport class RecordClass extends ConstructType {\n    constructor(fields = {}) {\n        super();\n        this._fields = Object.entries(fields).sort((a, b) => idlLabelToId(a[0]) - idlLabelToId(b[0]));\n    }\n    accept(v, d) {\n        return v.visitRecord(this, this._fields, d);\n    }\n    tryAsTuple() {\n        const res = [];\n        for (let i = 0; i < this._fields.length; i++) {\n            const [key, type] = this._fields[i];\n            if (key !== `_${i}_`) {\n                return null;\n            }\n            res.push(type);\n        }\n        return res;\n    }\n    covariant(x) {\n        if (typeof x === 'object' &&\n            this._fields.every(([k, t]) => {\n                // eslint-disable-next-line\n                if (!x.hasOwnProperty(k)) {\n                    throw new Error(`Record is missing key \"${k}\".`);\n                }\n                try {\n                    return t.covariant(x[k]);\n                }\n                catch (e) {\n                    throw new Error(`Invalid ${this.display()} argument: \\n\\nfield ${k} -> ${e.message}`);\n                }\n            }))\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const values = this._fields.map(([key]) => x[key]);\n        const bufs = zipWith(this._fields, values, ([, c], d) => c.encodeValue(d));\n        return concat(...bufs);\n    }\n    _buildTypeTableImpl(T) {\n        this._fields.forEach(([_, value]) => value.buildTypeTable(T));\n        const opCode = slebEncode(-20 /* IDLTypeIds.Record */);\n        const len = lebEncode(this._fields.length);\n        const fields = this._fields.map(([key, value]) => concat(lebEncode(idlLabelToId(key)), value.encodeType(T)));\n        T.add(this, concat(opCode, len, concat(...fields)));\n    }\n    decodeValue(b, t) {\n        const record = this.checkType(t);\n        if (!(record instanceof RecordClass)) {\n            throw new Error('Not a record type');\n        }\n        const x = {};\n        let expectedRecordIdx = 0;\n        let actualRecordIdx = 0;\n        while (actualRecordIdx < record._fields.length) {\n            const [hash, type] = record._fields[actualRecordIdx];\n            if (expectedRecordIdx >= this._fields.length) {\n                // skip unexpected left over fields present on the wire\n                type.decodeValue(b, type);\n                actualRecordIdx++;\n                continue;\n            }\n            const [expectKey, expectType] = this._fields[expectedRecordIdx];\n            const expectedId = idlLabelToId(this._fields[expectedRecordIdx][0]);\n            const actualId = idlLabelToId(hash);\n            if (expectedId === actualId) {\n                // the current field on the wire matches the expected field\n                x[expectKey] = expectType.decodeValue(b, type);\n                expectedRecordIdx++;\n                actualRecordIdx++;\n            }\n            else if (actualId > expectedId) {\n                // The expected field does not exist on the wire\n                if (expectType instanceof OptClass || expectType instanceof ReservedClass) {\n                    x[expectKey] = [];\n                    expectedRecordIdx++;\n                }\n                else {\n                    throw new Error('Cannot find required field ' + expectKey);\n                }\n            }\n            else {\n                // The field on the wire does not exist in the output type, so we can skip it\n                type.decodeValue(b, type);\n                actualRecordIdx++;\n            }\n        }\n        // initialize left over expected optional fields\n        for (const [expectKey, expectType] of this._fields.slice(expectedRecordIdx)) {\n            if (expectType instanceof OptClass || expectType instanceof ReservedClass) {\n                // TODO this assumes null value in opt is represented as []\n                x[expectKey] = [];\n            }\n            else {\n                throw new Error('Cannot find required field ' + expectKey);\n            }\n        }\n        return x;\n    }\n    get name() {\n        const fields = this._fields.map(([key, value]) => key + ':' + value.name);\n        return `record {${fields.join('; ')}}`;\n    }\n    display() {\n        const fields = this._fields.map(([key, value]) => key + ':' + value.display());\n        return `record {${fields.join('; ')}}`;\n    }\n    valueToString(x) {\n        const values = this._fields.map(([key]) => x[key]);\n        const fields = zipWith(this._fields, values, ([k, c], d) => k + '=' + c.valueToString(d));\n        return `record {${fields.join('; ')}}`;\n    }\n}\n/**\n * Represents Tuple, a syntactic sugar for Record.\n * @param {Type} components\n */\nexport class TupleClass extends RecordClass {\n    constructor(_components) {\n        const x = {};\n        _components.forEach((e, i) => (x['_' + i + '_'] = e));\n        super(x);\n        this._components = _components;\n    }\n    accept(v, d) {\n        return v.visitTuple(this, this._components, d);\n    }\n    covariant(x) {\n        // `>=` because tuples can be covariant when encoded.\n        if (Array.isArray(x) &&\n            x.length >= this._fields.length &&\n            this._components.every((t, i) => {\n                try {\n                    return t.covariant(x[i]);\n                }\n                catch (e) {\n                    throw new Error(`Invalid ${this.display()} argument: \\n\\nindex ${i} -> ${e.message}`);\n                }\n            }))\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const bufs = zipWith(this._components, x, (c, d) => c.encodeValue(d));\n        return concat(...bufs);\n    }\n    decodeValue(b, t) {\n        const tuple = this.checkType(t);\n        if (!(tuple instanceof TupleClass)) {\n            throw new Error('not a tuple type');\n        }\n        if (tuple._components.length < this._components.length) {\n            throw new Error('tuple mismatch');\n        }\n        const res = [];\n        for (const [i, wireType] of tuple._components.entries()) {\n            if (i >= this._components.length) {\n                // skip value\n                wireType.decodeValue(b, wireType);\n            }\n            else {\n                res.push(this._components[i].decodeValue(b, wireType));\n            }\n        }\n        return res;\n    }\n    display() {\n        const fields = this._components.map(value => value.display());\n        return `record {${fields.join('; ')}}`;\n    }\n    valueToString(values) {\n        const fields = zipWith(this._components, values, (c, d) => c.valueToString(d));\n        return `record {${fields.join('; ')}}`;\n    }\n}\n/**\n * Represents an IDL Variant\n * @param {object} [fields] - mapping of function name to Type\n */\nexport class VariantClass extends ConstructType {\n    constructor(fields = {}) {\n        super();\n        this._fields = Object.entries(fields).sort((a, b) => idlLabelToId(a[0]) - idlLabelToId(b[0]));\n    }\n    accept(v, d) {\n        return v.visitVariant(this, this._fields, d);\n    }\n    covariant(x) {\n        if (typeof x === 'object' &&\n            Object.entries(x).length === 1 &&\n            this._fields.every(([k, v]) => {\n                try {\n                    // eslint-disable-next-line\n                    return !x.hasOwnProperty(k) || v.covariant(x[k]);\n                }\n                catch (e) {\n                    throw new Error(`Invalid ${this.display()} argument: \\n\\nvariant ${k} -> ${e.message}`);\n                }\n            }))\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        for (let i = 0; i < this._fields.length; i++) {\n            const [name, type] = this._fields[i];\n            // eslint-disable-next-line\n            if (x.hasOwnProperty(name)) {\n                const idx = lebEncode(i);\n                const buf = type.encodeValue(x[name]);\n                return concat(idx, buf);\n            }\n        }\n        throw Error('Variant has no data: ' + x);\n    }\n    _buildTypeTableImpl(typeTable) {\n        this._fields.forEach(([, type]) => {\n            type.buildTypeTable(typeTable);\n        });\n        const opCode = slebEncode(-21 /* IDLTypeIds.Variant */);\n        const len = lebEncode(this._fields.length);\n        const fields = this._fields.map(([key, value]) => concat(lebEncode(idlLabelToId(key)), value.encodeType(typeTable)));\n        typeTable.add(this, concat(opCode, len, ...fields));\n    }\n    decodeValue(b, t) {\n        const variant = this.checkType(t);\n        if (!(variant instanceof VariantClass)) {\n            throw new Error('Not a variant type');\n        }\n        const idx = Number(lebDecode(b));\n        if (idx >= variant._fields.length) {\n            throw Error('Invalid variant index: ' + idx);\n        }\n        const [wireHash, wireType] = variant._fields[idx];\n        for (const [key, expectType] of this._fields) {\n            if (idlLabelToId(wireHash) === idlLabelToId(key)) {\n                const value = expectType.decodeValue(b, wireType);\n                return { [key]: value };\n            }\n        }\n        throw new Error('Cannot find field hash ' + wireHash);\n    }\n    get name() {\n        const fields = this._fields.map(([key, type]) => key + ':' + type.name);\n        return `variant {${fields.join('; ')}}`;\n    }\n    display() {\n        const fields = this._fields.map(([key, type]) => key + (type.name === 'null' ? '' : `:${type.display()}`));\n        return `variant {${fields.join('; ')}}`;\n    }\n    valueToString(x) {\n        for (const [name, type] of this._fields) {\n            // eslint-disable-next-line\n            if (x.hasOwnProperty(name)) {\n                const value = type.valueToString(x[name]);\n                if (value === 'null') {\n                    return `variant {${name}}`;\n                }\n                else {\n                    return `variant {${name}=${value}}`;\n                }\n            }\n        }\n        throw new Error('Variant has no data: ' + x);\n    }\n}\n/**\n * Represents a reference to an IDL type, used for defining recursive data\n * types.\n */\nexport class RecClass extends ConstructType {\n    constructor() {\n        super(...arguments);\n        this._id = RecClass._counter++;\n        this._type = undefined;\n    }\n    accept(v, d) {\n        if (!this._type) {\n            throw Error('Recursive type uninitialized.');\n        }\n        return v.visitRec(this, this._type, d);\n    }\n    fill(t) {\n        this._type = t;\n    }\n    getType() {\n        return this._type;\n    }\n    covariant(x) {\n        if (this._type ? this._type.covariant(x) : false)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        if (!this._type) {\n            throw Error('Recursive type uninitialized.');\n        }\n        return this._type.encodeValue(x);\n    }\n    _buildTypeTableImpl(typeTable) {\n        if (!this._type) {\n            throw Error('Recursive type uninitialized.');\n        }\n        typeTable.add(this, new Uint8Array([]));\n        this._type.buildTypeTable(typeTable);\n        typeTable.merge(this, this._type.name);\n    }\n    decodeValue(b, t) {\n        if (!this._type) {\n            throw Error('Recursive type uninitialized.');\n        }\n        return this._type.decodeValue(b, t);\n    }\n    get name() {\n        return `rec_${this._id}`;\n    }\n    display() {\n        if (!this._type) {\n            throw Error('Recursive type uninitialized.');\n        }\n        return `μ${this.name}.${this._type.name}`;\n    }\n    valueToString(x) {\n        if (!this._type) {\n            throw Error('Recursive type uninitialized.');\n        }\n        return this._type.valueToString(x);\n    }\n}\nRecClass._counter = 0;\nfunction decodePrincipalId(b) {\n    const x = safeReadUint8(b);\n    if (x !== 1) {\n        throw new Error('Cannot decode principal');\n    }\n    const len = Number(lebDecode(b));\n    return PrincipalId.fromUint8Array(new Uint8Array(safeRead(b, len)));\n}\n/**\n * Represents an IDL principal reference\n */\nexport class PrincipalClass extends PrimitiveType {\n    accept(v, d) {\n        return v.visitPrincipal(this, d);\n    }\n    covariant(x) {\n        if (x && x._isPrincipal)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const buf = x.toUint8Array();\n        const len = lebEncode(buf.byteLength);\n        return concat(new Uint8Array([1]), len, buf);\n    }\n    encodeType() {\n        return slebEncode(-24 /* IDLTypeIds.Principal */);\n    }\n    decodeValue(b, t) {\n        this.checkType(t);\n        return decodePrincipalId(b);\n    }\n    get name() {\n        return 'principal';\n    }\n    valueToString(x) {\n        return `${this.name} \"${x.toText()}\"`;\n    }\n}\n/**\n * Represents an IDL function reference.\n * @param argTypes Argument types.\n * @param retTypes Return types.\n * @param annotations Function annotations.\n */\nexport class FuncClass extends ConstructType {\n    constructor(argTypes, retTypes, annotations = []) {\n        super();\n        this.argTypes = argTypes;\n        this.retTypes = retTypes;\n        this.annotations = annotations;\n    }\n    static argsToString(types, v) {\n        if (types.length !== v.length) {\n            throw new Error('arity mismatch');\n        }\n        return '(' + types.map((t, i) => t.valueToString(v[i])).join(', ') + ')';\n    }\n    accept(v, d) {\n        return v.visitFunc(this, d);\n    }\n    covariant(x) {\n        if (Array.isArray(x) && x.length === 2 && x[0] && x[0]._isPrincipal && typeof x[1] === 'string')\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue([principal, methodName]) {\n        const buf = principal.toUint8Array();\n        const len = lebEncode(buf.byteLength);\n        const canister = concat(new Uint8Array([1]), len, buf);\n        const method = new TextEncoder().encode(methodName);\n        const methodLen = lebEncode(method.byteLength);\n        return concat(new Uint8Array([1]), canister, methodLen, method);\n    }\n    _buildTypeTableImpl(T) {\n        this.argTypes.forEach(arg => arg.buildTypeTable(T));\n        this.retTypes.forEach(arg => arg.buildTypeTable(T));\n        const opCode = slebEncode(-22 /* IDLTypeIds.Func */);\n        const argLen = lebEncode(this.argTypes.length);\n        const args = concat(...this.argTypes.map(arg => arg.encodeType(T)));\n        const retLen = lebEncode(this.retTypes.length);\n        const rets = concat(...this.retTypes.map(arg => arg.encodeType(T)));\n        const annLen = lebEncode(this.annotations.length);\n        const anns = concat(...this.annotations.map(a => this.encodeAnnotation(a)));\n        T.add(this, concat(opCode, argLen, args, retLen, rets, annLen, anns));\n    }\n    decodeValue(b) {\n        const x = safeReadUint8(b);\n        if (x !== 1) {\n            throw new Error('Cannot decode function reference');\n        }\n        const canister = decodePrincipalId(b);\n        const mLen = Number(lebDecode(b));\n        const buf = safeRead(b, mLen);\n        const decoder = new TextDecoder('utf8', { fatal: true });\n        const method = decoder.decode(buf);\n        return [canister, method];\n    }\n    get name() {\n        const args = this.argTypes.map(arg => arg.name).join(', ');\n        const rets = this.retTypes.map(arg => arg.name).join(', ');\n        const annon = ' ' + this.annotations.join(' ');\n        return `(${args}) -> (${rets})${annon}`;\n    }\n    valueToString([principal, str]) {\n        return `func \"${principal.toText()}\".${str}`;\n    }\n    display() {\n        const args = this.argTypes.map(arg => arg.display()).join(', ');\n        const rets = this.retTypes.map(arg => arg.display()).join(', ');\n        const annon = ' ' + this.annotations.join(' ');\n        return `(${args}) → (${rets})${annon}`;\n    }\n    encodeAnnotation(ann) {\n        if (ann === 'query') {\n            return new Uint8Array([1]);\n        }\n        else if (ann === 'oneway') {\n            return new Uint8Array([2]);\n        }\n        else if (ann === 'composite_query') {\n            return new Uint8Array([3]);\n        }\n        else {\n            throw new Error('Illegal function annotation');\n        }\n    }\n}\nexport class ServiceClass extends ConstructType {\n    constructor(fields) {\n        super();\n        this._fields = Object.entries(fields).sort((a, b) => {\n            if (a[0] < b[0]) {\n                return -1;\n            }\n            if (a[0] > b[0]) {\n                return 1;\n            }\n            return 0;\n        });\n    }\n    accept(v, d) {\n        return v.visitService(this, d);\n    }\n    covariant(x) {\n        if (x && x._isPrincipal)\n            return true;\n        throw new Error(`Invalid ${this.display()} argument: ${toReadableString(x)}`);\n    }\n    encodeValue(x) {\n        const buf = x.toUint8Array();\n        const len = lebEncode(buf.length);\n        return concat(new Uint8Array([1]), len, buf);\n    }\n    _buildTypeTableImpl(T) {\n        this._fields.forEach(([_, func]) => func.buildTypeTable(T));\n        const opCode = slebEncode(-23 /* IDLTypeIds.Service */);\n        const len = lebEncode(this._fields.length);\n        const meths = this._fields.map(([label, func]) => {\n            const labelBuf = new TextEncoder().encode(label);\n            const labelLen = lebEncode(labelBuf.length);\n            return concat(labelLen, labelBuf, func.encodeType(T));\n        });\n        T.add(this, concat(opCode, len, ...meths));\n    }\n    decodeValue(b) {\n        return decodePrincipalId(b);\n    }\n    get name() {\n        const fields = this._fields.map(([key, value]) => key + ':' + value.name);\n        return `service {${fields.join('; ')}}`;\n    }\n    valueToString(x) {\n        return `service \"${x.toText()}\"`;\n    }\n}\n/**\n *\n * @param x\n * @returns {string}\n */\nfunction toReadableString(x) {\n    const str = JSON.stringify(x, (_key, value) => typeof value === 'bigint' ? `BigInt(${value})` : value);\n    return str && str.length > toReadableString_max\n        ? str.substring(0, toReadableString_max - 3) + '...'\n        : str;\n}\n/**\n * Encode a array of values\n * @param argTypes\n * @param args\n * @returns {Buffer} serialised value\n */\nexport function encode(argTypes, args) {\n    if (args.length < argTypes.length) {\n        throw Error('Wrong number of message arguments');\n    }\n    const typeTable = new TypeTable();\n    argTypes.forEach(t => t.buildTypeTable(typeTable));\n    const magic = new TextEncoder().encode(magicNumber);\n    const table = typeTable.encode();\n    const len = lebEncode(args.length);\n    const typs = concat(...argTypes.map(t => t.encodeType(typeTable)));\n    const vals = concat(...zipWith(argTypes, args, (t, x) => {\n        try {\n            t.covariant(x);\n        }\n        catch (e) {\n            const err = new Error(e.message + '\\n\\n');\n            throw err;\n        }\n        return t.encodeValue(x);\n    }));\n    return concat(magic, table, len, typs, vals);\n}\n/**\n * Decode a binary value\n * @param retTypes - Types expected in the buffer.\n * @param bytes - hex-encoded string, or buffer.\n * @returns Value deserialised to JS type\n */\nexport function decode(retTypes, bytes) {\n    const b = new Pipe(bytes);\n    if (bytes.byteLength < magicNumber.length) {\n        throw new Error('Message length smaller than magic number');\n    }\n    const magicBuffer = safeRead(b, magicNumber.length);\n    const magic = new TextDecoder().decode(magicBuffer);\n    if (magic !== magicNumber) {\n        throw new Error('Wrong magic number: ' + JSON.stringify(magic));\n    }\n    function readTypeTable(pipe) {\n        const typeTable = [];\n        const len = Number(lebDecode(pipe));\n        for (let i = 0; i < len; i++) {\n            const ty = Number(slebDecode(pipe));\n            switch (ty) {\n                case -18 /* IDLTypeIds.Opt */:\n                case -19 /* IDLTypeIds.Vector */: {\n                    const t = Number(slebDecode(pipe));\n                    typeTable.push([ty, t]);\n                    break;\n                }\n                case -20 /* IDLTypeIds.Record */:\n                case -21 /* IDLTypeIds.Variant */: {\n                    const fields = [];\n                    let objectLength = Number(lebDecode(pipe));\n                    let prevHash;\n                    while (objectLength--) {\n                        const hash = Number(lebDecode(pipe));\n                        if (hash >= Math.pow(2, 32)) {\n                            throw new Error('field id out of 32-bit range');\n                        }\n                        if (typeof prevHash === 'number' && prevHash >= hash) {\n                            throw new Error('field id collision or not sorted');\n                        }\n                        prevHash = hash;\n                        const t = Number(slebDecode(pipe));\n                        fields.push([hash, t]);\n                    }\n                    typeTable.push([ty, fields]);\n                    break;\n                }\n                case -22 /* IDLTypeIds.Func */: {\n                    const args = [];\n                    let argLength = Number(lebDecode(pipe));\n                    while (argLength--) {\n                        args.push(Number(slebDecode(pipe)));\n                    }\n                    const returnValues = [];\n                    let returnValuesLength = Number(lebDecode(pipe));\n                    while (returnValuesLength--) {\n                        returnValues.push(Number(slebDecode(pipe)));\n                    }\n                    const annotations = [];\n                    let annotationLength = Number(lebDecode(pipe));\n                    while (annotationLength--) {\n                        const annotation = Number(lebDecode(pipe));\n                        switch (annotation) {\n                            case 1: {\n                                annotations.push('query');\n                                break;\n                            }\n                            case 2: {\n                                annotations.push('oneway');\n                                break;\n                            }\n                            case 3: {\n                                annotations.push('composite_query');\n                                break;\n                            }\n                            default:\n                                throw new Error('unknown annotation');\n                        }\n                    }\n                    typeTable.push([ty, [args, returnValues, annotations]]);\n                    break;\n                }\n                case -23 /* IDLTypeIds.Service */: {\n                    let servLength = Number(lebDecode(pipe));\n                    const methods = [];\n                    while (servLength--) {\n                        const nameLength = Number(lebDecode(pipe));\n                        const funcName = new TextDecoder().decode(safeRead(pipe, nameLength));\n                        const funcType = slebDecode(pipe);\n                        methods.push([funcName, funcType]);\n                    }\n                    typeTable.push([ty, methods]);\n                    break;\n                }\n                default:\n                    throw new Error('Illegal op_code: ' + ty);\n            }\n        }\n        const rawList = [];\n        const length = Number(lebDecode(pipe));\n        for (let i = 0; i < length; i++) {\n            rawList.push(Number(slebDecode(pipe)));\n        }\n        return [typeTable, rawList];\n    }\n    const [rawTable, rawTypes] = readTypeTable(b);\n    if (rawTypes.length < retTypes.length) {\n        throw new Error('Wrong number of return values');\n    }\n    const table = rawTable.map(_ => Rec());\n    function getType(t) {\n        if (t < -24) {\n            throw new Error('future value not supported');\n        }\n        if (t < 0) {\n            switch (t) {\n                case -1:\n                    return Null;\n                case -2:\n                    return Bool;\n                case -3:\n                    return Nat;\n                case -4:\n                    return Int;\n                case -5:\n                    return Nat8;\n                case -6:\n                    return Nat16;\n                case -7:\n                    return Nat32;\n                case -8:\n                    return Nat64;\n                case -9:\n                    return Int8;\n                case -10:\n                    return Int16;\n                case -11:\n                    return Int32;\n                case -12:\n                    return Int64;\n                case -13:\n                    return Float32;\n                case -14:\n                    return Float64;\n                case -15:\n                    return Text;\n                case -16:\n                    return Reserved;\n                case -17:\n                    return Empty;\n                case -24:\n                    return Principal;\n                default:\n                    throw new Error('Illegal op_code: ' + t);\n            }\n        }\n        if (t >= rawTable.length) {\n            throw new Error('type index out of range');\n        }\n        return table[t];\n    }\n    function buildType(entry) {\n        switch (entry[0]) {\n            case -19 /* IDLTypeIds.Vector */: {\n                const ty = getType(entry[1]);\n                return Vec(ty);\n            }\n            case -18 /* IDLTypeIds.Opt */: {\n                const ty = getType(entry[1]);\n                return Opt(ty);\n            }\n            case -20 /* IDLTypeIds.Record */: {\n                const fields = {};\n                for (const [hash, ty] of entry[1]) {\n                    const name = `_${hash}_`;\n                    fields[name] = getType(ty);\n                }\n                const record = Record(fields);\n                const tuple = record.tryAsTuple();\n                if (Array.isArray(tuple)) {\n                    return Tuple(...tuple);\n                }\n                else {\n                    return record;\n                }\n            }\n            case -21 /* IDLTypeIds.Variant */: {\n                const fields = {};\n                for (const [hash, ty] of entry[1]) {\n                    const name = `_${hash}_`;\n                    fields[name] = getType(ty);\n                }\n                return Variant(fields);\n            }\n            case -22 /* IDLTypeIds.Func */: {\n                const [args, returnValues, annotations] = entry[1];\n                return Func(args.map((t) => getType(t)), returnValues.map((t) => getType(t)), annotations);\n            }\n            case -23 /* IDLTypeIds.Service */: {\n                const rec = {};\n                const methods = entry[1];\n                for (const [name, typeRef] of methods) {\n                    let type = getType(typeRef);\n                    if (type instanceof RecClass) {\n                        // unpack reference type\n                        type = type.getType();\n                    }\n                    if (!(type instanceof FuncClass)) {\n                        throw new Error('Illegal service definition: services can only contain functions');\n                    }\n                    rec[name] = type;\n                }\n                return Service(rec);\n            }\n            default:\n                throw new Error('Illegal op_code: ' + entry[0]);\n        }\n    }\n    rawTable.forEach((entry, i) => {\n        // Process function type first, so that we can construct the correct service type\n        if (entry[0] === -22 /* IDLTypeIds.Func */) {\n            const t = buildType(entry);\n            table[i].fill(t);\n        }\n    });\n    rawTable.forEach((entry, i) => {\n        if (entry[0] !== -22 /* IDLTypeIds.Func */) {\n            const t = buildType(entry);\n            table[i].fill(t);\n        }\n    });\n    const types = rawTypes.map(t => getType(t));\n    const output = retTypes.map((t, i) => {\n        return t.decodeValue(b, types[i]);\n    });\n    // skip unused values\n    for (let ind = retTypes.length; ind < types.length; ind++) {\n        types[ind].decodeValue(b, types[ind]);\n    }\n    if (b.byteLength > 0) {\n        throw new Error('decode: Left-over bytes');\n    }\n    return output;\n}\n// Export Types instances.\nexport const Empty = new EmptyClass();\nexport const Reserved = new ReservedClass();\n/**\n * Client-only type for deserializing unknown data. Not supported by Candid, and its use is discouraged.\n */\nexport const Unknown = new UnknownClass();\nexport const Bool = new BoolClass();\nexport const Null = new NullClass();\nexport const Text = new TextClass();\nexport const Int = new IntClass();\nexport const Nat = new NatClass();\nexport const Float32 = new FloatClass(32);\nexport const Float64 = new FloatClass(64);\nexport const Int8 = new FixedIntClass(8);\nexport const Int16 = new FixedIntClass(16);\nexport const Int32 = new FixedIntClass(32);\nexport const Int64 = new FixedIntClass(64);\nexport const Nat8 = new FixedNatClass(8);\nexport const Nat16 = new FixedNatClass(16);\nexport const Nat32 = new FixedNatClass(32);\nexport const Nat64 = new FixedNatClass(64);\nexport const Principal = new PrincipalClass();\n/**\n *\n * @param types array of any types\n * @returns TupleClass from those types\n */\nexport function Tuple(...types) {\n    return new TupleClass(types);\n}\n/**\n *\n * @param t IDL Type\n * @returns VecClass from that type\n */\nexport function Vec(t) {\n    return new VecClass(t);\n}\n/**\n *\n * @param t IDL Type\n * @returns OptClass of Type\n */\nexport function Opt(t) {\n    return new OptClass(t);\n}\n/**\n *\n * @param t Record of string and IDL Type\n * @returns RecordClass of string and Type\n */\nexport function Record(t) {\n    return new RecordClass(t);\n}\n/**\n *\n * @param fields Record of string and IDL Type\n * @returns VariantClass\n */\nexport function Variant(fields) {\n    return new VariantClass(fields);\n}\n/**\n *\n * @returns new RecClass\n */\nexport function Rec() {\n    return new RecClass();\n}\n/**\n *\n * @param args array of IDL Types\n * @param ret array of IDL Types\n * @param annotations array of strings, [] by default\n * @returns new FuncClass\n */\nexport function Func(args, ret, annotations = []) {\n    return new FuncClass(args, ret, annotations);\n}\n/**\n *\n * @param t Record of string and FuncClass\n * @returns ServiceClass\n */\nexport function Service(t) {\n    return new ServiceClass(t);\n}\n//# sourceMappingURL=idl.js.map","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n",";(function (globalObject) {\r\n  'use strict';\r\n\r\n/*\r\n *      bignumber.js v9.1.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\n  var BigNumber,\r\n    isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n    mathceil = Math.ceil,\r\n    mathfloor = Math.floor,\r\n\r\n    bignumberError = '[BigNumber Error] ',\r\n    tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n    BASE = 1e14,\r\n    LOG_BASE = 14,\r\n    MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n    // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n    POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n    SQRT_BASE = 1e7,\r\n\r\n    // EDITABLE\r\n    // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n    // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n    MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n  /*\r\n   * Create and return a BigNumber constructor.\r\n   */\r\n  function clone(configObject) {\r\n    var div, convertBase, parseNumeric,\r\n      P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n      ONE = new BigNumber(1),\r\n\r\n\r\n      //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n      // The default values below must be integers within the inclusive ranges stated.\r\n      // The values can also be changed at run-time using BigNumber.set.\r\n\r\n      // The maximum number of decimal places for operations involving division.\r\n      DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n      // The rounding mode used when rounding to the above decimal places, and when using\r\n      // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n      // UP         0 Away from zero.\r\n      // DOWN       1 Towards zero.\r\n      // CEIL       2 Towards +Infinity.\r\n      // FLOOR      3 Towards -Infinity.\r\n      // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n      // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n      // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n      // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n      // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n      ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n      // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n      // The exponent value at and beneath which toString returns exponential notation.\r\n      // Number type: -7\r\n      TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n      // The exponent value at and above which toString returns exponential notation.\r\n      // Number type: 21\r\n      TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n      // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n      // The minimum exponent value, beneath which underflow to zero occurs.\r\n      // Number type: -324  (5e-324)\r\n      MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n      // The maximum exponent value, above which overflow to Infinity occurs.\r\n      // Number type:  308  (1.7976931348623157e+308)\r\n      // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n      MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n      // Whether to use cryptographically-secure random number generation, if available.\r\n      CRYPTO = false,                          // true or false\r\n\r\n      // The modulo mode used when calculating the modulus: a mod n.\r\n      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n      // The remainder (r) is calculated as: r = a - n * q.\r\n      //\r\n      // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n      // DOWN      1 The remainder has the same sign as the dividend.\r\n      //             This modulo mode is commonly known as 'truncated division' and is\r\n      //             equivalent to (a % n) in JavaScript.\r\n      // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n      // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n      // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n      //             The remainder is always positive.\r\n      //\r\n      // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n      // modes are commonly used for the modulus operation.\r\n      // Although the other rounding modes can also be used, they may not give useful results.\r\n      MODULO_MODE = 1,                         // 0 to 9\r\n\r\n      // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n      // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n      POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n      // The format specification used by the BigNumber.prototype.toFormat method.\r\n      FORMAT = {\r\n        prefix: '',\r\n        groupSize: 3,\r\n        secondaryGroupSize: 0,\r\n        groupSeparator: ',',\r\n        decimalSeparator: '.',\r\n        fractionGroupSize: 0,\r\n        fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n        suffix: ''\r\n      },\r\n\r\n      // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n      // '-', '.', whitespace, or repeated character.\r\n      // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n      ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n      alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n    //------------------------------------------------------------------------------------------\r\n\r\n\r\n    // CONSTRUCTOR\r\n\r\n\r\n    /*\r\n     * The BigNumber constructor and exported function.\r\n     * Create and return a new instance of a BigNumber object.\r\n     *\r\n     * v {number|string|BigNumber} A numeric value.\r\n     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n     */\r\n    function BigNumber(v, b) {\r\n      var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n        x = this;\r\n\r\n      // Enable constructor call without `new`.\r\n      if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n      if (b == null) {\r\n\r\n        if (v && v._isBigNumber === true) {\r\n          x.s = v.s;\r\n\r\n          if (!v.c || v.e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else if (v.e < MIN_EXP) {\r\n            x.c = [x.e = 0];\r\n          } else {\r\n            x.e = v.e;\r\n            x.c = v.c.slice();\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n          // Use `1 / n` to handle minus zero also.\r\n          x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n          // Fast path for integers, where n < 2147483648 (2**31).\r\n          if (v === ~~v) {\r\n            for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n            if (e > MAX_EXP) {\r\n              x.c = x.e = null;\r\n            } else {\r\n              x.e = e;\r\n              x.c = [v];\r\n            }\r\n\r\n            return;\r\n          }\r\n\r\n          str = String(v);\r\n        } else {\r\n\r\n          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n        // Exponential form?\r\n        if ((i = str.search(/e/i)) > 0) {\r\n\r\n          // Determine exponent.\r\n          if (e < 0) e = i;\r\n          e += +str.slice(i + 1);\r\n          str = str.substring(0, i);\r\n        } else if (e < 0) {\r\n\r\n          // Integer.\r\n          e = str.length;\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n        // Allow exponential notation to be used with base 10 argument, while\r\n        // also rounding to DECIMAL_PLACES as with other bases.\r\n        if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n          x = new BigNumber(v);\r\n          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n        }\r\n\r\n        str = String(v);\r\n\r\n        if (isNum = typeof v == 'number') {\r\n\r\n          // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n          if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n            throw Error\r\n             (tooManyDigits + v);\r\n          }\r\n        } else {\r\n          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        alphabet = ALPHABET.slice(0, b);\r\n        e = i = 0;\r\n\r\n        // Check that str is a valid base b number.\r\n        // Don't use RegExp, so alphabet can contain special characters.\r\n        for (len = str.length; i < len; i++) {\r\n          if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n            if (c == '.') {\r\n\r\n              // If '.' is not the first character and it has not be found before.\r\n              if (i > e) {\r\n                e = len;\r\n                continue;\r\n              }\r\n            } else if (!caseChanged) {\r\n\r\n              // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n              if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                  str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n                caseChanged = true;\r\n                i = -1;\r\n                e = 0;\r\n                continue;\r\n              }\r\n            }\r\n\r\n            return parseNumeric(x, String(v), isNum, b);\r\n          }\r\n        }\r\n\r\n        // Prevent later check for length on converted number.\r\n        isNum = false;\r\n        str = convertBase(str, b, 10, x.s);\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n        else e = str.length;\r\n      }\r\n\r\n      // Determine leading zeros.\r\n      for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n      // Determine trailing zeros.\r\n      for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n      if (str = str.slice(i, ++len)) {\r\n        len -= i;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (isNum && BigNumber.DEBUG &&\r\n          len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n            throw Error\r\n             (tooManyDigits + (x.s * v));\r\n        }\r\n\r\n         // Overflow?\r\n        if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n          // Infinity.\r\n          x.c = x.e = null;\r\n\r\n        // Underflow?\r\n        } else if (e < MIN_EXP) {\r\n\r\n          // Zero.\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = e;\r\n          x.c = [];\r\n\r\n          // Transform base\r\n\r\n          // e is the base 10 exponent.\r\n          // i is where to slice str to get the first element of the coefficient array.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n          if (i < len) {\r\n            if (i) x.c.push(+str.slice(0, i));\r\n\r\n            for (len -= LOG_BASE; i < len;) {\r\n              x.c.push(+str.slice(i, i += LOG_BASE));\r\n            }\r\n\r\n            i = LOG_BASE - (str = str.slice(i)).length;\r\n          } else {\r\n            i -= len;\r\n          }\r\n\r\n          for (; i--; str += '0');\r\n          x.c.push(+str);\r\n        }\r\n      } else {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n\r\n    // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n    BigNumber.clone = clone;\r\n\r\n    BigNumber.ROUND_UP = 0;\r\n    BigNumber.ROUND_DOWN = 1;\r\n    BigNumber.ROUND_CEIL = 2;\r\n    BigNumber.ROUND_FLOOR = 3;\r\n    BigNumber.ROUND_HALF_UP = 4;\r\n    BigNumber.ROUND_HALF_DOWN = 5;\r\n    BigNumber.ROUND_HALF_EVEN = 6;\r\n    BigNumber.ROUND_HALF_CEIL = 7;\r\n    BigNumber.ROUND_HALF_FLOOR = 8;\r\n    BigNumber.EUCLID = 9;\r\n\r\n\r\n    /*\r\n     * Configure infrequently-changing library-wide settings.\r\n     *\r\n     * Accept an object with the following optional properties (if the value of a property is\r\n     * a number, it must be an integer within the inclusive range stated):\r\n     *\r\n     *   DECIMAL_PLACES   {number}           0 to MAX\r\n     *   ROUNDING_MODE    {number}           0 to 8\r\n     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n     *   CRYPTO           {boolean}          true or false\r\n     *   MODULO_MODE      {number}           0 to 9\r\n     *   POW_PRECISION       {number}           0 to MAX\r\n     *   ALPHABET         {string}           A string of two or more unique characters which does\r\n     *                                       not contain '.'.\r\n     *   FORMAT           {object}           An object with some of the following properties:\r\n     *     prefix                 {string}\r\n     *     groupSize              {number}\r\n     *     secondaryGroupSize     {number}\r\n     *     groupSeparator         {string}\r\n     *     decimalSeparator       {string}\r\n     *     fractionGroupSize      {number}\r\n     *     fractionGroupSeparator {string}\r\n     *     suffix                 {string}\r\n     *\r\n     * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n     *\r\n     * E.g.\r\n     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n     *\r\n     * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n     *\r\n     * Return an object with the properties current values.\r\n     */\r\n    BigNumber.config = BigNumber.set = function (obj) {\r\n      var p, v;\r\n\r\n      if (obj != null) {\r\n\r\n        if (typeof obj == 'object') {\r\n\r\n          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            DECIMAL_PLACES = v;\r\n          }\r\n\r\n          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 8, p);\r\n            ROUNDING_MODE = v;\r\n          }\r\n\r\n          // EXPONENTIAL_AT {number|number[]}\r\n          // Integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, 0, p);\r\n              intCheck(v[1], 0, MAX, p);\r\n              TO_EXP_NEG = v[0];\r\n              TO_EXP_POS = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n            }\r\n          }\r\n\r\n          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n          if (obj.hasOwnProperty(p = 'RANGE')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, -1, p);\r\n              intCheck(v[1], 1, MAX, p);\r\n              MIN_EXP = v[0];\r\n              MAX_EXP = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              if (v) {\r\n                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n              } else {\r\n                throw Error\r\n                 (bignumberError + p + ' cannot be zero: ' + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // CRYPTO {boolean} true or false.\r\n          // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n          // '[BigNumber Error] crypto unavailable'\r\n          if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n            v = obj[p];\r\n            if (v === !!v) {\r\n              if (v) {\r\n                if (typeof crypto != 'undefined' && crypto &&\r\n                 (crypto.getRandomValues || crypto.randomBytes)) {\r\n                  CRYPTO = v;\r\n                } else {\r\n                  CRYPTO = !v;\r\n                  throw Error\r\n                   (bignumberError + 'crypto unavailable');\r\n                }\r\n              } else {\r\n                CRYPTO = v;\r\n              }\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' not true or false: ' + v);\r\n            }\r\n          }\r\n\r\n          // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 9, p);\r\n            MODULO_MODE = v;\r\n          }\r\n\r\n          // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            POW_PRECISION = v;\r\n          }\r\n\r\n          // FORMAT {object}\r\n          // '[BigNumber Error] FORMAT not an object: {v}'\r\n          if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n            v = obj[p];\r\n            if (typeof v == 'object') FORMAT = v;\r\n            else throw Error\r\n             (bignumberError + p + ' not an object: ' + v);\r\n          }\r\n\r\n          // ALPHABET {string}\r\n          // '[BigNumber Error] ALPHABET invalid: {v}'\r\n          if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n            v = obj[p];\r\n\r\n            // Disallow if less than two characters,\r\n            // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n            if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n              alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n              ALPHABET = v;\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' invalid: ' + v);\r\n            }\r\n          }\r\n\r\n        } else {\r\n\r\n          // '[BigNumber Error] Object expected: {v}'\r\n          throw Error\r\n           (bignumberError + 'Object expected: ' + obj);\r\n        }\r\n      }\r\n\r\n      return {\r\n        DECIMAL_PLACES: DECIMAL_PLACES,\r\n        ROUNDING_MODE: ROUNDING_MODE,\r\n        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n        RANGE: [MIN_EXP, MAX_EXP],\r\n        CRYPTO: CRYPTO,\r\n        MODULO_MODE: MODULO_MODE,\r\n        POW_PRECISION: POW_PRECISION,\r\n        FORMAT: FORMAT,\r\n        ALPHABET: ALPHABET\r\n      };\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if v is a BigNumber instance, otherwise return false.\r\n     *\r\n     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n     *\r\n     * v {any}\r\n     *\r\n     * '[BigNumber Error] Invalid BigNumber: {v}'\r\n     */\r\n    BigNumber.isBigNumber = function (v) {\r\n      if (!v || v._isBigNumber !== true) return false;\r\n      if (!BigNumber.DEBUG) return true;\r\n\r\n      var i, n,\r\n        c = v.c,\r\n        e = v.e,\r\n        s = v.s;\r\n\r\n      out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n          // If the first element is zero, the BigNumber value must be zero.\r\n          if (c[0] === 0) {\r\n            if (e === 0 && c.length === 1) return true;\r\n            break out;\r\n          }\r\n\r\n          // Calculate number of digits that c[0] should have, based on the exponent.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (i < 1) i += LOG_BASE;\r\n\r\n          // Calculate number of digits of c[0].\r\n          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n          if (String(c[0]).length == i) {\r\n\r\n            for (i = 0; i < c.length; i++) {\r\n              n = c[i];\r\n              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n            }\r\n\r\n            // Last element cannot be zero, unless it is the only element.\r\n            if (n !== 0) return true;\r\n          }\r\n        }\r\n\r\n      // Infinity/NaN\r\n      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n        return true;\r\n      }\r\n\r\n      throw Error\r\n        (bignumberError + 'Invalid BigNumber: ' + v);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the maximum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.maximum = BigNumber.max = function () {\r\n      return maxOrMin(arguments, -1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the minimum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.minimum = BigNumber.min = function () {\r\n      return maxOrMin(arguments, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n     * zeros are produced).\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n     * '[BigNumber Error] crypto unavailable'\r\n     */\r\n    BigNumber.random = (function () {\r\n      var pow2_53 = 0x20000000000000;\r\n\r\n      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n      // Check if Math.random() produces more than 32 bits of randomness.\r\n      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n      var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n       ? function () { return mathfloor(Math.random() * pow2_53); }\r\n       : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n         (Math.random() * 0x800000 | 0); };\r\n\r\n      return function (dp) {\r\n        var a, b, e, k, v,\r\n          i = 0,\r\n          c = [],\r\n          rand = new BigNumber(ONE);\r\n\r\n        if (dp == null) dp = DECIMAL_PLACES;\r\n        else intCheck(dp, 0, MAX);\r\n\r\n        k = mathceil(dp / LOG_BASE);\r\n\r\n        if (CRYPTO) {\r\n\r\n          // Browsers supporting crypto.getRandomValues.\r\n          if (crypto.getRandomValues) {\r\n\r\n            a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n            for (; i < k;) {\r\n\r\n              // 53 bits:\r\n              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n              // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n              //                                     11111 11111111 11111111\r\n              // 0x20000 is 2^21.\r\n              v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n              // Rejection sampling:\r\n              // 0 <= v < 9007199254740992\r\n              // Probability that v >= 9e15, is\r\n              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n              if (v >= 9e15) {\r\n                b = crypto.getRandomValues(new Uint32Array(2));\r\n                a[i] = b[0];\r\n                a[i + 1] = b[1];\r\n              } else {\r\n\r\n                // 0 <= v <= 8999999999999999\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 2;\r\n              }\r\n            }\r\n            i = k / 2;\r\n\r\n          // Node.js supporting crypto.randomBytes.\r\n          } else if (crypto.randomBytes) {\r\n\r\n            // buffer\r\n            a = crypto.randomBytes(k *= 7);\r\n\r\n            for (; i < k;) {\r\n\r\n              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n              // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n              // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n              // 0 <= v < 9007199254740992\r\n              v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n                 (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n                 (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n              if (v >= 9e15) {\r\n                crypto.randomBytes(7).copy(a, i);\r\n              } else {\r\n\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 7;\r\n              }\r\n            }\r\n            i = k / 7;\r\n          } else {\r\n            CRYPTO = false;\r\n            throw Error\r\n             (bignumberError + 'crypto unavailable');\r\n          }\r\n        }\r\n\r\n        // Use Math.random.\r\n        if (!CRYPTO) {\r\n\r\n          for (; i < k;) {\r\n            v = random53bitInt();\r\n            if (v < 9e15) c[i++] = v % 1e14;\r\n          }\r\n        }\r\n\r\n        k = c[--i];\r\n        dp %= LOG_BASE;\r\n\r\n        // Convert trailing digits to zeros according to dp.\r\n        if (k && dp) {\r\n          v = POWS_TEN[LOG_BASE - dp];\r\n          c[i] = mathfloor(k / v) * v;\r\n        }\r\n\r\n        // Remove trailing elements which are zero.\r\n        for (; c[i] === 0; c.pop(), i--);\r\n\r\n        // Zero?\r\n        if (i < 0) {\r\n          c = [e = 0];\r\n        } else {\r\n\r\n          // Remove leading elements which are zero and adjust exponent accordingly.\r\n          for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n          // Count the digits of the first element of c to determine leading zeros, and...\r\n          for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n          // adjust the exponent accordingly.\r\n          if (i < LOG_BASE) e -= LOG_BASE - i;\r\n        }\r\n\r\n        rand.e = e;\r\n        rand.c = c;\r\n        return rand;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the sum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.sum = function () {\r\n      var i = 1,\r\n        args = arguments,\r\n        sum = new BigNumber(args[0]);\r\n      for (; i < args.length;) sum = sum.plus(args[i++]);\r\n      return sum;\r\n    };\r\n\r\n\r\n    // PRIVATE FUNCTIONS\r\n\r\n\r\n    // Called by BigNumber and BigNumber.prototype.toString.\r\n    convertBase = (function () {\r\n      var decimal = '0123456789';\r\n\r\n      /*\r\n       * Convert string of baseIn to an array of numbers of baseOut.\r\n       * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n       */\r\n      function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n        var j,\r\n          arr = [0],\r\n          arrL,\r\n          i = 0,\r\n          len = str.length;\r\n\r\n        for (; i < len;) {\r\n          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n          arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n          for (j = 0; j < arr.length; j++) {\r\n\r\n            if (arr[j] > baseOut - 1) {\r\n              if (arr[j + 1] == null) arr[j + 1] = 0;\r\n              arr[j + 1] += arr[j] / baseOut | 0;\r\n              arr[j] %= baseOut;\r\n            }\r\n          }\r\n        }\r\n\r\n        return arr.reverse();\r\n      }\r\n\r\n      // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n      // If the caller is toString, we are converting from base 10 to baseOut.\r\n      // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n      return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n        var alphabet, d, e, k, r, x, xc, y,\r\n          i = str.indexOf('.'),\r\n          dp = DECIMAL_PLACES,\r\n          rm = ROUNDING_MODE;\r\n\r\n        // Non-integer.\r\n        if (i >= 0) {\r\n          k = POW_PRECISION;\r\n\r\n          // Unlimited precision.\r\n          POW_PRECISION = 0;\r\n          str = str.replace('.', '');\r\n          y = new BigNumber(baseIn);\r\n          x = y.pow(str.length - i);\r\n          POW_PRECISION = k;\r\n\r\n          // Convert str as if an integer, then restore the fraction part by dividing the\r\n          // result by its base raised to a power.\r\n\r\n          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n           10, baseOut, decimal);\r\n          y.e = y.c.length;\r\n        }\r\n\r\n        // Convert the number as integer.\r\n\r\n        xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n         ? (alphabet = ALPHABET, decimal)\r\n         : (alphabet = decimal, ALPHABET));\r\n\r\n        // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n        e = k = xc.length;\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--k] == 0; xc.pop());\r\n\r\n        // Zero?\r\n        if (!xc[0]) return alphabet.charAt(0);\r\n\r\n        // Does str represent an integer? If so, no need for the division.\r\n        if (i < 0) {\r\n          --e;\r\n        } else {\r\n          x.c = xc;\r\n          x.e = e;\r\n\r\n          // The sign is needed for correct rounding.\r\n          x.s = sign;\r\n          x = div(x, y, dp, rm, baseOut);\r\n          xc = x.c;\r\n          r = x.r;\r\n          e = x.e;\r\n        }\r\n\r\n        // xc now represents str converted to baseOut.\r\n\r\n        // THe index of the rounding digit.\r\n        d = e + dp + 1;\r\n\r\n        // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n        i = xc[d];\r\n\r\n        // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n        k = baseOut / 2;\r\n        r = r || d < 0 || xc[d + 1] != null;\r\n\r\n        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n              : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n               rm == (x.s < 0 ? 8 : 7));\r\n\r\n        // If the index of the rounding digit is not greater than zero, or xc represents\r\n        // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n        // such as 0.00001.\r\n        if (d < 1 || !xc[0]) {\r\n\r\n          // 1^-dp or 0\r\n          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n        } else {\r\n\r\n          // Truncate xc to the required number of decimal places.\r\n          xc.length = d;\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            // Rounding up may mean the previous digit has to be rounded up and so on.\r\n            for (--baseOut; ++xc[--d] > baseOut;) {\r\n              xc[d] = 0;\r\n\r\n              if (!d) {\r\n                ++e;\r\n                xc = [1].concat(xc);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Determine trailing zeros.\r\n          for (k = xc.length; !xc[--k];);\r\n\r\n          // E.g. [4, 11, 15] becomes 4bf.\r\n          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n          // Add leading zeros, decimal point and trailing zeros as required.\r\n          str = toFixedPoint(str, e, alphabet.charAt(0));\r\n        }\r\n\r\n        // The caller will add the sign.\r\n        return str;\r\n      };\r\n    })();\r\n\r\n\r\n    // Perform division in the specified base. Called by div and convertBase.\r\n    div = (function () {\r\n\r\n      // Assume non-zero x and k.\r\n      function multiply(x, k, base) {\r\n        var m, temp, xlo, xhi,\r\n          carry = 0,\r\n          i = x.length,\r\n          klo = k % SQRT_BASE,\r\n          khi = k / SQRT_BASE | 0;\r\n\r\n        for (x = x.slice(); i--;) {\r\n          xlo = x[i] % SQRT_BASE;\r\n          xhi = x[i] / SQRT_BASE | 0;\r\n          m = khi * xlo + xhi * klo;\r\n          temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n          x[i] = temp % base;\r\n        }\r\n\r\n        if (carry) x = [carry].concat(x);\r\n\r\n        return x;\r\n      }\r\n\r\n      function compare(a, b, aL, bL) {\r\n        var i, cmp;\r\n\r\n        if (aL != bL) {\r\n          cmp = aL > bL ? 1 : -1;\r\n        } else {\r\n\r\n          for (i = cmp = 0; i < aL; i++) {\r\n\r\n            if (a[i] != b[i]) {\r\n              cmp = a[i] > b[i] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        return cmp;\r\n      }\r\n\r\n      function subtract(a, b, aL, base) {\r\n        var i = 0;\r\n\r\n        // Subtract b from a.\r\n        for (; aL--;) {\r\n          a[aL] -= i;\r\n          i = a[aL] < b[aL] ? 1 : 0;\r\n          a[aL] = i * base + a[aL] - b[aL];\r\n        }\r\n\r\n        // Remove leading zeros.\r\n        for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n      }\r\n\r\n      // x: dividend, y: divisor.\r\n      return function (x, y, dp, rm, base) {\r\n        var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n          yL, yz,\r\n          s = x.s == y.s ? 1 : -1,\r\n          xc = x.c,\r\n          yc = y.c;\r\n\r\n        // Either NaN, Infinity or 0?\r\n        if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n          return new BigNumber(\r\n\r\n           // Return NaN if either NaN, or both Infinity or 0.\r\n           !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n            // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n            xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n         );\r\n        }\r\n\r\n        q = new BigNumber(s);\r\n        qc = q.c = [];\r\n        e = x.e - y.e;\r\n        s = dp + e + 1;\r\n\r\n        if (!base) {\r\n          base = BASE;\r\n          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n          s = s / LOG_BASE | 0;\r\n        }\r\n\r\n        // Result exponent may be one less then the current value of e.\r\n        // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n        for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n        if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n        if (s < 0) {\r\n          qc.push(1);\r\n          more = true;\r\n        } else {\r\n          xL = xc.length;\r\n          yL = yc.length;\r\n          i = 0;\r\n          s += 2;\r\n\r\n          // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n          n = mathfloor(base / (yc[0] + 1));\r\n\r\n          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n          if (n > 1) {\r\n            yc = multiply(yc, n, base);\r\n            xc = multiply(xc, n, base);\r\n            yL = yc.length;\r\n            xL = xc.length;\r\n          }\r\n\r\n          xi = yL;\r\n          rem = xc.slice(0, yL);\r\n          remL = rem.length;\r\n\r\n          // Add zeros to make remainder as long as divisor.\r\n          for (; remL < yL; rem[remL++] = 0);\r\n          yz = yc.slice();\r\n          yz = [0].concat(yz);\r\n          yc0 = yc[0];\r\n          if (yc[1] >= base / 2) yc0++;\r\n          // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n          do {\r\n            n = 0;\r\n\r\n            // Compare divisor and remainder.\r\n            cmp = compare(yc, rem, yL, remL);\r\n\r\n            // If divisor < remainder.\r\n            if (cmp < 0) {\r\n\r\n              // Calculate trial digit, n.\r\n\r\n              rem0 = rem[0];\r\n              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n              // n is how many times the divisor goes into the current remainder.\r\n              n = mathfloor(rem0 / yc0);\r\n\r\n              //  Algorithm:\r\n              //  product = divisor multiplied by trial digit (n).\r\n              //  Compare product and remainder.\r\n              //  If product is greater than remainder:\r\n              //    Subtract divisor from product, decrement trial digit.\r\n              //  Subtract product from remainder.\r\n              //  If product was less than remainder at the last compare:\r\n              //    Compare new remainder and divisor.\r\n              //    If remainder is greater than divisor:\r\n              //      Subtract divisor from remainder, increment trial digit.\r\n\r\n              if (n > 1) {\r\n\r\n                // n may be > base only when base is 3.\r\n                if (n >= base) n = base - 1;\r\n\r\n                // product = divisor * trial digit.\r\n                prod = multiply(yc, n, base);\r\n                prodL = prod.length;\r\n                remL = rem.length;\r\n\r\n                // Compare product and remainder.\r\n                // If product > remainder then trial digit n too high.\r\n                // n is 1 too high about 5% of the time, and is not known to have\r\n                // ever been more than 1 too high.\r\n                while (compare(prod, rem, prodL, remL) == 1) {\r\n                  n--;\r\n\r\n                  // Subtract divisor from product.\r\n                  subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                  prodL = prod.length;\r\n                  cmp = 1;\r\n                }\r\n              } else {\r\n\r\n                // n is 0 or 1, cmp is -1.\r\n                // If n is 0, there is no need to compare yc and rem again below,\r\n                // so change cmp to 1 to avoid it.\r\n                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                if (n == 0) {\r\n\r\n                  // divisor < remainder, so n must be at least 1.\r\n                  cmp = n = 1;\r\n                }\r\n\r\n                // product = divisor\r\n                prod = yc.slice();\r\n                prodL = prod.length;\r\n              }\r\n\r\n              if (prodL < remL) prod = [0].concat(prod);\r\n\r\n              // Subtract product from remainder.\r\n              subtract(rem, prod, remL, base);\r\n              remL = rem.length;\r\n\r\n               // If product was < remainder.\r\n              if (cmp == -1) {\r\n\r\n                // Compare divisor and new remainder.\r\n                // If divisor < new remainder, subtract divisor from remainder.\r\n                // Trial digit n too low.\r\n                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                while (compare(yc, rem, yL, remL) < 1) {\r\n                  n++;\r\n\r\n                  // Subtract divisor from remainder.\r\n                  subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                  remL = rem.length;\r\n                }\r\n              }\r\n            } else if (cmp === 0) {\r\n              n++;\r\n              rem = [0];\r\n            } // else cmp === 1 and n will be 0\r\n\r\n            // Add the next digit, n, to the result array.\r\n            qc[i++] = n;\r\n\r\n            // Update the remainder.\r\n            if (rem[0]) {\r\n              rem[remL++] = xc[xi] || 0;\r\n            } else {\r\n              rem = [xc[xi]];\r\n              remL = 1;\r\n            }\r\n          } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n          more = rem[0] != null;\r\n\r\n          // Leading zero?\r\n          if (!qc[0]) qc.splice(0, 1);\r\n        }\r\n\r\n        if (base == BASE) {\r\n\r\n          // To calculate q.e, first get the number of digits of qc[0].\r\n          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n        // Caller is convertBase.\r\n        } else {\r\n          q.e = e;\r\n          q.r = +more;\r\n        }\r\n\r\n        return q;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n     * notation rounded to the specified decimal places or significant digits.\r\n     *\r\n     * n: a BigNumber.\r\n     * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n     * rm: the rounding mode.\r\n     * id: 1 (toExponential) or 2 (toPrecision).\r\n     */\r\n    function format(n, i, rm, id) {\r\n      var c0, e, ne, len, str;\r\n\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      if (!n.c) return n.toString();\r\n\r\n      c0 = n.c[0];\r\n      ne = n.e;\r\n\r\n      if (i == null) {\r\n        str = coeffToString(n.c);\r\n        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n         ? toExponential(str, ne)\r\n         : toFixedPoint(str, ne, '0');\r\n      } else {\r\n        n = round(new BigNumber(n), i, rm);\r\n\r\n        // n.e may have changed if the value was rounded up.\r\n        e = n.e;\r\n\r\n        str = coeffToString(n.c);\r\n        len = str.length;\r\n\r\n        // toPrecision returns exponential notation if the number of significant digits\r\n        // specified is less than the number of digits necessary to represent the integer\r\n        // part of the value in fixed-point notation.\r\n\r\n        // Exponential notation.\r\n        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n          // Append zeros?\r\n          for (; len < i; str += '0', len++);\r\n          str = toExponential(str, e);\r\n\r\n        // Fixed-point notation.\r\n        } else {\r\n          i -= ne;\r\n          str = toFixedPoint(str, e, '0');\r\n\r\n          // Append zeros?\r\n          if (e + 1 > len) {\r\n            if (--i > 0) for (str += '.'; i--; str += '0');\r\n          } else {\r\n            i += e - len;\r\n            if (i > 0) {\r\n              if (e + 1 == len) str += '.';\r\n              for (; i--; str += '0');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return n.s < 0 && c0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // Handle BigNumber.max and BigNumber.min.\r\n    // If any number is NaN, return NaN.\r\n    function maxOrMin(args, n) {\r\n      var k, y,\r\n        i = 1,\r\n        x = new BigNumber(args[0]);\r\n\r\n      for (; i < args.length; i++) {\r\n        y = new BigNumber(args[i]);\r\n        if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n          x = y;\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    /*\r\n     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n     * Called by minus, plus and times.\r\n     */\r\n    function normalise(n, c, e) {\r\n      var i = 1,\r\n        j = c.length;\r\n\r\n       // Remove trailing zeros.\r\n      for (; !c[--j]; c.pop());\r\n\r\n      // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n      for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n      // Overflow?\r\n      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        n.c = n.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        n.c = [n.e = 0];\r\n      } else {\r\n        n.e = e;\r\n        n.c = c;\r\n      }\r\n\r\n      return n;\r\n    }\r\n\r\n\r\n    // Handle values that fail the validity test in BigNumber.\r\n    parseNumeric = (function () {\r\n      var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n        dotAfter = /^([^.]+)\\.$/,\r\n        dotBefore = /^\\.([^.]+)$/,\r\n        isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n        whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n      return function (x, str, isNum, b) {\r\n        var base,\r\n          s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n        // No exception on ±Infinity or NaN.\r\n        if (isInfinityOrNaN.test(s)) {\r\n          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n        } else {\r\n          if (!isNum) {\r\n\r\n            // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n            s = s.replace(basePrefix, function (m, p1, p2) {\r\n              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n              return !b || b == base ? p1 : m;\r\n            });\r\n\r\n            if (b) {\r\n              base = b;\r\n\r\n              // E.g. '1.' to '1', '.1' to '0.1'\r\n              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n            }\r\n\r\n            if (str != s) return new BigNumber(s, base);\r\n          }\r\n\r\n          // '[BigNumber Error] Not a number: {n}'\r\n          // '[BigNumber Error] Not a base {b} number: {n}'\r\n          if (BigNumber.DEBUG) {\r\n            throw Error\r\n              (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n          }\r\n\r\n          // NaN\r\n          x.s = null;\r\n        }\r\n\r\n        x.c = x.e = null;\r\n      }\r\n    })();\r\n\r\n\r\n    /*\r\n     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n     * If r is truthy, it is known that there are more digits after the rounding digit.\r\n     */\r\n    function round(x, sd, rm, r) {\r\n      var d, i, j, k, n, ni, rd,\r\n        xc = x.c,\r\n        pows10 = POWS_TEN;\r\n\r\n      // if x is not Infinity or NaN...\r\n      if (xc) {\r\n\r\n        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n        // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n        // ni is the index of n within x.c.\r\n        // d is the number of digits of n.\r\n        // i is the index of rd within n including leading zeros.\r\n        // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n        out: {\r\n\r\n          // Get the number of digits of the first element of xc.\r\n          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n          i = sd - d;\r\n\r\n          // If the rounding digit is in the first element of xc...\r\n          if (i < 0) {\r\n            i += LOG_BASE;\r\n            j = sd;\r\n            n = xc[ni = 0];\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n          } else {\r\n            ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n            if (ni >= xc.length) {\r\n\r\n              if (r) {\r\n\r\n                // Needed by sqrt.\r\n                for (; xc.length <= ni; xc.push(0));\r\n                n = rd = 0;\r\n                d = 1;\r\n                i %= LOG_BASE;\r\n                j = i - LOG_BASE + 1;\r\n              } else {\r\n                break out;\r\n              }\r\n            } else {\r\n              n = k = xc[ni];\r\n\r\n              // Get the number of digits of n.\r\n              for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n              // Get the index of rd within n.\r\n              i %= LOG_BASE;\r\n\r\n              // Get the index of rd within n, adjusted for leading zeros.\r\n              // The number of leading zeros of n is given by LOG_BASE - d.\r\n              j = i - LOG_BASE + d;\r\n\r\n              // Get the rounding digit at index j of n.\r\n              rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n            }\r\n          }\r\n\r\n          r = r || sd < 0 ||\r\n\r\n          // Are there any non-zero digits after the rounding digit?\r\n          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n           xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n          r = rm < 4\r\n           ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n           : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n            // Check whether the digit to the left of the rounding digit is odd.\r\n            ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n          if (sd < 1 || !xc[0]) {\r\n            xc.length = 0;\r\n\r\n            if (r) {\r\n\r\n              // Convert sd to decimal places.\r\n              sd -= x.e + 1;\r\n\r\n              // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n              x.e = -sd || 0;\r\n            } else {\r\n\r\n              // Zero.\r\n              xc[0] = x.e = 0;\r\n            }\r\n\r\n            return x;\r\n          }\r\n\r\n          // Remove excess digits.\r\n          if (i == 0) {\r\n            xc.length = ni;\r\n            k = 1;\r\n            ni--;\r\n          } else {\r\n            xc.length = ni + 1;\r\n            k = pows10[LOG_BASE - i];\r\n\r\n            // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n            // j > 0 means i > number of leading zeros of n.\r\n            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n          }\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            for (; ;) {\r\n\r\n              // If the digit to be rounded up is in the first element of xc...\r\n              if (ni == 0) {\r\n\r\n                // i will be the length of xc[0] before k is added.\r\n                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n                j = xc[0] += k;\r\n                for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n                // if i != k the length has increased.\r\n                if (i != k) {\r\n                  x.e++;\r\n                  if (xc[0] == BASE) xc[0] = 1;\r\n                }\r\n\r\n                break;\r\n              } else {\r\n                xc[ni] += k;\r\n                if (xc[ni] != BASE) break;\r\n                xc[ni--] = 0;\r\n                k = 1;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Remove trailing zeros.\r\n          for (i = xc.length; xc[--i] === 0; xc.pop());\r\n        }\r\n\r\n        // Overflow? Infinity.\r\n        if (x.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n\r\n        // Underflow? Zero.\r\n        } else if (x.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    function valueOf(n) {\r\n      var str,\r\n        e = n.e;\r\n\r\n      if (e === null) return n.toString();\r\n\r\n      str = coeffToString(n.c);\r\n\r\n      str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n        ? toExponential(str, e)\r\n        : toFixedPoint(str, e, '0');\r\n\r\n      return n.s < 0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n     */\r\n    P.absoluteValue = P.abs = function () {\r\n      var x = new BigNumber(this);\r\n      if (x.s < 0) x.s = 1;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     *   0 if they have the same value,\r\n     *   or null if the value of either is NaN.\r\n     */\r\n    P.comparedTo = function (y, b) {\r\n      return compare(this, new BigNumber(y, b));\r\n    };\r\n\r\n\r\n    /*\r\n     * If dp is undefined or null or true or false, return the number of decimal places of the\r\n     * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     *\r\n     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.decimalPlaces = P.dp = function (dp, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), dp + x.e + 1, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n      // Subtract the number of trailing zeros of the last number.\r\n      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n      if (n < 0) n = 0;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n / 0 = I\r\n     *  n / N = N\r\n     *  n / I = 0\r\n     *  0 / n = 0\r\n     *  0 / 0 = N\r\n     *  0 / N = N\r\n     *  0 / I = 0\r\n     *  N / n = N\r\n     *  N / 0 = N\r\n     *  N / N = N\r\n     *  N / I = N\r\n     *  I / n = I\r\n     *  I / 0 = I\r\n     *  I / N = N\r\n     *  I / I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.dividedBy = P.div = function (y, b) {\r\n      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n     * BigNumber by the value of BigNumber(y, b).\r\n     */\r\n    P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n      return div(this, new BigNumber(y, b), 0, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n     *\r\n     * If m is present, return the result modulo m.\r\n     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n     *\r\n     * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n     *\r\n     * n {number|string|BigNumber} The exponent. An integer.\r\n     * [m] {number|string|BigNumber} The modulus.\r\n     *\r\n     * '[BigNumber Error] Exponent not an integer: {n}'\r\n     */\r\n    P.exponentiatedBy = P.pow = function (n, m) {\r\n      var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n        x = this;\r\n\r\n      n = new BigNumber(n);\r\n\r\n      // Allow NaN and ±Infinity, but not other non-integers.\r\n      if (n.c && !n.isInteger()) {\r\n        throw Error\r\n          (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n      }\r\n\r\n      if (m != null) m = new BigNumber(m);\r\n\r\n      // Exponent of MAX_SAFE_INTEGER is 15.\r\n      nIsBig = n.e > 14;\r\n\r\n      // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n        // The sign of the result of pow when x is negative depends on the evenness of n.\r\n        // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n        return m ? y.mod(m) : y;\r\n      }\r\n\r\n      nIsNeg = n.s < 0;\r\n\r\n      if (m) {\r\n\r\n        // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n        isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n        if (isModExp) x = x.mod(m);\r\n\r\n      // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n      // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n        // [1, 240000000]\r\n        ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n        // [80000000000000]  [99999750000000]\r\n        : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n        // If x is negative and n is odd, k = -0, else k = 0.\r\n        k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n        // If x >= 1, k = ±Infinity.\r\n        if (x.e > -1) k = 1 / k;\r\n\r\n        // If n is negative return ±0, else return ±Infinity.\r\n        return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n      } else if (POW_PRECISION) {\r\n\r\n        // Truncating each coefficient array to a length of k after each multiplication\r\n        // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n        // i.e. there will be a minimum of 28 guard digits retained.\r\n        k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n      }\r\n\r\n      if (nIsBig) {\r\n        half = new BigNumber(0.5);\r\n        if (nIsNeg) n.s = 1;\r\n        nIsOdd = isOdd(n);\r\n      } else {\r\n        i = Math.abs(+valueOf(n));\r\n        nIsOdd = i % 2;\r\n      }\r\n\r\n      y = new BigNumber(ONE);\r\n\r\n      // Performs 54 loop iterations for n of 9007199254740991.\r\n      for (; ;) {\r\n\r\n        if (nIsOdd) {\r\n          y = y.times(x);\r\n          if (!y.c) break;\r\n\r\n          if (k) {\r\n            if (y.c.length > k) y.c.length = k;\r\n          } else if (isModExp) {\r\n            y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n          }\r\n        }\r\n\r\n        if (i) {\r\n          i = mathfloor(i / 2);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        } else {\r\n          n = n.times(half);\r\n          round(n, n.e + 1, 1);\r\n\r\n          if (n.e > 14) {\r\n            nIsOdd = isOdd(n);\r\n          } else {\r\n            i = +valueOf(n);\r\n            if (i === 0) break;\r\n            nIsOdd = i % 2;\r\n          }\r\n        }\r\n\r\n        x = x.times(x);\r\n\r\n        if (k) {\r\n          if (x.c && x.c.length > k) x.c.length = k;\r\n        } else if (isModExp) {\r\n          x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (isModExp) return y;\r\n      if (nIsNeg) y = ONE.div(y);\r\n\r\n      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n     */\r\n    P.integerValue = function (rm) {\r\n      var n = new BigNumber(this);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n      return round(n, n.e + 1, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isEqualTo = P.eq = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n     */\r\n    P.isFinite = function () {\r\n      return !!this.c;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isGreaterThan = P.gt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n     */\r\n    P.isInteger = function () {\r\n      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isLessThan = P.lt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n     */\r\n    P.isNaN = function () {\r\n      return !this.s;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is negative, otherwise return false.\r\n     */\r\n    P.isNegative = function () {\r\n      return this.s < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is positive, otherwise return false.\r\n     */\r\n    P.isPositive = function () {\r\n      return this.s > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n     */\r\n    P.isZero = function () {\r\n      return !!this.c && this.c[0] == 0;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n - 0 = n\r\n     *  n - N = N\r\n     *  n - I = -I\r\n     *  0 - n = -n\r\n     *  0 - 0 = 0\r\n     *  0 - N = N\r\n     *  0 - I = -I\r\n     *  N - n = N\r\n     *  N - 0 = N\r\n     *  N - N = N\r\n     *  N - I = N\r\n     *  I - n = I\r\n     *  I - 0 = I\r\n     *  I - N = N\r\n     *  I - I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.minus = function (y, b) {\r\n      var i, j, t, xLTy,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n      if (a != b) {\r\n        y.s = -b;\r\n        return x.plus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Either Infinity?\r\n        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n           // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n           ROUNDING_MODE == 3 ? -0 : 0);\r\n        }\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Determine which is the bigger number.\r\n      if (a = xe - ye) {\r\n\r\n        if (xLTy = a < 0) {\r\n          a = -a;\r\n          t = xc;\r\n        } else {\r\n          ye = xe;\r\n          t = yc;\r\n        }\r\n\r\n        t.reverse();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        for (b = a; b--; t.push(0));\r\n        t.reverse();\r\n      } else {\r\n\r\n        // Exponents equal. Check digit by digit.\r\n        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n        for (a = b = 0; b < j; b++) {\r\n\r\n          if (xc[b] != yc[b]) {\r\n            xLTy = xc[b] < yc[b];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // x < y? Point xc to the array of the bigger number.\r\n      if (xLTy) {\r\n        t = xc;\r\n        xc = yc;\r\n        yc = t;\r\n        y.s = -y.s;\r\n      }\r\n\r\n      b = (j = yc.length) - (i = xc.length);\r\n\r\n      // Append zeros to xc if shorter.\r\n      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n      if (b > 0) for (; b--; xc[i++] = 0);\r\n      b = BASE - 1;\r\n\r\n      // Subtract yc from xc.\r\n      for (; j > a;) {\r\n\r\n        if (xc[--j] < yc[j]) {\r\n          for (i = j; i && !xc[--i]; xc[i] = b);\r\n          --xc[i];\r\n          xc[j] += BASE;\r\n        }\r\n\r\n        xc[j] -= yc[j];\r\n      }\r\n\r\n      // Remove leading zeros and adjust exponent accordingly.\r\n      for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n      // Zero?\r\n      if (!xc[0]) {\r\n\r\n        // Following IEEE 754 (2008) 6.3,\r\n        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n        y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n        y.c = [y.e = 0];\r\n        return y;\r\n      }\r\n\r\n      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n      // for finite x and y.\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     *   n % 0 =  N\r\n     *   n % N =  N\r\n     *   n % I =  n\r\n     *   0 % n =  0\r\n     *  -0 % n = -0\r\n     *   0 % 0 =  N\r\n     *   0 % N =  N\r\n     *   0 % I =  0\r\n     *   N % n =  N\r\n     *   N % 0 =  N\r\n     *   N % N =  N\r\n     *   N % I =  N\r\n     *   I % n =  N\r\n     *   I % 0 =  N\r\n     *   I % N =  N\r\n     *   I % I =  N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n     * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n     */\r\n    P.modulo = P.mod = function (y, b) {\r\n      var q, s,\r\n        x = this;\r\n\r\n      y = new BigNumber(y, b);\r\n\r\n      // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n      if (!x.c || !y.s || y.c && !y.c[0]) {\r\n        return new BigNumber(NaN);\r\n\r\n      // Return x if y is Infinity or x is zero.\r\n      } else if (!y.c || x.c && !x.c[0]) {\r\n        return new BigNumber(x);\r\n      }\r\n\r\n      if (MODULO_MODE == 9) {\r\n\r\n        // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n        // r = x - qy    where  0 <= r < abs(y)\r\n        s = y.s;\r\n        y.s = 1;\r\n        q = div(x, y, 0, 3);\r\n        y.s = s;\r\n        q.s *= s;\r\n      } else {\r\n        q = div(x, y, 0, MODULO_MODE);\r\n      }\r\n\r\n      y = x.minus(q.times(y));\r\n\r\n      // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n      return y;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n * 0 = 0\r\n     *  n * N = N\r\n     *  n * I = I\r\n     *  0 * n = 0\r\n     *  0 * 0 = 0\r\n     *  0 * N = N\r\n     *  0 * I = N\r\n     *  N * n = N\r\n     *  N * 0 = N\r\n     *  N * N = N\r\n     *  N * I = N\r\n     *  I * n = I\r\n     *  I * 0 = N\r\n     *  I * N = N\r\n     *  I * I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n     * of BigNumber(y, b).\r\n     */\r\n    P.multipliedBy = P.times = function (y, b) {\r\n      var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n        base, sqrtBase,\r\n        x = this,\r\n        xc = x.c,\r\n        yc = (y = new BigNumber(y, b)).c;\r\n\r\n      // Either NaN, ±Infinity or ±0?\r\n      if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n        // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n          y.c = y.e = y.s = null;\r\n        } else {\r\n          y.s *= x.s;\r\n\r\n          // Return ±Infinity if either is ±Infinity.\r\n          if (!xc || !yc) {\r\n            y.c = y.e = null;\r\n\r\n          // Return ±0 if either is ±0.\r\n          } else {\r\n            y.c = [0];\r\n            y.e = 0;\r\n          }\r\n        }\r\n\r\n        return y;\r\n      }\r\n\r\n      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n      y.s *= x.s;\r\n      xcL = xc.length;\r\n      ycL = yc.length;\r\n\r\n      // Ensure xc points to longer array and xcL to its length.\r\n      if (xcL < ycL) {\r\n        zc = xc;\r\n        xc = yc;\r\n        yc = zc;\r\n        i = xcL;\r\n        xcL = ycL;\r\n        ycL = i;\r\n      }\r\n\r\n      // Initialise the result array with zeros.\r\n      for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n      base = BASE;\r\n      sqrtBase = SQRT_BASE;\r\n\r\n      for (i = ycL; --i >= 0;) {\r\n        c = 0;\r\n        ylo = yc[i] % sqrtBase;\r\n        yhi = yc[i] / sqrtBase | 0;\r\n\r\n        for (k = xcL, j = i + k; j > i;) {\r\n          xlo = xc[--k] % sqrtBase;\r\n          xhi = xc[k] / sqrtBase | 0;\r\n          m = yhi * xlo + xhi * ylo;\r\n          xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n          zc[j--] = xlo % base;\r\n        }\r\n\r\n        zc[j] = c;\r\n      }\r\n\r\n      if (c) {\r\n        ++e;\r\n      } else {\r\n        zc.splice(0, 1);\r\n      }\r\n\r\n      return normalise(y, zc, e);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n     * i.e. multiplied by -1.\r\n     */\r\n    P.negated = function () {\r\n      var x = new BigNumber(this);\r\n      x.s = -x.s || null;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n + 0 = n\r\n     *  n + N = N\r\n     *  n + I = I\r\n     *  0 + n = n\r\n     *  0 + 0 = 0\r\n     *  0 + N = N\r\n     *  0 + I = I\r\n     *  N + n = N\r\n     *  N + 0 = N\r\n     *  N + N = N\r\n     *  N + I = N\r\n     *  I + n = I\r\n     *  I + 0 = I\r\n     *  I + N = N\r\n     *  I + I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.plus = function (y, b) {\r\n      var t,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n       if (a != b) {\r\n        y.s = -b;\r\n        return x.minus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Return ±Infinity if either ±Infinity.\r\n        if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n        // Either zero?\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n      if (a = xe - ye) {\r\n        if (a > 0) {\r\n          ye = xe;\r\n          t = yc;\r\n        } else {\r\n          a = -a;\r\n          t = xc;\r\n        }\r\n\r\n        t.reverse();\r\n        for (; a--; t.push(0));\r\n        t.reverse();\r\n      }\r\n\r\n      a = xc.length;\r\n      b = yc.length;\r\n\r\n      // Point xc to the longer array, and b to the shorter length.\r\n      if (a - b < 0) {\r\n        t = yc;\r\n        yc = xc;\r\n        xc = t;\r\n        b = a;\r\n      }\r\n\r\n      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n      for (a = 0; b;) {\r\n        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n      }\r\n\r\n      if (a) {\r\n        xc = [a].concat(xc);\r\n        ++ye;\r\n      }\r\n\r\n      // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n      // ye = MAX_EXP + 1 possible\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     * If sd is undefined or null or true or false, return the number of significant digits of\r\n     * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     * If sd is true include integer-part trailing zeros in the count.\r\n     *\r\n     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n     *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.precision = P.sd = function (sd, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (sd != null && sd !== !!sd) {\r\n        intCheck(sd, 1, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), sd, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      v = c.length - 1;\r\n      n = v * LOG_BASE + 1;\r\n\r\n      if (v = c[v]) {\r\n\r\n        // Subtract the number of trailing zeros of the last element.\r\n        for (; v % 10 == 0; v /= 10, n--);\r\n\r\n        // Add the number of digits of the first element.\r\n        for (v = c[0]; v >= 10; v /= 10, n++);\r\n      }\r\n\r\n      if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n     *\r\n     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n     */\r\n    P.shiftedBy = function (k) {\r\n      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n      return this.times('1e' + k);\r\n    };\r\n\r\n\r\n    /*\r\n     *  sqrt(-n) =  N\r\n     *  sqrt(N) =  N\r\n     *  sqrt(-I) =  N\r\n     *  sqrt(I) =  I\r\n     *  sqrt(0) =  0\r\n     *  sqrt(-0) = -0\r\n     *\r\n     * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.squareRoot = P.sqrt = function () {\r\n      var m, n, r, rep, t,\r\n        x = this,\r\n        c = x.c,\r\n        s = x.s,\r\n        e = x.e,\r\n        dp = DECIMAL_PLACES + 4,\r\n        half = new BigNumber('0.5');\r\n\r\n      // Negative/NaN/Infinity/zero?\r\n      if (s !== 1 || !c || !c[0]) {\r\n        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n      }\r\n\r\n      // Initial estimate.\r\n      s = Math.sqrt(+valueOf(x));\r\n\r\n      // Math.sqrt underflow/overflow?\r\n      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n      if (s == 0 || s == 1 / 0) {\r\n        n = coeffToString(c);\r\n        if ((n.length + e) % 2 == 0) n += '0';\r\n        s = Math.sqrt(+n);\r\n        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n        if (s == 1 / 0) {\r\n          n = '5e' + e;\r\n        } else {\r\n          n = s.toExponential();\r\n          n = n.slice(0, n.indexOf('e') + 1) + e;\r\n        }\r\n\r\n        r = new BigNumber(n);\r\n      } else {\r\n        r = new BigNumber(s + '');\r\n      }\r\n\r\n      // Check for zero.\r\n      // r could be zero if MIN_EXP is changed after the this value was created.\r\n      // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n      // coeffToString to throw.\r\n      if (r.c[0]) {\r\n        e = r.e;\r\n        s = e + dp;\r\n        if (s < 3) s = 0;\r\n\r\n        // Newton-Raphson iteration.\r\n        for (; ;) {\r\n          t = r;\r\n          r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n            // The exponent of r may here be one less than the final result exponent,\r\n            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n            // are indexed correctly.\r\n            if (r.e < e) --s;\r\n            n = n.slice(s - 3, s + 1);\r\n\r\n            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n            // iteration.\r\n            if (n == '9999' || !rep && n == '4999') {\r\n\r\n              // On the first iteration only, check to see if rounding up gives the\r\n              // exact result as the nines may infinitely repeat.\r\n              if (!rep) {\r\n                round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n                if (t.times(t).eq(x)) {\r\n                  r = t;\r\n                  break;\r\n                }\r\n              }\r\n\r\n              dp += 4;\r\n              s += 4;\r\n              rep = 1;\r\n            } else {\r\n\r\n              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n              // result. If not, then there are further digits and m will be truthy.\r\n              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n                // Truncate to the first rounding digit.\r\n                round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n                m = !r.times(r).eq(x);\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in exponential notation and\r\n     * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toExponential = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp++;\r\n      }\r\n      return format(this, dp, rm, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n     * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toFixed = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp = dp + this.e + 1;\r\n      }\r\n      return format(this, dp, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n     * of the format or FORMAT object (see BigNumber.set).\r\n     *\r\n     * The formatting object may contain some or all of the properties shown below.\r\n     *\r\n     * FORMAT = {\r\n     *   prefix: '',\r\n     *   groupSize: 3,\r\n     *   secondaryGroupSize: 0,\r\n     *   groupSeparator: ',',\r\n     *   decimalSeparator: '.',\r\n     *   fractionGroupSize: 0,\r\n     *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n     *   suffix: ''\r\n     * };\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     * [format] {object} Formatting options. See FORMAT pbject above.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     * '[BigNumber Error] Argument not an object: {format}'\r\n     */\r\n    P.toFormat = function (dp, rm, format) {\r\n      var str,\r\n        x = this;\r\n\r\n      if (format == null) {\r\n        if (dp != null && rm && typeof rm == 'object') {\r\n          format = rm;\r\n          rm = null;\r\n        } else if (dp && typeof dp == 'object') {\r\n          format = dp;\r\n          dp = rm = null;\r\n        } else {\r\n          format = FORMAT;\r\n        }\r\n      } else if (typeof format != 'object') {\r\n        throw Error\r\n          (bignumberError + 'Argument not an object: ' + format);\r\n      }\r\n\r\n      str = x.toFixed(dp, rm);\r\n\r\n      if (x.c) {\r\n        var i,\r\n          arr = str.split('.'),\r\n          g1 = +format.groupSize,\r\n          g2 = +format.secondaryGroupSize,\r\n          groupSeparator = format.groupSeparator || '',\r\n          intPart = arr[0],\r\n          fractionPart = arr[1],\r\n          isNeg = x.s < 0,\r\n          intDigits = isNeg ? intPart.slice(1) : intPart,\r\n          len = intDigits.length;\r\n\r\n        if (g2) {\r\n          i = g1;\r\n          g1 = g2;\r\n          g2 = i;\r\n          len -= i;\r\n        }\r\n\r\n        if (g1 > 0 && len > 0) {\r\n          i = len % g1 || g1;\r\n          intPart = intDigits.substr(0, i);\r\n          for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n          if (isNeg) intPart = '-' + intPart;\r\n        }\r\n\r\n        str = fractionPart\r\n         ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n          ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n           '$&' + (format.fractionGroupSeparator || ''))\r\n          : fractionPart)\r\n         : intPart;\r\n      }\r\n\r\n      return (format.prefix || '') + str + (format.suffix || '');\r\n    };\r\n\r\n\r\n    /*\r\n     * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n     * fraction with an integer numerator and an integer denominator.\r\n     * The denominator will be a positive non-zero value less than or equal to the specified\r\n     * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n     * the lowest value necessary to represent the number exactly.\r\n     *\r\n     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n     *\r\n     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n     */\r\n    P.toFraction = function (md) {\r\n      var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n        x = this,\r\n        xc = x.c;\r\n\r\n      if (md != null) {\r\n        n = new BigNumber(md);\r\n\r\n        // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n          throw Error\r\n            (bignumberError + 'Argument ' +\r\n              (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n        }\r\n      }\r\n\r\n      if (!xc) return new BigNumber(x);\r\n\r\n      d = new BigNumber(ONE);\r\n      n1 = d0 = new BigNumber(ONE);\r\n      d1 = n0 = new BigNumber(ONE);\r\n      s = coeffToString(xc);\r\n\r\n      // Determine initial denominator.\r\n      // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n      e = d.e = s.length - x.e - 1;\r\n      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n      md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n      exp = MAX_EXP;\r\n      MAX_EXP = 1 / 0;\r\n      n = new BigNumber(s);\r\n\r\n      // n0 = d1 = 0\r\n      n0.c[0] = 0;\r\n\r\n      for (; ;)  {\r\n        q = div(n, d, 0, 1);\r\n        d2 = d0.plus(q.times(d1));\r\n        if (d2.comparedTo(md) == 1) break;\r\n        d0 = d1;\r\n        d1 = d2;\r\n        n1 = n0.plus(q.times(d2 = n1));\r\n        n0 = d2;\r\n        d = n.minus(q.times(d2 = d));\r\n        n = d2;\r\n      }\r\n\r\n      d2 = div(md.minus(d0), d1, 0, 1);\r\n      n0 = n0.plus(d2.times(n1));\r\n      d0 = d0.plus(d2.times(d1));\r\n      n0.s = n1.s = x.s;\r\n      e = e * 2;\r\n\r\n      // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n          div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n      MAX_EXP = exp;\r\n\r\n      return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return the value of this BigNumber converted to a number primitive.\r\n     */\r\n    P.toNumber = function () {\r\n      return +valueOf(this);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n     * necessary to represent the integer part of the value in fixed-point notation, then use\r\n     * exponential notation.\r\n     *\r\n     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.toPrecision = function (sd, rm) {\r\n      if (sd != null) intCheck(sd, 1, MAX);\r\n      return format(this, sd, rm, 2);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n     * TO_EXP_NEG, return exponential notation.\r\n     *\r\n     * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n     *\r\n     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n     */\r\n    P.toString = function (b) {\r\n      var str,\r\n        n = this,\r\n        s = n.s,\r\n        e = n.e;\r\n\r\n      // Infinity or NaN?\r\n      if (e === null) {\r\n        if (s) {\r\n          str = 'Infinity';\r\n          if (s < 0) str = '-' + str;\r\n        } else {\r\n          str = 'NaN';\r\n        }\r\n      } else {\r\n        if (b == null) {\r\n          str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n           ? toExponential(coeffToString(n.c), e)\r\n           : toFixedPoint(coeffToString(n.c), e, '0');\r\n        } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n          str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n        } else {\r\n          intCheck(b, 2, ALPHABET.length, 'Base');\r\n          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n        }\r\n\r\n        if (s < 0 && n.c[0]) str = '-' + str;\r\n      }\r\n\r\n      return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return as toString, but do not accept a base argument, and include the minus sign for\r\n     * negative zero.\r\n     */\r\n    P.valueOf = P.toJSON = function () {\r\n      return valueOf(this);\r\n    };\r\n\r\n\r\n    P._isBigNumber = true;\r\n\r\n    if (configObject != null) BigNumber.set(configObject);\r\n\r\n    return BigNumber;\r\n  }\r\n\r\n\r\n  // PRIVATE HELPER FUNCTIONS\r\n\r\n  // These functions don't need access to variables,\r\n  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\n  function bitFloor(n) {\r\n    var i = n | 0;\r\n    return n > 0 || n === i ? i : i - 1;\r\n  }\r\n\r\n\r\n  // Return a coefficient array as a string of base 10 digits.\r\n  function coeffToString(a) {\r\n    var s, z,\r\n      i = 1,\r\n      j = a.length,\r\n      r = a[0] + '';\r\n\r\n    for (; i < j;) {\r\n      s = a[i++] + '';\r\n      z = LOG_BASE - s.length;\r\n      for (; z--; s = '0' + s);\r\n      r += s;\r\n    }\r\n\r\n    // Determine trailing zeros.\r\n    for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n    return r.slice(0, j + 1 || 1);\r\n  }\r\n\r\n\r\n  // Compare the value of BigNumbers x and y.\r\n  function compare(x, y) {\r\n    var a, b,\r\n      xc = x.c,\r\n      yc = y.c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either NaN?\r\n    if (!i || !j) return null;\r\n\r\n    a = xc && !xc[0];\r\n    b = yc && !yc[0];\r\n\r\n    // Either zero?\r\n    if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    a = i < 0;\r\n    b = k == l;\r\n\r\n    // Either Infinity?\r\n    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n    // Compare exponents.\r\n    if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n  }\r\n\r\n\r\n  /*\r\n   * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n   */\r\n  function intCheck(n, min, max, name) {\r\n    if (n < min || n > max || n !== mathfloor(n)) {\r\n      throw Error\r\n       (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n         ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n         : ' not a primitive number: ') + String(n));\r\n    }\r\n  }\r\n\r\n\r\n  // Assumes finite n.\r\n  function isOdd(n) {\r\n    var k = n.c.length - 1;\r\n    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n  }\r\n\r\n\r\n  function toExponential(str, e) {\r\n    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n     (e < 0 ? 'e' : 'e+') + e;\r\n  }\r\n\r\n\r\n  function toFixedPoint(str, e, z) {\r\n    var len, zs;\r\n\r\n    // Negative exponent?\r\n    if (e < 0) {\r\n\r\n      // Prepend zeros.\r\n      for (zs = z + '.'; ++e; zs += z);\r\n      str = zs + str;\r\n\r\n    // Positive exponent\r\n    } else {\r\n      len = str.length;\r\n\r\n      // Append zeros.\r\n      if (++e > len) {\r\n        for (zs = z, e -= len; --e; zs += z);\r\n        str += zs;\r\n      } else if (e < len) {\r\n        str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n\r\n  // EXPORT\r\n\r\n\r\n  BigNumber = clone();\r\n  BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n  // AMD.\r\n  if (typeof define == 'function' && define.amd) {\r\n    define(function () { return BigNumber; });\r\n\r\n  // Node.js and other environments that support module.exports.\r\n  } else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = BigNumber;\r\n\r\n  // Browser.\r\n  } else {\r\n    if (!globalObject) {\r\n      globalObject = typeof self != 'undefined' && self ? self : window;\r\n    }\r\n\r\n    globalObject.BigNumber = BigNumber;\r\n  }\r\n})(this);\r\n","/* eslint-disable */\n\nmodule.exports = function decodeAsm (stdlib, foreign, buffer) {\n  'use asm'\n\n  // -- Imports\n\n  var heap = new stdlib.Uint8Array(buffer)\n  // var log = foreign.log\n  var pushInt = foreign.pushInt\n  var pushInt32 = foreign.pushInt32\n  var pushInt32Neg = foreign.pushInt32Neg\n  var pushInt64 = foreign.pushInt64\n  var pushInt64Neg = foreign.pushInt64Neg\n  var pushFloat = foreign.pushFloat\n  var pushFloatSingle = foreign.pushFloatSingle\n  var pushFloatDouble = foreign.pushFloatDouble\n  var pushTrue = foreign.pushTrue\n  var pushFalse = foreign.pushFalse\n  var pushUndefined = foreign.pushUndefined\n  var pushNull = foreign.pushNull\n  var pushInfinity = foreign.pushInfinity\n  var pushInfinityNeg = foreign.pushInfinityNeg\n  var pushNaN = foreign.pushNaN\n  var pushNaNNeg = foreign.pushNaNNeg\n\n  var pushArrayStart = foreign.pushArrayStart\n  var pushArrayStartFixed = foreign.pushArrayStartFixed\n  var pushArrayStartFixed32 = foreign.pushArrayStartFixed32\n  var pushArrayStartFixed64 = foreign.pushArrayStartFixed64\n  var pushObjectStart = foreign.pushObjectStart\n  var pushObjectStartFixed = foreign.pushObjectStartFixed\n  var pushObjectStartFixed32 = foreign.pushObjectStartFixed32\n  var pushObjectStartFixed64 = foreign.pushObjectStartFixed64\n\n  var pushByteString = foreign.pushByteString\n  var pushByteStringStart = foreign.pushByteStringStart\n  var pushUtf8String = foreign.pushUtf8String\n  var pushUtf8StringStart = foreign.pushUtf8StringStart\n\n  var pushSimpleUnassigned = foreign.pushSimpleUnassigned\n\n  var pushTagStart = foreign.pushTagStart\n  var pushTagStart4 = foreign.pushTagStart4\n  var pushTagStart8 = foreign.pushTagStart8\n  var pushTagUnassigned = foreign.pushTagUnassigned\n\n  var pushBreak = foreign.pushBreak\n\n  var pow = stdlib.Math.pow\n\n  // -- Constants\n\n\n  // -- Mutable Variables\n\n  var offset = 0\n  var inputLength = 0\n  var code = 0\n\n  // Decode a cbor string represented as Uint8Array\n  // which is allocated on the heap from 0 to inputLength\n  //\n  // input - Int\n  //\n  // Returns Code - Int,\n  // Success = 0\n  // Error > 0\n  function parse (input) {\n    input = input | 0\n\n    offset = 0\n    inputLength = input\n\n    while ((offset | 0) < (inputLength | 0)) {\n      code = jumpTable[heap[offset] & 255](heap[offset] | 0) | 0\n\n      if ((code | 0) > 0) {\n        break\n      }\n    }\n\n    return code | 0\n  }\n\n  // -- Helper Function\n\n  function checkOffset (n) {\n    n = n | 0\n\n    if ((((offset | 0) + (n | 0)) | 0) < (inputLength | 0)) {\n      return 0\n    }\n\n    return 1\n  }\n\n  function readUInt16 (n) {\n    n = n | 0\n\n    return (\n      (heap[n | 0] << 8) | heap[(n + 1) | 0]\n    ) | 0\n  }\n\n  function readUInt32 (n) {\n    n = n | 0\n\n    return (\n      (heap[n | 0] << 24) | (heap[(n + 1) | 0] << 16) | (heap[(n + 2) | 0] << 8) | heap[(n + 3) | 0]\n    ) | 0\n  }\n\n  // -- Initial Byte Handlers\n\n  function INT_P (octet) {\n    octet = octet | 0\n\n    pushInt(octet | 0)\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function UINT_P_8 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    pushInt(heap[(offset + 1) | 0] | 0)\n\n    offset = (offset + 2) | 0\n\n    return 0\n  }\n\n  function UINT_P_16 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    pushInt(\n      readUInt16((offset + 1) | 0) | 0\n    )\n\n    offset = (offset + 3) | 0\n\n    return 0\n  }\n\n  function UINT_P_32 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    pushInt32(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0\n    )\n\n    offset = (offset + 5) | 0\n\n    return 0\n  }\n\n  function UINT_P_64 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(8) | 0) {\n      return 1\n    }\n\n    pushInt64(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0,\n      readUInt16((offset + 5) | 0) | 0,\n      readUInt16((offset + 7) | 0) | 0\n    )\n\n    offset = (offset + 9) | 0\n\n    return 0\n  }\n\n  function INT_N (octet) {\n    octet = octet | 0\n\n    pushInt((-1 - ((octet - 32) | 0)) | 0)\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function UINT_N_8 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    pushInt(\n      (-1 - (heap[(offset + 1) | 0] | 0)) | 0\n    )\n\n    offset = (offset + 2) | 0\n\n    return 0\n  }\n\n  function UINT_N_16 (octet) {\n    octet = octet | 0\n\n    var val = 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    val = readUInt16((offset + 1) | 0) | 0\n    pushInt((-1 - (val | 0)) | 0)\n\n    offset = (offset + 3) | 0\n\n    return 0\n  }\n\n  function UINT_N_32 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    pushInt32Neg(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0\n    )\n\n    offset = (offset + 5) | 0\n\n    return 0\n  }\n\n  function UINT_N_64 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(8) | 0) {\n      return 1\n    }\n\n    pushInt64Neg(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0,\n      readUInt16((offset + 5) | 0) | 0,\n      readUInt16((offset + 7) | 0) | 0\n    )\n\n    offset = (offset + 9) | 0\n\n    return 0\n  }\n\n  function BYTE_STRING (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var step = 0\n\n    step = (octet - 64) | 0\n    if (checkOffset(step | 0) | 0) {\n      return 1\n    }\n\n    start = (offset + 1) | 0\n    end = (((offset + 1) | 0) + (step | 0)) | 0\n\n    pushByteString(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function BYTE_STRING_8 (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var length = 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    length = heap[(offset + 1) | 0] | 0\n    start = (offset + 2) | 0\n    end = (((offset + 2) | 0) + (length | 0)) | 0\n\n    if (checkOffset((length + 1) | 0) | 0) {\n      return 1\n    }\n\n    pushByteString(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function BYTE_STRING_16 (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var length = 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    length = readUInt16((offset + 1) | 0) | 0\n    start = (offset + 3) | 0\n    end = (((offset + 3) | 0) + (length | 0)) | 0\n\n\n    if (checkOffset((length + 2) | 0) | 0) {\n      return 1\n    }\n\n    pushByteString(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function BYTE_STRING_32 (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var length = 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    length = readUInt32((offset + 1) | 0) | 0\n    start = (offset + 5) | 0\n    end = (((offset + 5) | 0) + (length | 0)) | 0\n\n\n    if (checkOffset((length + 4) | 0) | 0) {\n      return 1\n    }\n\n    pushByteString(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function BYTE_STRING_64 (octet) {\n    // NOT IMPLEMENTED\n    octet = octet | 0\n\n    return 1\n  }\n\n  function BYTE_STRING_BREAK (octet) {\n    octet = octet | 0\n\n    pushByteStringStart()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function UTF8_STRING (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var step = 0\n\n    step = (octet - 96) | 0\n\n    if (checkOffset(step | 0) | 0) {\n      return 1\n    }\n\n    start = (offset + 1) | 0\n    end = (((offset + 1) | 0) + (step | 0)) | 0\n\n    pushUtf8String(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function UTF8_STRING_8 (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var length = 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    length = heap[(offset + 1) | 0] | 0\n    start = (offset + 2) | 0\n    end = (((offset + 2) | 0) + (length | 0)) | 0\n\n    if (checkOffset((length + 1) | 0) | 0) {\n      return 1\n    }\n\n    pushUtf8String(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function UTF8_STRING_16 (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var length = 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    length = readUInt16((offset + 1) | 0) | 0\n    start = (offset + 3) | 0\n    end = (((offset + 3) | 0) + (length | 0)) | 0\n\n    if (checkOffset((length + 2) | 0) | 0) {\n      return 1\n    }\n\n    pushUtf8String(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function UTF8_STRING_32 (octet) {\n    octet = octet | 0\n\n    var start = 0\n    var end = 0\n    var length = 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    length = readUInt32((offset + 1) | 0) | 0\n    start = (offset + 5) | 0\n    end = (((offset + 5) | 0) + (length | 0)) | 0\n\n    if (checkOffset((length + 4) | 0) | 0) {\n      return 1\n    }\n\n    pushUtf8String(start | 0, end | 0)\n\n    offset = end | 0\n\n    return 0\n  }\n\n  function UTF8_STRING_64 (octet) {\n    // NOT IMPLEMENTED\n    octet = octet | 0\n\n    return 1\n  }\n\n  function UTF8_STRING_BREAK (octet) {\n    octet = octet | 0\n\n    pushUtf8StringStart()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function ARRAY (octet) {\n    octet = octet | 0\n\n    pushArrayStartFixed((octet - 128) | 0)\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function ARRAY_8 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    pushArrayStartFixed(heap[(offset + 1) | 0] | 0)\n\n    offset = (offset + 2) | 0\n\n    return 0\n  }\n\n  function ARRAY_16 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    pushArrayStartFixed(\n      readUInt16((offset + 1) | 0) | 0\n    )\n\n    offset = (offset + 3) | 0\n\n    return 0\n  }\n\n  function ARRAY_32 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    pushArrayStartFixed32(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0\n    )\n\n    offset = (offset + 5) | 0\n\n    return 0\n  }\n\n  function ARRAY_64 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(8) | 0) {\n      return 1\n    }\n\n    pushArrayStartFixed64(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0,\n      readUInt16((offset + 5) | 0) | 0,\n      readUInt16((offset + 7) | 0) | 0\n    )\n\n    offset = (offset + 9) | 0\n\n    return 0\n  }\n\n  function ARRAY_BREAK (octet) {\n    octet = octet | 0\n\n    pushArrayStart()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function MAP (octet) {\n    octet = octet | 0\n\n    var step = 0\n\n    step = (octet - 160) | 0\n\n    if (checkOffset(step | 0) | 0) {\n      return 1\n    }\n\n    pushObjectStartFixed(step | 0)\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function MAP_8 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    pushObjectStartFixed(heap[(offset + 1) | 0] | 0)\n\n    offset = (offset + 2) | 0\n\n    return 0\n  }\n\n  function MAP_16 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    pushObjectStartFixed(\n      readUInt16((offset + 1) | 0) | 0\n    )\n\n    offset = (offset + 3) | 0\n\n    return 0\n  }\n\n  function MAP_32 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    pushObjectStartFixed32(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0\n    )\n\n    offset = (offset + 5) | 0\n\n    return 0\n  }\n\n  function MAP_64 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(8) | 0) {\n      return 1\n    }\n\n    pushObjectStartFixed64(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0,\n      readUInt16((offset + 5) | 0) | 0,\n      readUInt16((offset + 7) | 0) | 0\n    )\n\n    offset = (offset + 9) | 0\n\n    return 0\n  }\n\n  function MAP_BREAK (octet) {\n    octet = octet | 0\n\n    pushObjectStart()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function TAG_KNOWN (octet) {\n    octet = octet | 0\n\n    pushTagStart((octet - 192| 0) | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_BIGNUM_POS (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_BIGNUM_NEG (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_FRAC (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_BIGNUM_FLOAT (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_UNASSIGNED (octet) {\n    octet = octet | 0\n\n    pushTagStart((octet - 192| 0) | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_BASE64_URL (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_BASE64 (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_BASE16 (octet) {\n    octet = octet | 0\n\n    pushTagStart(octet | 0)\n\n    offset = (offset + 1 | 0)\n\n    return 0\n  }\n\n  function TAG_MORE_1 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    pushTagStart(heap[(offset + 1) | 0] | 0)\n\n    offset = (offset + 2 | 0)\n\n    return 0\n  }\n\n  function TAG_MORE_2 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    pushTagStart(\n      readUInt16((offset + 1) | 0) | 0\n    )\n\n    offset = (offset + 3 | 0)\n\n    return 0\n  }\n\n  function TAG_MORE_4 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    pushTagStart4(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0\n    )\n\n    offset = (offset + 5 | 0)\n\n    return 0\n  }\n\n  function TAG_MORE_8 (octet) {\n    octet = octet | 0\n\n    if (checkOffset(8) | 0) {\n      return 1\n    }\n\n    pushTagStart8(\n      readUInt16((offset + 1) | 0) | 0,\n      readUInt16((offset + 3) | 0) | 0,\n      readUInt16((offset + 5) | 0) | 0,\n      readUInt16((offset + 7) | 0) | 0\n    )\n\n    offset = (offset + 9 | 0)\n\n    return 0\n  }\n\n  function SIMPLE_UNASSIGNED (octet) {\n    octet = octet | 0\n\n    pushSimpleUnassigned(((octet | 0) - 224) | 0)\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function SIMPLE_FALSE (octet) {\n    octet = octet | 0\n\n    pushFalse()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function SIMPLE_TRUE (octet) {\n    octet = octet | 0\n\n    pushTrue()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function SIMPLE_NULL (octet) {\n    octet = octet | 0\n\n    pushNull()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function SIMPLE_UNDEFINED (octet) {\n    octet = octet | 0\n\n    pushUndefined()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  function SIMPLE_BYTE (octet) {\n    octet = octet | 0\n\n    if (checkOffset(1) | 0) {\n      return 1\n    }\n\n    pushSimpleUnassigned(heap[(offset + 1) | 0] | 0)\n\n    offset = (offset + 2)  | 0\n\n    return 0\n  }\n\n  function SIMPLE_FLOAT_HALF (octet) {\n    octet = octet | 0\n\n    var f = 0\n    var g = 0\n    var sign = 1.0\n    var exp = 0.0\n    var mant = 0.0\n    var r = 0.0\n    if (checkOffset(2) | 0) {\n      return 1\n    }\n\n    f = heap[(offset + 1) | 0] | 0\n    g = heap[(offset + 2) | 0] | 0\n\n    if ((f | 0) & 0x80) {\n      sign = -1.0\n    }\n\n    exp = +(((f | 0) & 0x7C) >> 2)\n    mant = +((((f | 0) & 0x03) << 8) | g)\n\n    if (+exp == 0.0) {\n      pushFloat(+(\n        (+sign) * +5.9604644775390625e-8 * (+mant)\n      ))\n    } else if (+exp == 31.0) {\n      if (+sign == 1.0) {\n        if (+mant > 0.0) {\n          pushNaN()\n        } else {\n          pushInfinity()\n        }\n      } else {\n        if (+mant > 0.0) {\n          pushNaNNeg()\n        } else {\n          pushInfinityNeg()\n        }\n      }\n    } else {\n      pushFloat(+(\n        +sign * pow(+2, +(+exp - 25.0)) * +(1024.0 + mant)\n      ))\n    }\n\n    offset = (offset + 3) | 0\n\n    return 0\n  }\n\n  function SIMPLE_FLOAT_SINGLE (octet) {\n    octet = octet | 0\n\n    if (checkOffset(4) | 0) {\n      return 1\n    }\n\n    pushFloatSingle(\n      heap[(offset + 1) | 0] | 0,\n      heap[(offset + 2) | 0] | 0,\n      heap[(offset + 3) | 0] | 0,\n      heap[(offset + 4) | 0] | 0\n    )\n\n    offset = (offset + 5) | 0\n\n    return 0\n  }\n\n  function SIMPLE_FLOAT_DOUBLE (octet) {\n    octet = octet | 0\n\n    if (checkOffset(8) | 0) {\n      return 1\n    }\n\n    pushFloatDouble(\n      heap[(offset + 1) | 0] | 0,\n      heap[(offset + 2) | 0] | 0,\n      heap[(offset + 3) | 0] | 0,\n      heap[(offset + 4) | 0] | 0,\n      heap[(offset + 5) | 0] | 0,\n      heap[(offset + 6) | 0] | 0,\n      heap[(offset + 7) | 0] | 0,\n      heap[(offset + 8) | 0] | 0\n    )\n\n    offset = (offset + 9) | 0\n\n    return 0\n  }\n\n  function ERROR (octet) {\n    octet = octet | 0\n\n    return 1\n  }\n\n  function BREAK (octet) {\n    octet = octet | 0\n\n    pushBreak()\n\n    offset = (offset + 1) | 0\n\n    return 0\n  }\n\n  // -- Jump Table\n\n  var jumpTable = [\n    // Integer 0x00..0x17 (0..23)\n    INT_P, // 0x00\n    INT_P, // 0x01\n    INT_P, // 0x02\n    INT_P, // 0x03\n    INT_P, // 0x04\n    INT_P, // 0x05\n    INT_P, // 0x06\n    INT_P, // 0x07\n    INT_P, // 0x08\n    INT_P, // 0x09\n    INT_P, // 0x0A\n    INT_P, // 0x0B\n    INT_P, // 0x0C\n    INT_P, // 0x0D\n    INT_P, // 0x0E\n    INT_P, // 0x0F\n    INT_P, // 0x10\n    INT_P, // 0x11\n    INT_P, // 0x12\n    INT_P, // 0x13\n    INT_P, // 0x14\n    INT_P, // 0x15\n    INT_P, // 0x16\n    INT_P, // 0x17\n    // Unsigned integer (one-byte uint8_t follows)\n    UINT_P_8, // 0x18\n    // Unsigned integer (two-byte uint16_t follows)\n    UINT_P_16, // 0x19\n    // Unsigned integer (four-byte uint32_t follows)\n    UINT_P_32, // 0x1a\n    // Unsigned integer (eight-byte uint64_t follows)\n    UINT_P_64, // 0x1b\n    ERROR, // 0x1c\n    ERROR, // 0x1d\n    ERROR, // 0x1e\n    ERROR, // 0x1f\n    // Negative integer -1-0x00..-1-0x17 (-1..-24)\n    INT_N, // 0x20\n    INT_N, // 0x21\n    INT_N, // 0x22\n    INT_N, // 0x23\n    INT_N, // 0x24\n    INT_N, // 0x25\n    INT_N, // 0x26\n    INT_N, // 0x27\n    INT_N, // 0x28\n    INT_N, // 0x29\n    INT_N, // 0x2A\n    INT_N, // 0x2B\n    INT_N, // 0x2C\n    INT_N, // 0x2D\n    INT_N, // 0x2E\n    INT_N, // 0x2F\n    INT_N, // 0x30\n    INT_N, // 0x31\n    INT_N, // 0x32\n    INT_N, // 0x33\n    INT_N, // 0x34\n    INT_N, // 0x35\n    INT_N, // 0x36\n    INT_N, // 0x37\n    // Negative integer -1-n (one-byte uint8_t for n follows)\n    UINT_N_8, // 0x38\n    // Negative integer -1-n (two-byte uint16_t for n follows)\n    UINT_N_16, // 0x39\n    // Negative integer -1-n (four-byte uint32_t for nfollows)\n    UINT_N_32, // 0x3a\n    // Negative integer -1-n (eight-byte uint64_t for n follows)\n    UINT_N_64, // 0x3b\n    ERROR, // 0x3c\n    ERROR, // 0x3d\n    ERROR, // 0x3e\n    ERROR, // 0x3f\n    // byte string (0x00..0x17 bytes follow)\n    BYTE_STRING, // 0x40\n    BYTE_STRING, // 0x41\n    BYTE_STRING, // 0x42\n    BYTE_STRING, // 0x43\n    BYTE_STRING, // 0x44\n    BYTE_STRING, // 0x45\n    BYTE_STRING, // 0x46\n    BYTE_STRING, // 0x47\n    BYTE_STRING, // 0x48\n    BYTE_STRING, // 0x49\n    BYTE_STRING, // 0x4A\n    BYTE_STRING, // 0x4B\n    BYTE_STRING, // 0x4C\n    BYTE_STRING, // 0x4D\n    BYTE_STRING, // 0x4E\n    BYTE_STRING, // 0x4F\n    BYTE_STRING, // 0x50\n    BYTE_STRING, // 0x51\n    BYTE_STRING, // 0x52\n    BYTE_STRING, // 0x53\n    BYTE_STRING, // 0x54\n    BYTE_STRING, // 0x55\n    BYTE_STRING, // 0x56\n    BYTE_STRING, // 0x57\n    // byte string (one-byte uint8_t for n, and then n bytes follow)\n    BYTE_STRING_8, // 0x58\n    // byte string (two-byte uint16_t for n, and then n bytes follow)\n    BYTE_STRING_16, // 0x59\n    // byte string (four-byte uint32_t for n, and then n bytes follow)\n    BYTE_STRING_32, // 0x5a\n    // byte string (eight-byte uint64_t for n, and then n bytes follow)\n    BYTE_STRING_64, // 0x5b\n    ERROR, // 0x5c\n    ERROR, // 0x5d\n    ERROR, // 0x5e\n    // byte string, byte strings follow, terminated by \"break\"\n    BYTE_STRING_BREAK, // 0x5f\n    // UTF-8 string (0x00..0x17 bytes follow)\n    UTF8_STRING, // 0x60\n    UTF8_STRING, // 0x61\n    UTF8_STRING, // 0x62\n    UTF8_STRING, // 0x63\n    UTF8_STRING, // 0x64\n    UTF8_STRING, // 0x65\n    UTF8_STRING, // 0x66\n    UTF8_STRING, // 0x67\n    UTF8_STRING, // 0x68\n    UTF8_STRING, // 0x69\n    UTF8_STRING, // 0x6A\n    UTF8_STRING, // 0x6B\n    UTF8_STRING, // 0x6C\n    UTF8_STRING, // 0x6D\n    UTF8_STRING, // 0x6E\n    UTF8_STRING, // 0x6F\n    UTF8_STRING, // 0x70\n    UTF8_STRING, // 0x71\n    UTF8_STRING, // 0x72\n    UTF8_STRING, // 0x73\n    UTF8_STRING, // 0x74\n    UTF8_STRING, // 0x75\n    UTF8_STRING, // 0x76\n    UTF8_STRING, // 0x77\n    // UTF-8 string (one-byte uint8_t for n, and then n bytes follow)\n    UTF8_STRING_8, // 0x78\n    // UTF-8 string (two-byte uint16_t for n, and then n bytes follow)\n    UTF8_STRING_16, // 0x79\n    // UTF-8 string (four-byte uint32_t for n, and then n bytes follow)\n    UTF8_STRING_32, // 0x7a\n    // UTF-8 string (eight-byte uint64_t for n, and then n bytes follow)\n    UTF8_STRING_64, // 0x7b\n    // UTF-8 string, UTF-8 strings follow, terminated by \"break\"\n    ERROR, // 0x7c\n    ERROR, // 0x7d\n    ERROR, // 0x7e\n    UTF8_STRING_BREAK, // 0x7f\n    // array (0x00..0x17 data items follow)\n    ARRAY, // 0x80\n    ARRAY, // 0x81\n    ARRAY, // 0x82\n    ARRAY, // 0x83\n    ARRAY, // 0x84\n    ARRAY, // 0x85\n    ARRAY, // 0x86\n    ARRAY, // 0x87\n    ARRAY, // 0x88\n    ARRAY, // 0x89\n    ARRAY, // 0x8A\n    ARRAY, // 0x8B\n    ARRAY, // 0x8C\n    ARRAY, // 0x8D\n    ARRAY, // 0x8E\n    ARRAY, // 0x8F\n    ARRAY, // 0x90\n    ARRAY, // 0x91\n    ARRAY, // 0x92\n    ARRAY, // 0x93\n    ARRAY, // 0x94\n    ARRAY, // 0x95\n    ARRAY, // 0x96\n    ARRAY, // 0x97\n    // array (one-byte uint8_t fo, and then n data items follow)\n    ARRAY_8, // 0x98\n    // array (two-byte uint16_t for n, and then n data items follow)\n    ARRAY_16, // 0x99\n    // array (four-byte uint32_t for n, and then n data items follow)\n    ARRAY_32, // 0x9a\n    // array (eight-byte uint64_t for n, and then n data items follow)\n    ARRAY_64, // 0x9b\n    // array, data items follow, terminated by \"break\"\n    ERROR, // 0x9c\n    ERROR, // 0x9d\n    ERROR, // 0x9e\n    ARRAY_BREAK, // 0x9f\n    // map (0x00..0x17 pairs of data items follow)\n    MAP, // 0xa0\n    MAP, // 0xa1\n    MAP, // 0xa2\n    MAP, // 0xa3\n    MAP, // 0xa4\n    MAP, // 0xa5\n    MAP, // 0xa6\n    MAP, // 0xa7\n    MAP, // 0xa8\n    MAP, // 0xa9\n    MAP, // 0xaA\n    MAP, // 0xaB\n    MAP, // 0xaC\n    MAP, // 0xaD\n    MAP, // 0xaE\n    MAP, // 0xaF\n    MAP, // 0xb0\n    MAP, // 0xb1\n    MAP, // 0xb2\n    MAP, // 0xb3\n    MAP, // 0xb4\n    MAP, // 0xb5\n    MAP, // 0xb6\n    MAP, // 0xb7\n    // map (one-byte uint8_t for n, and then n pairs of data items follow)\n    MAP_8, // 0xb8\n    // map (two-byte uint16_t for n, and then n pairs of data items follow)\n    MAP_16, // 0xb9\n    // map (four-byte uint32_t for n, and then n pairs of data items follow)\n    MAP_32, // 0xba\n    // map (eight-byte uint64_t for n, and then n pairs of data items follow)\n    MAP_64, // 0xbb\n    ERROR, // 0xbc\n    ERROR, // 0xbd\n    ERROR, // 0xbe\n    // map, pairs of data items follow, terminated by \"break\"\n    MAP_BREAK, // 0xbf\n    // Text-based date/time (data item follows; see Section 2.4.1)\n    TAG_KNOWN, // 0xc0\n    // Epoch-based date/time (data item follows; see Section 2.4.1)\n    TAG_KNOWN, // 0xc1\n    // Positive bignum (data item \"byte string\" follows)\n    TAG_KNOWN, // 0xc2\n    // Negative bignum (data item \"byte string\" follows)\n    TAG_KNOWN, // 0xc3\n    // Decimal Fraction (data item \"array\" follows; see Section 2.4.3)\n    TAG_KNOWN, // 0xc4\n    // Bigfloat (data item \"array\" follows; see Section 2.4.3)\n    TAG_KNOWN, // 0xc5\n    // (tagged item)\n    TAG_UNASSIGNED, // 0xc6\n    TAG_UNASSIGNED, // 0xc7\n    TAG_UNASSIGNED, // 0xc8\n    TAG_UNASSIGNED, // 0xc9\n    TAG_UNASSIGNED, // 0xca\n    TAG_UNASSIGNED, // 0xcb\n    TAG_UNASSIGNED, // 0xcc\n    TAG_UNASSIGNED, // 0xcd\n    TAG_UNASSIGNED, // 0xce\n    TAG_UNASSIGNED, // 0xcf\n    TAG_UNASSIGNED, // 0xd0\n    TAG_UNASSIGNED, // 0xd1\n    TAG_UNASSIGNED, // 0xd2\n    TAG_UNASSIGNED, // 0xd3\n    TAG_UNASSIGNED, // 0xd4\n    // Expected Conversion (data item follows; see Section 2.4.4.2)\n    TAG_UNASSIGNED, // 0xd5\n    TAG_UNASSIGNED, // 0xd6\n    TAG_UNASSIGNED, // 0xd7\n    // (more tagged items, 1/2/4/8 bytes and then a data item follow)\n    TAG_MORE_1, // 0xd8\n    TAG_MORE_2, // 0xd9\n    TAG_MORE_4, // 0xda\n    TAG_MORE_8, // 0xdb\n    ERROR, // 0xdc\n    ERROR, // 0xdd\n    ERROR, // 0xde\n    ERROR, // 0xdf\n    // (simple value)\n    SIMPLE_UNASSIGNED, // 0xe0\n    SIMPLE_UNASSIGNED, // 0xe1\n    SIMPLE_UNASSIGNED, // 0xe2\n    SIMPLE_UNASSIGNED, // 0xe3\n    SIMPLE_UNASSIGNED, // 0xe4\n    SIMPLE_UNASSIGNED, // 0xe5\n    SIMPLE_UNASSIGNED, // 0xe6\n    SIMPLE_UNASSIGNED, // 0xe7\n    SIMPLE_UNASSIGNED, // 0xe8\n    SIMPLE_UNASSIGNED, // 0xe9\n    SIMPLE_UNASSIGNED, // 0xea\n    SIMPLE_UNASSIGNED, // 0xeb\n    SIMPLE_UNASSIGNED, // 0xec\n    SIMPLE_UNASSIGNED, // 0xed\n    SIMPLE_UNASSIGNED, // 0xee\n    SIMPLE_UNASSIGNED, // 0xef\n    SIMPLE_UNASSIGNED, // 0xf0\n    SIMPLE_UNASSIGNED, // 0xf1\n    SIMPLE_UNASSIGNED, // 0xf2\n    SIMPLE_UNASSIGNED, // 0xf3\n    // False\n    SIMPLE_FALSE, // 0xf4\n    // True\n    SIMPLE_TRUE, // 0xf5\n    // Null\n    SIMPLE_NULL, // 0xf6\n    // Undefined\n    SIMPLE_UNDEFINED, // 0xf7\n    // (simple value, one byte follows)\n    SIMPLE_BYTE, // 0xf8\n    // Half-Precision Float (two-byte IEEE 754)\n    SIMPLE_FLOAT_HALF, // 0xf9\n    // Single-Precision Float (four-byte IEEE 754)\n    SIMPLE_FLOAT_SINGLE, // 0xfa\n    // Double-Precision Float (eight-byte IEEE 754)\n    SIMPLE_FLOAT_DOUBLE, // 0xfb\n    ERROR, // 0xfc\n    ERROR, // 0xfd\n    ERROR, // 0xfe\n    // \"break\" stop code\n    BREAK // 0xff\n  ]\n\n  // --\n\n  return {\n    parse: parse\n  }\n}\n","'use strict'\n\nconst Bignumber = require('bignumber.js').BigNumber\n\nexports.MT = {\n  POS_INT: 0,\n  NEG_INT: 1,\n  BYTE_STRING: 2,\n  UTF8_STRING: 3,\n  ARRAY: 4,\n  MAP: 5,\n  TAG: 6,\n  SIMPLE_FLOAT: 7\n}\n\nexports.TAG = {\n  DATE_STRING: 0,\n  DATE_EPOCH: 1,\n  POS_BIGINT: 2,\n  NEG_BIGINT: 3,\n  DECIMAL_FRAC: 4,\n  BIGFLOAT: 5,\n  BASE64URL_EXPECTED: 21,\n  BASE64_EXPECTED: 22,\n  BASE16_EXPECTED: 23,\n  CBOR: 24,\n  URI: 32,\n  BASE64URL: 33,\n  BASE64: 34,\n  REGEXP: 35,\n  MIME: 36\n}\n\nexports.NUMBYTES = {\n  ZERO: 0,\n  ONE: 24,\n  TWO: 25,\n  FOUR: 26,\n  EIGHT: 27,\n  INDEFINITE: 31\n}\n\nexports.SIMPLE = {\n  FALSE: 20,\n  TRUE: 21,\n  NULL: 22,\n  UNDEFINED: 23\n}\n\nexports.SYMS = {\n  NULL: Symbol('null'),\n  UNDEFINED: Symbol('undef'),\n  PARENT: Symbol('parent'),\n  BREAK: Symbol('break'),\n  STREAM: Symbol('stream')\n}\n\nexports.SHIFT32 = Math.pow(2, 32)\nexports.SHIFT16 = Math.pow(2, 16)\n\nexports.MAX_SAFE_HIGH = 0x1fffff\nexports.NEG_ONE = new Bignumber(-1)\nexports.TEN = new Bignumber(10)\nexports.TWO = new Bignumber(2)\n\nexports.PARENT = {\n  ARRAY: 0,\n  OBJECT: 1,\n  MAP: 2,\n  TAG: 3,\n  BYTE_STRING: 4,\n  UTF8_STRING: 5\n}\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst Bignumber = require('bignumber.js').BigNumber\n\nconst constants = require('./constants')\nconst SHIFT32 = constants.SHIFT32\nconst SHIFT16 = constants.SHIFT16\nconst MAX_SAFE_HIGH = 0x1fffff\n\nexports.parseHalf = function parseHalf (buf) {\n  var exp, mant, sign\n  sign = buf[0] & 0x80 ? -1 : 1\n  exp = (buf[0] & 0x7C) >> 2\n  mant = ((buf[0] & 0x03) << 8) | buf[1]\n  if (!exp) {\n    return sign * 5.9604644775390625e-8 * mant\n  } else if (exp === 0x1f) {\n    return sign * (mant ? 0 / 0 : 2e308)\n  } else {\n    return sign * Math.pow(2, exp - 25) * (1024 + mant)\n  }\n}\n\nfunction toHex (n) {\n  if (n < 16) {\n    return '0' + n.toString(16)\n  }\n\n  return n.toString(16)\n}\n\nexports.arrayBufferToBignumber = function (buf) {\n  const len = buf.byteLength\n  let res = ''\n  for (let i = 0; i < len; i++) {\n    res += toHex(buf[i])\n  }\n\n  return new Bignumber(res, 16)\n}\n\n// convert an Object into a Map\nexports.buildMap = (obj) => {\n  const res = new Map()\n  const keys = Object.keys(obj)\n  const length = keys.length\n  for (let i = 0; i < length; i++) {\n    res.set(keys[i], obj[keys[i]])\n  }\n  return res\n}\n\nexports.buildInt32 = (f, g) => {\n  return f * SHIFT16 + g\n}\n\nexports.buildInt64 = (f1, f2, g1, g2) => {\n  const f = exports.buildInt32(f1, f2)\n  const g = exports.buildInt32(g1, g2)\n\n  if (f > MAX_SAFE_HIGH) {\n    return new Bignumber(f).times(SHIFT32).plus(g)\n  } else {\n    return (f * SHIFT32) + g\n  }\n}\n\nexports.writeHalf = function writeHalf (buf, half) {\n  // assume 0, -0, NaN, Infinity, and -Infinity have already been caught\n\n  // HACK: everyone settle in.  This isn't going to be pretty.\n  // Translate cn-cbor's C code (from Carsten Borman):\n\n  // uint32_t be32;\n  // uint16_t be16, u16;\n  // union {\n  //   float f;\n  //   uint32_t u;\n  // } u32;\n  // u32.f = float_val;\n\n  const u32 = Buffer.allocUnsafe(4)\n  u32.writeFloatBE(half, 0)\n  const u = u32.readUInt32BE(0)\n\n  // if ((u32.u & 0x1FFF) == 0) { /* worth trying half */\n\n  // hildjj: If the lower 13 bits are 0, we won't lose anything in the conversion\n  if ((u & 0x1FFF) !== 0) {\n    return false\n  }\n\n  //   int s16 = (u32.u >> 16) & 0x8000;\n  //   int exp = (u32.u >> 23) & 0xff;\n  //   int mant = u32.u & 0x7fffff;\n\n  var s16 = (u >> 16) & 0x8000 // top bit is sign\n  const exp = (u >> 23) & 0xff // then 5 bits of exponent\n  const mant = u & 0x7fffff\n\n  //   if (exp == 0 && mant == 0)\n  //     ;              /* 0.0, -0.0 */\n\n  // hildjj: zeros already handled.  Assert if you don't believe me.\n\n  //   else if (exp >= 113 && exp <= 142) /* normalized */\n  //     s16 += ((exp - 112) << 10) + (mant >> 13);\n  if ((exp >= 113) && (exp <= 142)) {\n    s16 += ((exp - 112) << 10) + (mant >> 13)\n\n  //   else if (exp >= 103 && exp < 113) { /* denorm, exp16 = 0 */\n  //     if (mant & ((1 << (126 - exp)) - 1))\n  //       goto float32;         /* loss of precision */\n  //     s16 += ((mant + 0x800000) >> (126 - exp));\n  } else if ((exp >= 103) && (exp < 113)) {\n    if (mant & ((1 << (126 - exp)) - 1)) {\n      return false\n    }\n    s16 += ((mant + 0x800000) >> (126 - exp))\n\n    //   } else if (exp == 255 && mant == 0) { /* Inf */\n    //     s16 += 0x7c00;\n\n    // hildjj: Infinity already handled\n\n  //   } else\n  //     goto float32;           /* loss of range */\n  } else {\n    return false\n  }\n\n  //   ensure_writable(3);\n  //   u16 = s16;\n  //   be16 = hton16p((const uint8_t*)&u16);\n  buf.writeUInt16BE(s16, 0)\n  return true\n}\n\nexports.keySorter = function (a, b) {\n  var lenA = a[0].byteLength\n  var lenB = b[0].byteLength\n\n  if (lenA > lenB) {\n    return 1\n  }\n\n  if (lenB > lenA) {\n    return -1\n  }\n\n  return a[0].compare(b[0])\n}\n\n// Adapted from http://www.2ality.com/2012/03/signedzero.html\nexports.isNegativeZero = (x) => {\n  return x === 0 && (1 / x < 0)\n}\n\nexports.nextPowerOf2 = (n) => {\n  let count = 0\n  // First n in the below condition is for\n  // the case where n is 0\n  if (n && !(n & (n - 1))) {\n    return n\n  }\n\n  while (n !== 0) {\n    n >>= 1\n    count += 1\n  }\n\n  return 1 << count\n}\n","'use strict'\n\nconst constants = require('./constants')\nconst MT = constants.MT\nconst SIMPLE = constants.SIMPLE\nconst SYMS = constants.SYMS\n\n/**\n * A CBOR Simple Value that does not map onto a known constant.\n */\nclass Simple {\n  /**\n   * Creates an instance of Simple.\n   *\n   * @param {integer} value - the simple value's integer value\n   */\n  constructor (value) {\n    if (typeof value !== 'number') {\n      throw new Error('Invalid Simple type: ' + (typeof value))\n    }\n    if ((value < 0) || (value > 255) || ((value | 0) !== value)) {\n      throw new Error('value must be a small positive integer: ' + value)\n    }\n    this.value = value\n  }\n\n  /**\n   * Debug string for simple value\n   *\n   * @returns {string} simple(value)\n   */\n  toString () {\n    return 'simple(' + this.value + ')'\n  }\n\n  /**\n   * Debug string for simple value\n   *\n   * @returns {string} simple(value)\n   */\n  inspect () {\n    return 'simple(' + this.value + ')'\n  }\n\n  /**\n   * Push the simple value onto the CBOR stream\n   *\n   * @param {cbor.Encoder} gen The generator to push onto\n   * @returns {number}\n   */\n  encodeCBOR (gen) {\n    return gen._pushInt(this.value, MT.SIMPLE_FLOAT)\n  }\n\n  /**\n   * Is the given object a Simple?\n   *\n   * @param {any} obj - object to test\n   * @returns {bool} - is it Simple?\n   */\n  static isSimple (obj) {\n    return obj instanceof Simple\n  }\n\n  /**\n   * Decode from the CBOR additional information into a JavaScript value.\n   * If the CBOR item has no parent, return a \"safe\" symbol instead of\n   * `null` or `undefined`, so that the value can be passed through a\n   * stream in object mode.\n   *\n   * @param {Number} val - the CBOR additional info to convert\n   * @param {bool} hasParent - Does the CBOR item have a parent?\n   * @returns {(null|undefined|Boolean|Symbol)} - the decoded value\n   */\n  static decode (val, hasParent) {\n    if (hasParent == null) {\n      hasParent = true\n    }\n    switch (val) {\n      case SIMPLE.FALSE:\n        return false\n      case SIMPLE.TRUE:\n        return true\n      case SIMPLE.NULL:\n        if (hasParent) {\n          return null\n        } else {\n          return SYMS.NULL\n        }\n      case SIMPLE.UNDEFINED:\n        if (hasParent) {\n          return undefined\n        } else {\n          return SYMS.UNDEFINED\n        }\n      case -1:\n        if (!hasParent) {\n          throw new Error('Invalid BREAK')\n        }\n        return SYMS.BREAK\n      default:\n        return new Simple(val)\n    }\n  }\n}\n\nmodule.exports = Simple\n","'use strict'\n\n/**\n * A CBOR tagged item, where the tag does not have semantics specified at the\n * moment, or those semantics threw an error during parsing. Typically this will\n * be an extension point you're not yet expecting.\n */\nclass Tagged {\n  /**\n   * Creates an instance of Tagged.\n   *\n   * @param {Number} tag - the number of the tag\n   * @param {any} value - the value inside the tag\n   * @param {Error} err - the error that was thrown parsing the tag, or null\n   */\n  constructor (tag, value, err) {\n    this.tag = tag\n    this.value = value\n    this.err = err\n    if (typeof this.tag !== 'number') {\n      throw new Error('Invalid tag type (' + (typeof this.tag) + ')')\n    }\n    if ((this.tag < 0) || ((this.tag | 0) !== this.tag)) {\n      throw new Error('Tag must be a positive integer: ' + this.tag)\n    }\n  }\n\n  /**\n   * Convert to a String\n   *\n   * @returns {String} string of the form '1(2)'\n   */\n  toString () {\n    return `${this.tag}(${JSON.stringify(this.value)})`\n  }\n\n  /**\n   * Push the simple value onto the CBOR stream\n   *\n   * @param {cbor.Encoder} gen The generator to push onto\n   * @returns {number}\n   */\n  encodeCBOR (gen) {\n    gen._pushTag(this.tag)\n    return gen.pushAny(this.value)\n  }\n\n  /**\n   * If we have a converter for this type, do the conversion.  Some converters\n   * are built-in.  Additional ones can be passed in.  If you want to remove\n   * a built-in converter, pass a converter in whose value is 'null' instead\n   * of a function.\n   *\n   * @param {Object} converters - keys in the object are a tag number, the value\n   *   is a function that takes the decoded CBOR and returns a JavaScript value\n   *   of the appropriate type.  Throw an exception in the function on errors.\n   * @returns {any} - the converted item\n   */\n  convert (converters) {\n    var er, f\n    f = converters != null ? converters[this.tag] : undefined\n    if (typeof f !== 'function') {\n      f = Tagged['_tag' + this.tag]\n      if (typeof f !== 'function') {\n        return this\n      }\n    }\n    try {\n      return f.call(Tagged, this.value)\n    } catch (error) {\n      er = error\n      this.err = er\n      return this\n    }\n  }\n}\n\nmodule.exports = Tagged\n","'use strict';\n\nconst defaultBase = self.location ?\n    self.location.protocol + '//' + self.location.host :\n    '';\nconst URL = self.URL;\n\nclass URLWithLegacySupport {\n    constructor(url = '', base = defaultBase) {\n        this.super = new URL(url, base);\n        this.path = this.pathname + this.search;\n        this.auth =\n            this.username && this.password ?\n                this.username + ':' + this.password :\n                null;\n\n        this.query =\n            this.search && this.search.startsWith('?') ?\n                this.search.slice(1) :\n                null;\n    }\n\n    get hash() {\n        return this.super.hash;\n    }\n    get host() {\n        return this.super.host;\n    }\n    get hostname() {\n        return this.super.hostname;\n    }\n    get href() {\n        return this.super.href;\n    }\n    get origin() {\n        return this.super.origin;\n    }\n    get password() {\n        return this.super.password;\n    }\n    get pathname() {\n        return this.super.pathname;\n    }\n    get port() {\n        return this.super.port;\n    }\n    get protocol() {\n        return this.super.protocol;\n    }\n    get search() {\n        return this.super.search;\n    }\n    get searchParams() {\n        return this.super.searchParams;\n    }\n    get username() {\n        return this.super.username;\n    }\n\n    set hash(hash) {\n        this.super.hash = hash;\n    }\n    set host(host) {\n        this.super.host = host;\n    }\n    set hostname(hostname) {\n        this.super.hostname = hostname;\n    }\n    set href(href) {\n        this.super.href = href;\n    }\n    set origin(origin) {\n        this.super.origin = origin;\n    }\n    set password(password) {\n        this.super.password = password;\n    }\n    set pathname(pathname) {\n        this.super.pathname = pathname;\n    }\n    set port(port) {\n        this.super.port = port;\n    }\n    set protocol(protocol) {\n        this.super.protocol = protocol;\n    }\n    set search(search) {\n        this.super.search = search;\n    }\n    set searchParams(searchParams) {\n        this.super.searchParams = searchParams;\n    }\n    set username(username) {\n        this.super.username = username;\n    }\n\n    createObjectURL(o) {\n        return this.super.createObjectURL(o);\n    }\n    revokeObjectURL(o) {\n        this.super.revokeObjectURL(o);\n    }\n    toJSON() {\n        return this.super.toJSON();\n    }\n    toString() {\n        return this.super.toString();\n    }\n    format() {\n        return this.toString();\n    }\n}\n\nfunction format(obj) {\n    if (typeof obj === 'string') {\n        const url = new URL(obj);\n\n        return url.toString();\n    }\n\n    if (!(obj instanceof URL)) {\n        const userPass =\n            obj.username && obj.password ?\n                `${obj.username}:${obj.password}@` :\n                '';\n        const auth = obj.auth ? obj.auth + '@' : '';\n        const port = obj.port ? ':' + obj.port : '';\n        const protocol = obj.protocol ? obj.protocol + '//' : '';\n        const host = obj.host || '';\n        const hostname = obj.hostname || '';\n        const search = obj.search || (obj.query ? '?' + obj.query : '');\n        const hash = obj.hash || '';\n        const pathname = obj.pathname || '';\n        const path = obj.path || pathname + search;\n\n        return `${protocol}${userPass || auth}${host ||\n            hostname + port}${path}${hash}`;\n    }\n}\n\nmodule.exports = {\n    URLWithLegacySupport,\n    URLSearchParams: self.URLSearchParams,\n    defaultBase,\n    format\n};\n","'use strict';\n\nconst { URLWithLegacySupport, format } = require('./url');\n\nmodule.exports = (url, location = {}, protocolMap = {}, defaultProtocol) => {\n    let protocol = location.protocol ?\n        location.protocol.replace(':', '') :\n        'http';\n\n    // Check protocol map\n    protocol = (protocolMap[protocol] || defaultProtocol || protocol) + ':';\n    let urlParsed;\n\n    try {\n        urlParsed = new URLWithLegacySupport(url);\n    } catch (err) {\n        urlParsed = {};\n    }\n\n    const base = Object.assign({}, location, {\n        protocol: protocol || urlParsed.protocol,\n        host: location.host || urlParsed.host\n    });\n\n    return new URLWithLegacySupport(url, format(base)).toString();\n};\n","'use strict';\n\nconst {\n    URLWithLegacySupport,\n    format,\n    URLSearchParams,\n    defaultBase\n} = require('./src/url');\nconst relative = require('./src/relative');\n\nmodule.exports = {\n    URL: URLWithLegacySupport,\n    URLSearchParams,\n    format,\n    relative,\n    defaultBase\n};\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst ieee754 = require('ieee754')\nconst Bignumber = require('bignumber.js').BigNumber\n\nconst parser = require('./decoder.asm')\nconst utils = require('./utils')\nconst c = require('./constants')\nconst Simple = require('./simple')\nconst Tagged = require('./tagged')\nconst { URL } = require('iso-url')\n\n/**\n * Transform binary cbor data into JavaScript objects.\n */\nclass Decoder {\n  /**\n   * @param {Object} [opts={}]\n   * @param {number} [opts.size=65536] - Size of the allocated heap.\n   */\n  constructor (opts) {\n    opts = opts || {}\n\n    if (!opts.size || opts.size < 0x10000) {\n      opts.size = 0x10000\n    } else {\n      // Ensure the size is a power of 2\n      opts.size = utils.nextPowerOf2(opts.size)\n    }\n\n    // Heap use to share the input with the parser\n    this._heap = new ArrayBuffer(opts.size)\n    this._heap8 = new Uint8Array(this._heap)\n    this._buffer = Buffer.from(this._heap)\n\n    this._reset()\n\n    // Known tags\n    this._knownTags = Object.assign({\n      0: (val) => new Date(val),\n      1: (val) => new Date(val * 1000),\n      2: (val) => utils.arrayBufferToBignumber(val),\n      3: (val) => c.NEG_ONE.minus(utils.arrayBufferToBignumber(val)),\n      4: (v) => {\n        // const v = new Uint8Array(val)\n        return c.TEN.pow(v[0]).times(v[1])\n      },\n      5: (v) => {\n        // const v = new Uint8Array(val)\n        return c.TWO.pow(v[0]).times(v[1])\n      },\n      32: (val) => new URL(val),\n      35: (val) => new RegExp(val)\n    }, opts.tags)\n\n    // Initialize asm based parser\n    this.parser = parser(global, {\n      // eslint-disable-next-line no-console\n      log: console.log.bind(console),\n      pushInt: this.pushInt.bind(this),\n      pushInt32: this.pushInt32.bind(this),\n      pushInt32Neg: this.pushInt32Neg.bind(this),\n      pushInt64: this.pushInt64.bind(this),\n      pushInt64Neg: this.pushInt64Neg.bind(this),\n      pushFloat: this.pushFloat.bind(this),\n      pushFloatSingle: this.pushFloatSingle.bind(this),\n      pushFloatDouble: this.pushFloatDouble.bind(this),\n      pushTrue: this.pushTrue.bind(this),\n      pushFalse: this.pushFalse.bind(this),\n      pushUndefined: this.pushUndefined.bind(this),\n      pushNull: this.pushNull.bind(this),\n      pushInfinity: this.pushInfinity.bind(this),\n      pushInfinityNeg: this.pushInfinityNeg.bind(this),\n      pushNaN: this.pushNaN.bind(this),\n      pushNaNNeg: this.pushNaNNeg.bind(this),\n      pushArrayStart: this.pushArrayStart.bind(this),\n      pushArrayStartFixed: this.pushArrayStartFixed.bind(this),\n      pushArrayStartFixed32: this.pushArrayStartFixed32.bind(this),\n      pushArrayStartFixed64: this.pushArrayStartFixed64.bind(this),\n      pushObjectStart: this.pushObjectStart.bind(this),\n      pushObjectStartFixed: this.pushObjectStartFixed.bind(this),\n      pushObjectStartFixed32: this.pushObjectStartFixed32.bind(this),\n      pushObjectStartFixed64: this.pushObjectStartFixed64.bind(this),\n      pushByteString: this.pushByteString.bind(this),\n      pushByteStringStart: this.pushByteStringStart.bind(this),\n      pushUtf8String: this.pushUtf8String.bind(this),\n      pushUtf8StringStart: this.pushUtf8StringStart.bind(this),\n      pushSimpleUnassigned: this.pushSimpleUnassigned.bind(this),\n      pushTagUnassigned: this.pushTagUnassigned.bind(this),\n      pushTagStart: this.pushTagStart.bind(this),\n      pushTagStart4: this.pushTagStart4.bind(this),\n      pushTagStart8: this.pushTagStart8.bind(this),\n      pushBreak: this.pushBreak.bind(this)\n    }, this._heap)\n  }\n\n  get _depth () {\n    return this._parents.length\n  }\n\n  get _currentParent () {\n    return this._parents[this._depth - 1]\n  }\n\n  get _ref () {\n    return this._currentParent.ref\n  }\n\n  // Finish the current parent\n  _closeParent () {\n    var p = this._parents.pop()\n\n    if (p.length > 0) {\n      throw new Error(`Missing ${p.length} elements`)\n    }\n\n    switch (p.type) {\n      case c.PARENT.TAG:\n        this._push(\n          this.createTag(p.ref[0], p.ref[1])\n        )\n        break\n      case c.PARENT.BYTE_STRING:\n        this._push(this.createByteString(p.ref, p.length))\n        break\n      case c.PARENT.UTF8_STRING:\n        this._push(this.createUtf8String(p.ref, p.length))\n        break\n      case c.PARENT.MAP:\n        if (p.values % 2 > 0) {\n          throw new Error('Odd number of elements in the map')\n        }\n        this._push(this.createMap(p.ref, p.length))\n        break\n      case c.PARENT.OBJECT:\n        if (p.values % 2 > 0) {\n          throw new Error('Odd number of elements in the map')\n        }\n        this._push(this.createObject(p.ref, p.length))\n        break\n      case c.PARENT.ARRAY:\n        this._push(this.createArray(p.ref, p.length))\n        break\n      default:\n        break\n    }\n\n    if (this._currentParent && this._currentParent.type === c.PARENT.TAG) {\n      this._dec()\n    }\n  }\n\n  // Reduce the expected length of the current parent by one\n  _dec () {\n    const p = this._currentParent\n    // The current parent does not know the epxected child length\n\n    if (p.length < 0) {\n      return\n    }\n\n    p.length--\n\n    // All children were seen, we can close the current parent\n    if (p.length === 0) {\n      this._closeParent()\n    }\n  }\n\n  // Push any value to the current parent\n  _push (val, hasChildren) {\n    const p = this._currentParent\n    p.values++\n\n    switch (p.type) {\n      case c.PARENT.ARRAY:\n      case c.PARENT.BYTE_STRING:\n      case c.PARENT.UTF8_STRING:\n        if (p.length > -1) {\n          this._ref[this._ref.length - p.length] = val\n        } else {\n          this._ref.push(val)\n        }\n        this._dec()\n        break\n      case c.PARENT.OBJECT:\n        if (p.tmpKey != null) {\n          this._ref[p.tmpKey] = val\n          p.tmpKey = null\n          this._dec()\n        } else {\n          p.tmpKey = val\n\n          if (typeof p.tmpKey !== 'string') {\n            // too bad, convert to a Map\n            p.type = c.PARENT.MAP\n            p.ref = utils.buildMap(p.ref)\n          }\n        }\n        break\n      case c.PARENT.MAP:\n        if (p.tmpKey != null) {\n          this._ref.set(p.tmpKey, val)\n          p.tmpKey = null\n          this._dec()\n        } else {\n          p.tmpKey = val\n        }\n        break\n      case c.PARENT.TAG:\n        this._ref.push(val)\n        if (!hasChildren) {\n          this._dec()\n        }\n        break\n      default:\n        throw new Error('Unknown parent type')\n    }\n  }\n\n  // Create a new parent in the parents list\n  _createParent (obj, type, len) {\n    this._parents[this._depth] = {\n      type: type,\n      length: len,\n      ref: obj,\n      values: 0,\n      tmpKey: null\n    }\n  }\n\n  // Reset all state back to the beginning, also used for initiatlization\n  _reset () {\n    this._res = []\n    this._parents = [{\n      type: c.PARENT.ARRAY,\n      length: -1,\n      ref: this._res,\n      values: 0,\n      tmpKey: null\n    }]\n  }\n\n  // -- Interface to customize deoding behaviour\n  createTag (tagNumber, value) {\n    const typ = this._knownTags[tagNumber]\n\n    if (!typ) {\n      return new Tagged(tagNumber, value)\n    }\n\n    return typ(value)\n  }\n\n  createMap (obj, len) {\n    return obj\n  }\n\n  createObject (obj, len) {\n    return obj\n  }\n\n  createArray (arr, len) {\n    return arr\n  }\n\n  createByteString (raw, len) {\n    return Buffer.concat(raw)\n  }\n\n  createByteStringFromHeap (start, end) {\n    if (start === end) {\n      return Buffer.alloc(0)\n    }\n\n    return Buffer.from(this._heap.slice(start, end))\n  }\n\n  createInt (val) {\n    return val\n  }\n\n  createInt32 (f, g) {\n    return utils.buildInt32(f, g)\n  }\n\n  createInt64 (f1, f2, g1, g2) {\n    return utils.buildInt64(f1, f2, g1, g2)\n  }\n\n  createFloat (val) {\n    return val\n  }\n\n  createFloatSingle (a, b, c, d) {\n    return ieee754.read([a, b, c, d], 0, false, 23, 4)\n  }\n\n  createFloatDouble (a, b, c, d, e, f, g, h) {\n    return ieee754.read([a, b, c, d, e, f, g, h], 0, false, 52, 8)\n  }\n\n  createInt32Neg (f, g) {\n    return -1 - utils.buildInt32(f, g)\n  }\n\n  createInt64Neg (f1, f2, g1, g2) {\n    const f = utils.buildInt32(f1, f2)\n    const g = utils.buildInt32(g1, g2)\n\n    if (f > c.MAX_SAFE_HIGH) {\n      return c.NEG_ONE.minus(new Bignumber(f).times(c.SHIFT32).plus(g))\n    }\n\n    return -1 - ((f * c.SHIFT32) + g)\n  }\n\n  createTrue () {\n    return true\n  }\n\n  createFalse () {\n    return false\n  }\n\n  createNull () {\n    return null\n  }\n\n  createUndefined () {\n    return undefined\n  }\n\n  createInfinity () {\n    return Infinity\n  }\n\n  createInfinityNeg () {\n    return -Infinity\n  }\n\n  createNaN () {\n    return NaN\n  }\n\n  createNaNNeg () {\n    return -NaN\n  }\n\n  createUtf8String (raw, len) {\n    return raw.join('')\n  }\n\n  createUtf8StringFromHeap (start, end) {\n    if (start === end) {\n      return ''\n    }\n\n    return this._buffer.toString('utf8', start, end)\n  }\n\n  createSimpleUnassigned (val) {\n    return new Simple(val)\n  }\n\n  // -- Interface for decoder.asm.js\n\n  pushInt (val) {\n    this._push(this.createInt(val))\n  }\n\n  pushInt32 (f, g) {\n    this._push(this.createInt32(f, g))\n  }\n\n  pushInt64 (f1, f2, g1, g2) {\n    this._push(this.createInt64(f1, f2, g1, g2))\n  }\n\n  pushFloat (val) {\n    this._push(this.createFloat(val))\n  }\n\n  pushFloatSingle (a, b, c, d) {\n    this._push(this.createFloatSingle(a, b, c, d))\n  }\n\n  pushFloatDouble (a, b, c, d, e, f, g, h) {\n    this._push(this.createFloatDouble(a, b, c, d, e, f, g, h))\n  }\n\n  pushInt32Neg (f, g) {\n    this._push(this.createInt32Neg(f, g))\n  }\n\n  pushInt64Neg (f1, f2, g1, g2) {\n    this._push(this.createInt64Neg(f1, f2, g1, g2))\n  }\n\n  pushTrue () {\n    this._push(this.createTrue())\n  }\n\n  pushFalse () {\n    this._push(this.createFalse())\n  }\n\n  pushNull () {\n    this._push(this.createNull())\n  }\n\n  pushUndefined () {\n    this._push(this.createUndefined())\n  }\n\n  pushInfinity () {\n    this._push(this.createInfinity())\n  }\n\n  pushInfinityNeg () {\n    this._push(this.createInfinityNeg())\n  }\n\n  pushNaN () {\n    this._push(this.createNaN())\n  }\n\n  pushNaNNeg () {\n    this._push(this.createNaNNeg())\n  }\n\n  pushArrayStart () {\n    this._createParent([], c.PARENT.ARRAY, -1)\n  }\n\n  pushArrayStartFixed (len) {\n    this._createArrayStartFixed(len)\n  }\n\n  pushArrayStartFixed32 (len1, len2) {\n    const len = utils.buildInt32(len1, len2)\n    this._createArrayStartFixed(len)\n  }\n\n  pushArrayStartFixed64 (len1, len2, len3, len4) {\n    const len = utils.buildInt64(len1, len2, len3, len4)\n    this._createArrayStartFixed(len)\n  }\n\n  pushObjectStart () {\n    this._createObjectStartFixed(-1)\n  }\n\n  pushObjectStartFixed (len) {\n    this._createObjectStartFixed(len)\n  }\n\n  pushObjectStartFixed32 (len1, len2) {\n    const len = utils.buildInt32(len1, len2)\n    this._createObjectStartFixed(len)\n  }\n\n  pushObjectStartFixed64 (len1, len2, len3, len4) {\n    const len = utils.buildInt64(len1, len2, len3, len4)\n    this._createObjectStartFixed(len)\n  }\n\n  pushByteStringStart () {\n    this._parents[this._depth] = {\n      type: c.PARENT.BYTE_STRING,\n      length: -1,\n      ref: [],\n      values: 0,\n      tmpKey: null\n    }\n  }\n\n  pushByteString (start, end) {\n    this._push(this.createByteStringFromHeap(start, end))\n  }\n\n  pushUtf8StringStart () {\n    this._parents[this._depth] = {\n      type: c.PARENT.UTF8_STRING,\n      length: -1,\n      ref: [],\n      values: 0,\n      tmpKey: null\n    }\n  }\n\n  pushUtf8String (start, end) {\n    this._push(this.createUtf8StringFromHeap(start, end))\n  }\n\n  pushSimpleUnassigned (val) {\n    this._push(this.createSimpleUnassigned(val))\n  }\n\n  pushTagStart (tag) {\n    this._parents[this._depth] = {\n      type: c.PARENT.TAG,\n      length: 1,\n      ref: [tag]\n    }\n  }\n\n  pushTagStart4 (f, g) {\n    this.pushTagStart(utils.buildInt32(f, g))\n  }\n\n  pushTagStart8 (f1, f2, g1, g2) {\n    this.pushTagStart(utils.buildInt64(f1, f2, g1, g2))\n  }\n\n  pushTagUnassigned (tagNumber) {\n    this._push(this.createTag(tagNumber))\n  }\n\n  pushBreak () {\n    if (this._currentParent.length > -1) {\n      throw new Error('Unexpected break')\n    }\n\n    this._closeParent()\n  }\n\n  _createObjectStartFixed (len) {\n    if (len === 0) {\n      this._push(this.createObject({}))\n      return\n    }\n\n    this._createParent({}, c.PARENT.OBJECT, len)\n  }\n\n  _createArrayStartFixed (len) {\n    if (len === 0) {\n      this._push(this.createArray([]))\n      return\n    }\n\n    this._createParent(new Array(len), c.PARENT.ARRAY, len)\n  }\n\n  _decode (input) {\n    if (input.byteLength === 0) {\n      throw new Error('Input too short')\n    }\n\n    this._reset()\n    this._heap8.set(input)\n    const code = this.parser.parse(input.byteLength)\n\n    if (this._depth > 1) {\n      while (this._currentParent.length === 0) {\n        this._closeParent()\n      }\n      if (this._depth > 1) {\n        throw new Error('Undeterminated nesting')\n      }\n    }\n\n    if (code > 0) {\n      throw new Error('Failed to parse')\n    }\n\n    if (this._res.length === 0) {\n      throw new Error('No valid result')\n    }\n  }\n\n  // -- Public Interface\n\n  decodeFirst (input) {\n    this._decode(input)\n\n    return this._res[0]\n  }\n\n  decodeAll (input) {\n    this._decode(input)\n\n    return this._res\n  }\n\n  /**\n   * Decode the first cbor object.\n   *\n   * @param {Buffer|string} input\n   * @param {string} [enc='hex'] - Encoding used if a string is passed.\n   * @returns {*}\n   */\n  static decode (input, enc) {\n    if (typeof input === 'string') {\n      input = Buffer.from(input, enc || 'hex')\n    }\n\n    const dec = new Decoder({ size: input.length })\n    return dec.decodeFirst(input)\n  }\n\n  /**\n   * Decode all cbor objects.\n   *\n   * @param {Buffer|string} input\n   * @param {string} [enc='hex'] - Encoding used if a string is passed.\n   * @returns {Array<*>}\n   */\n  static decodeAll (input, enc) {\n    if (typeof input === 'string') {\n      input = Buffer.from(input, enc || 'hex')\n    }\n\n    const dec = new Decoder({ size: input.length })\n    return dec.decodeAll(input)\n  }\n}\n\nDecoder.decodeFirst = Decoder.decode\n\nmodule.exports = Decoder\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst Decoder = require('./decoder')\nconst utils = require('./utils')\n\n/**\n * Output the diagnostic format from a stream of CBOR bytes.\n *\n */\nclass Diagnose extends Decoder {\n  createTag (tagNumber, value) {\n    return `${tagNumber}(${value})`\n  }\n\n  createInt (val) {\n    return super.createInt(val).toString()\n  }\n\n  createInt32 (f, g) {\n    return super.createInt32(f, g).toString()\n  }\n\n  createInt64 (f1, f2, g1, g2) {\n    return super.createInt64(f1, f2, g1, g2).toString()\n  }\n\n  createInt32Neg (f, g) {\n    return super.createInt32Neg(f, g).toString()\n  }\n\n  createInt64Neg (f1, f2, g1, g2) {\n    return super.createInt64Neg(f1, f2, g1, g2).toString()\n  }\n\n  createTrue () {\n    return 'true'\n  }\n\n  createFalse () {\n    return 'false'\n  }\n\n  createFloat (val) {\n    const fl = super.createFloat(val)\n    if (utils.isNegativeZero(val)) {\n      return '-0_1'\n    }\n\n    return `${fl}_1`\n  }\n\n  createFloatSingle (a, b, c, d) {\n    const fl = super.createFloatSingle(a, b, c, d)\n    return `${fl}_2`\n  }\n\n  createFloatDouble (a, b, c, d, e, f, g, h) {\n    const fl = super.createFloatDouble(a, b, c, d, e, f, g, h)\n    return `${fl}_3`\n  }\n\n  createByteString (raw, len) {\n    const val = raw.join(', ')\n\n    if (len === -1) {\n      return `(_ ${val})`\n    }\n    return `h'${val}`\n  }\n\n  createByteStringFromHeap (start, end) {\n    const val = (Buffer.from(\n      super.createByteStringFromHeap(start, end)\n    )).toString('hex')\n\n    return `h'${val}'`\n  }\n\n  createInfinity () {\n    return 'Infinity_1'\n  }\n\n  createInfinityNeg () {\n    return '-Infinity_1'\n  }\n\n  createNaN () {\n    return 'NaN_1'\n  }\n\n  createNaNNeg () {\n    return '-NaN_1'\n  }\n\n  createNull () {\n    return 'null'\n  }\n\n  createUndefined () {\n    return 'undefined'\n  }\n\n  createSimpleUnassigned (val) {\n    return `simple(${val})`\n  }\n\n  createArray (arr, len) {\n    const val = super.createArray(arr, len)\n\n    if (len === -1) {\n      // indefinite\n      return `[_ ${val.join(', ')}]`\n    }\n\n    return `[${val.join(', ')}]`\n  }\n\n  createMap (map, len) {\n    const val = super.createMap(map)\n    const list = Array.from(val.keys())\n      .reduce(collectObject(val), '')\n\n    if (len === -1) {\n      return `{_ ${list}}`\n    }\n\n    return `{${list}}`\n  }\n\n  createObject (obj, len) {\n    const val = super.createObject(obj)\n    const map = Object.keys(val)\n      .reduce(collectObject(val), '')\n\n    if (len === -1) {\n      return `{_ ${map}}`\n    }\n\n    return `{${map}}`\n  }\n\n  createUtf8String (raw, len) {\n    const val = raw.join(', ')\n\n    if (len === -1) {\n      return `(_ ${val})`\n    }\n\n    return `\"${val}\"`\n  }\n\n  createUtf8StringFromHeap (start, end) {\n    const val = (Buffer.from(\n      super.createUtf8StringFromHeap(start, end)\n    )).toString('utf8')\n\n    return `\"${val}\"`\n  }\n\n  static diagnose (input, enc) {\n    if (typeof input === 'string') {\n      input = Buffer.from(input, enc || 'hex')\n    }\n\n    const dec = new Diagnose()\n    return dec.decodeFirst(input)\n  }\n}\n\nmodule.exports = Diagnose\n\nfunction collectObject (val) {\n  return (acc, key) => {\n    if (acc) {\n      return `${acc}, ${key}: ${val[key]}`\n    }\n    return `${key}: ${val[key]}`\n  }\n}\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst { URL } = require('iso-url')\nconst Bignumber = require('bignumber.js').BigNumber\n\nconst utils = require('./utils')\nconst constants = require('./constants')\nconst MT = constants.MT\nconst NUMBYTES = constants.NUMBYTES\nconst SHIFT32 = constants.SHIFT32\nconst SYMS = constants.SYMS\nconst TAG = constants.TAG\nconst HALF = (constants.MT.SIMPLE_FLOAT << 5) | constants.NUMBYTES.TWO\nconst FLOAT = (constants.MT.SIMPLE_FLOAT << 5) | constants.NUMBYTES.FOUR\nconst DOUBLE = (constants.MT.SIMPLE_FLOAT << 5) | constants.NUMBYTES.EIGHT\nconst TRUE = (constants.MT.SIMPLE_FLOAT << 5) | constants.SIMPLE.TRUE\nconst FALSE = (constants.MT.SIMPLE_FLOAT << 5) | constants.SIMPLE.FALSE\nconst UNDEFINED = (constants.MT.SIMPLE_FLOAT << 5) | constants.SIMPLE.UNDEFINED\nconst NULL = (constants.MT.SIMPLE_FLOAT << 5) | constants.SIMPLE.NULL\n\nconst MAXINT_BN = new Bignumber('0x20000000000000')\nconst BUF_NAN = Buffer.from('f97e00', 'hex')\nconst BUF_INF_NEG = Buffer.from('f9fc00', 'hex')\nconst BUF_INF_POS = Buffer.from('f97c00', 'hex')\n\nfunction toType (obj) {\n  // [object Type]\n  // --------8---1\n  return ({}).toString.call(obj).slice(8, -1)\n}\n\n/**\n * Transform JavaScript values into CBOR bytes\n *\n */\nclass Encoder {\n  /**\n   * @param {Object} [options={}]\n   * @param {function(Buffer)} options.stream\n   */\n  constructor (options) {\n    options = options || {}\n\n    this.streaming = typeof options.stream === 'function'\n    this.onData = options.stream\n\n    this.semanticTypes = [\n      [URL, this._pushUrl],\n      [Bignumber, this._pushBigNumber]\n    ]\n\n    const addTypes = options.genTypes || []\n    const len = addTypes.length\n    for (let i = 0; i < len; i++) {\n      this.addSemanticType(\n        addTypes[i][0],\n        addTypes[i][1]\n      )\n    }\n\n    this._reset()\n  }\n\n  addSemanticType (type, fun) {\n    const len = this.semanticTypes.length\n    for (let i = 0; i < len; i++) {\n      const typ = this.semanticTypes[i][0]\n      if (typ === type) {\n        const old = this.semanticTypes[i][1]\n        this.semanticTypes[i][1] = fun\n        return old\n      }\n    }\n    this.semanticTypes.push([type, fun])\n    return null\n  }\n\n  push (val) {\n    if (!val) {\n      return true\n    }\n\n    this.result[this.offset] = val\n    this.resultMethod[this.offset] = 0\n    this.resultLength[this.offset] = val.length\n    this.offset++\n\n    if (this.streaming) {\n      this.onData(this.finalize())\n    }\n\n    return true\n  }\n\n  pushWrite (val, method, len) {\n    this.result[this.offset] = val\n    this.resultMethod[this.offset] = method\n    this.resultLength[this.offset] = len\n    this.offset++\n\n    if (this.streaming) {\n      this.onData(this.finalize())\n    }\n\n    return true\n  }\n\n  _pushUInt8 (val) {\n    return this.pushWrite(val, 1, 1)\n  }\n\n  _pushUInt16BE (val) {\n    return this.pushWrite(val, 2, 2)\n  }\n\n  _pushUInt32BE (val) {\n    return this.pushWrite(val, 3, 4)\n  }\n\n  _pushDoubleBE (val) {\n    return this.pushWrite(val, 4, 8)\n  }\n\n  _pushNaN () {\n    return this.push(BUF_NAN)\n  }\n\n  _pushInfinity (obj) {\n    const half = (obj < 0) ? BUF_INF_NEG : BUF_INF_POS\n    return this.push(half)\n  }\n\n  _pushFloat (obj) {\n    const b2 = Buffer.allocUnsafe(2)\n\n    if (utils.writeHalf(b2, obj)) {\n      if (utils.parseHalf(b2) === obj) {\n        return this._pushUInt8(HALF) && this.push(b2)\n      }\n    }\n\n    const b4 = Buffer.allocUnsafe(4)\n    b4.writeFloatBE(obj, 0)\n    if (b4.readFloatBE(0) === obj) {\n      return this._pushUInt8(FLOAT) && this.push(b4)\n    }\n\n    return this._pushUInt8(DOUBLE) && this._pushDoubleBE(obj)\n  }\n\n  _pushInt (obj, mt, orig) {\n    const m = mt << 5\n    if (obj < 24) {\n      return this._pushUInt8(m | obj)\n    }\n\n    if (obj <= 0xff) {\n      return this._pushUInt8(m | NUMBYTES.ONE) && this._pushUInt8(obj)\n    }\n\n    if (obj <= 0xffff) {\n      return this._pushUInt8(m | NUMBYTES.TWO) && this._pushUInt16BE(obj)\n    }\n\n    if (obj <= 0xffffffff) {\n      return this._pushUInt8(m | NUMBYTES.FOUR) && this._pushUInt32BE(obj)\n    }\n\n    if (obj <= Number.MAX_SAFE_INTEGER) {\n      return this._pushUInt8(m | NUMBYTES.EIGHT) &&\n        this._pushUInt32BE(Math.floor(obj / SHIFT32)) &&\n        this._pushUInt32BE(obj % SHIFT32)\n    }\n\n    if (mt === MT.NEG_INT) {\n      return this._pushFloat(orig)\n    }\n\n    return this._pushFloat(obj)\n  }\n\n  _pushIntNum (obj) {\n    if (obj < 0) {\n      return this._pushInt(-obj - 1, MT.NEG_INT, obj)\n    } else {\n      return this._pushInt(obj, MT.POS_INT)\n    }\n  }\n\n  _pushNumber (obj) {\n    switch (false) {\n      case (obj === obj): // eslint-disable-line\n        return this._pushNaN(obj)\n      case isFinite(obj):\n        return this._pushInfinity(obj)\n      case ((obj % 1) !== 0):\n        return this._pushIntNum(obj)\n      default:\n        return this._pushFloat(obj)\n    }\n  }\n\n  _pushString (obj) {\n    const len = Buffer.byteLength(obj, 'utf8')\n    return this._pushInt(len, MT.UTF8_STRING) && this.pushWrite(obj, 5, len)\n  }\n\n  _pushBoolean (obj) {\n    return this._pushUInt8(obj ? TRUE : FALSE)\n  }\n\n  _pushUndefined (obj) {\n    return this._pushUInt8(UNDEFINED)\n  }\n\n  _pushArray (gen, obj) {\n    const len = obj.length\n    if (!gen._pushInt(len, MT.ARRAY)) {\n      return false\n    }\n    for (let j = 0; j < len; j++) {\n      if (!gen.pushAny(obj[j])) {\n        return false\n      }\n    }\n    return true\n  }\n\n  _pushTag (tag) {\n    return this._pushInt(tag, MT.TAG)\n  }\n\n  _pushDate (gen, obj) {\n    // Round date, to get seconds since 1970-01-01 00:00:00 as defined in\n    // Sec. 2.4.1 and get a possibly more compact encoding. Note that it is\n    // still allowed to encode fractions of seconds which can be achieved by\n    // changing overwriting the encode function for Date objects.\n    return gen._pushTag(TAG.DATE_EPOCH) && gen.pushAny(Math.round(obj / 1000))\n  }\n\n  _pushBuffer (gen, obj) {\n    return gen._pushInt(obj.length, MT.BYTE_STRING) && gen.push(obj)\n  }\n\n  _pushNoFilter (gen, obj) {\n    return gen._pushBuffer(gen, obj.slice())\n  }\n\n  _pushRegexp (gen, obj) {\n    return gen._pushTag(TAG.REGEXP) && gen.pushAny(obj.source)\n  }\n\n  _pushSet (gen, obj) {\n    if (!gen._pushInt(obj.size, MT.ARRAY)) {\n      return false\n    }\n    for (const x of obj) {\n      if (!gen.pushAny(x)) {\n        return false\n      }\n    }\n    return true\n  }\n\n  _pushUrl (gen, obj) {\n    return gen._pushTag(TAG.URI) && gen.pushAny(obj.format())\n  }\n\n  _pushBigint (obj) {\n    let tag = TAG.POS_BIGINT\n    if (obj.isNegative()) {\n      obj = obj.negated().minus(1)\n      tag = TAG.NEG_BIGINT\n    }\n    let str = obj.toString(16)\n    if (str.length % 2) {\n      str = '0' + str\n    }\n    const buf = Buffer.from(str, 'hex')\n    return this._pushTag(tag) && this._pushBuffer(this, buf)\n  }\n\n  _pushBigNumber (gen, obj) {\n    if (obj.isNaN()) {\n      return gen._pushNaN()\n    }\n    if (!obj.isFinite()) {\n      return gen._pushInfinity(obj.isNegative() ? -Infinity : Infinity)\n    }\n    if (obj.isInteger()) {\n      return gen._pushBigint(obj)\n    }\n    if (!(gen._pushTag(TAG.DECIMAL_FRAC) &&\n      gen._pushInt(2, MT.ARRAY))) {\n      return false\n    }\n\n    const dec = obj.decimalPlaces()\n    const slide = obj.multipliedBy(new Bignumber(10).pow(dec))\n    if (!gen._pushIntNum(-dec)) {\n      return false\n    }\n    if (slide.abs().isLessThan(MAXINT_BN)) {\n      return gen._pushIntNum(slide.toNumber())\n    } else {\n      return gen._pushBigint(slide)\n    }\n  }\n\n  _pushMap (gen, obj) {\n    if (!gen._pushInt(obj.size, MT.MAP)) {\n      return false\n    }\n\n    return this._pushRawMap(\n      obj.size,\n      Array.from(obj)\n    )\n  }\n\n  _pushObject (obj) {\n    if (!obj) {\n      return this._pushUInt8(NULL)\n    }\n\n    var len = this.semanticTypes.length\n    for (var i = 0; i < len; i++) {\n      if (obj instanceof this.semanticTypes[i][0]) {\n        return this.semanticTypes[i][1].call(obj, this, obj)\n      }\n    }\n\n    var f = obj.encodeCBOR\n    if (typeof f === 'function') {\n      return f.call(obj, this)\n    }\n\n    var keys = Object.keys(obj)\n    var keyLength = keys.length\n    if (!this._pushInt(keyLength, MT.MAP)) {\n      return false\n    }\n\n    return this._pushRawMap(\n      keyLength,\n      keys.map((k) => [k, obj[k]])\n    )\n  }\n\n  _pushRawMap (len, map) {\n    // Sort keys for canoncialization\n    // 1. encode key\n    // 2. shorter key comes before longer key\n    // 3. same length keys are sorted with lower\n    //    byte value before higher\n\n    map = map.map(function (a) {\n      a[0] = Encoder.encode(a[0])\n      return a\n    }).sort(utils.keySorter)\n\n    for (var j = 0; j < len; j++) {\n      if (!this.push(map[j][0])) {\n        return false\n      }\n\n      if (!this.pushAny(map[j][1])) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  /**\n   * Alias for `.pushAny`\n   *\n   * @param {*} obj\n   * @returns {boolean} true on success\n   */\n  write (obj) {\n    return this.pushAny(obj)\n  }\n\n  /**\n   * Push any supported type onto the encoded stream\n   *\n   * @param {any} obj\n   * @returns {boolean} true on success\n   */\n  pushAny (obj) {\n    var typ = toType(obj)\n\n    switch (typ) {\n      case 'Number':\n        return this._pushNumber(obj)\n      case 'String':\n        return this._pushString(obj)\n      case 'Boolean':\n        return this._pushBoolean(obj)\n      case 'Object':\n        return this._pushObject(obj)\n      case 'Array':\n        return this._pushArray(this, obj)\n      case 'Uint8Array':\n        return this._pushBuffer(this, Buffer.isBuffer(obj) ? obj : Buffer.from(obj))\n      case 'Null':\n        return this._pushUInt8(NULL)\n      case 'Undefined':\n        return this._pushUndefined(obj)\n      case 'Map':\n        return this._pushMap(this, obj)\n      case 'Set':\n        return this._pushSet(this, obj)\n      case 'URL':\n        return this._pushUrl(this, obj)\n      case 'BigNumber':\n        return this._pushBigNumber(this, obj)\n      case 'Date':\n        return this._pushDate(this, obj)\n      case 'RegExp':\n        return this._pushRegexp(this, obj)\n      case 'Symbol':\n        switch (obj) {\n          case SYMS.NULL:\n            return this._pushObject(null)\n          case SYMS.UNDEFINED:\n            return this._pushUndefined(undefined)\n          // TODO: Add pluggable support for other symbols\n          default:\n            throw new Error('Unknown symbol: ' + obj.toString())\n        }\n      default:\n        throw new Error('Unknown type: ' + typeof obj + ', ' + (obj ? obj.toString() : ''))\n    }\n  }\n\n  finalize () {\n    if (this.offset === 0) {\n      return null\n    }\n\n    var result = this.result\n    var resultLength = this.resultLength\n    var resultMethod = this.resultMethod\n    var offset = this.offset\n\n    // Determine the size of the buffer\n    var size = 0\n    var i = 0\n\n    for (; i < offset; i++) {\n      size += resultLength[i]\n    }\n\n    var res = Buffer.allocUnsafe(size)\n    var index = 0\n    var length = 0\n\n    // Write the content into the result buffer\n    for (i = 0; i < offset; i++) {\n      length = resultLength[i]\n\n      switch (resultMethod[i]) {\n        case 0:\n          result[i].copy(res, index)\n          break\n        case 1:\n          res.writeUInt8(result[i], index, true)\n          break\n        case 2:\n          res.writeUInt16BE(result[i], index, true)\n          break\n        case 3:\n          res.writeUInt32BE(result[i], index, true)\n          break\n        case 4:\n          res.writeDoubleBE(result[i], index, true)\n          break\n        case 5:\n          res.write(result[i], index, length, 'utf8')\n          break\n        default:\n          throw new Error('unkown method')\n      }\n\n      index += length\n    }\n\n    var tmp = res\n\n    this._reset()\n\n    return tmp\n  }\n\n  _reset () {\n    this.result = []\n    this.resultMethod = []\n    this.resultLength = []\n    this.offset = 0\n  }\n\n  /**\n   * Encode the given value\n   * @param {*} o\n   * @returns {Buffer}\n   */\n  static encode (o) {\n    const enc = new Encoder()\n    const ret = enc.pushAny(o)\n    if (!ret) {\n      throw new Error('Failed to encode input')\n    }\n\n    return enc.finalize()\n  }\n}\n\nmodule.exports = Encoder\n","'use strict'\n\n// exports.Commented = require('./commented')\nexports.Diagnose = require('./diagnose')\nexports.Decoder = require('./decoder')\nexports.Encoder = require('./encoder')\nexports.Simple = require('./simple')\nexports.Tagged = require('./tagged')\n\n// exports.comment = exports.Commented.comment\nexports.decodeAll = exports.Decoder.decodeAll\nexports.decodeFirst = exports.Decoder.decodeFirst\nexports.diagnose = exports.Diagnose.diagnose\nexports.encode = exports.Encoder.encode\nexports.decode = exports.Decoder.decode\n\nexports.leveldb = {\n  decode: exports.Decoder.decodeAll,\n  encode: exports.Encoder.encode,\n  buffer: true,\n  name: 'cbor'\n}\n","/**\n * Concatenate multiple array buffers.\n * @param buffers The buffers to concatenate.\n */\nexport function concat(...buffers) {\n    const result = new Uint8Array(buffers.reduce((acc, curr) => acc + curr.byteLength, 0));\n    let index = 0;\n    for (const b of buffers) {\n        result.set(new Uint8Array(b), index);\n        index += b.byteLength;\n    }\n    return result.buffer;\n}\n/**\n * Transforms a buffer to an hexadecimal string. This will use the buffer as an Uint8Array.\n * @param buffer The buffer to return the hexadecimal string of.\n */\nexport function toHex(buffer) {\n    return [...new Uint8Array(buffer)].map(x => x.toString(16).padStart(2, '0')).join('');\n}\nconst hexRe = new RegExp(/^([0-9A-F]{2})*$/i);\n/**\n * Transforms a hexadecimal string into an array buffer.\n * @param hex The hexadecimal string to use.\n */\nexport function fromHex(hex) {\n    if (!hexRe.test(hex)) {\n        throw new Error('Invalid hexadecimal string.');\n    }\n    const buffer = [...hex]\n        .reduce((acc, curr, i) => {\n        acc[(i / 2) | 0] = (acc[(i / 2) | 0] || '') + curr;\n        return acc;\n    }, [])\n        .map(x => Number.parseInt(x, 16));\n    return new Uint8Array(buffer).buffer;\n}\n/**\n *\n * @param b1 array buffer 1\n * @param b2 array buffer 2\n * @returns number - negative if b1 < b2, positive if b1 > b2, 0 if b1 === b2\n */\nexport function compare(b1, b2) {\n    if (b1.byteLength !== b2.byteLength) {\n        return b1.byteLength - b2.byteLength;\n    }\n    const u1 = new Uint8Array(b1);\n    const u2 = new Uint8Array(b2);\n    for (let i = 0; i < u1.length; i++) {\n        if (u1[i] !== u2[i]) {\n            return u1[i] - u2[i];\n        }\n    }\n    return 0;\n}\n/**\n * Checks two array buffers for equality.\n * @param b1 array buffer 1\n * @param b2 array buffer 2\n * @returns boolean\n */\nexport function bufEquals(b1, b2) {\n    return compare(b1, b2) === 0;\n}\n/**\n * Returns a true ArrayBuffer from a Uint8Array, as Uint8Array.buffer is unsafe.\n * @param {Uint8Array} arr Uint8Array to convert\n * @returns ArrayBuffer\n */\nexport function uint8ToBuf(arr) {\n    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength).buffer;\n}\n//# sourceMappingURL=buffer.js.map","import { lebEncode } from '@dfinity/candid';\nimport borc from 'borc';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { compare, concat, uint8ToBuf } from './utils/buffer';\n/**\n * sha256 hash the provided Buffer\n * @param data - input to hash function\n */\nexport function hash(data) {\n    return uint8ToBuf(sha256.create().update(new Uint8Array(data)).digest());\n}\n/**\n *\n * @param value unknown value\n * @returns ArrayBuffer\n */\nexport function hashValue(value) {\n    if (value instanceof borc.Tagged) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return hashValue(value.value);\n    }\n    else if (typeof value === 'string') {\n        return hashString(value);\n    }\n    else if (typeof value === 'number') {\n        return hash(lebEncode(value));\n    }\n    else if (value instanceof ArrayBuffer || ArrayBuffer.isView(value)) {\n        return hash(value);\n    }\n    else if (Array.isArray(value)) {\n        const vals = value.map(hashValue);\n        return hash(concat(...vals));\n    }\n    else if (value && typeof value === 'object' && value._isPrincipal) {\n        return hash(value.toUint8Array());\n    }\n    else if (typeof value === 'object' &&\n        value !== null &&\n        typeof value.toHash === 'function') {\n        return hashValue(value.toHash());\n        // TODO This should be move to a specific async method as the webauthn flow required\n        // the flow to be synchronous to ensure Safari touch id works.\n        // } else if (value instanceof Promise) {\n        //   return value.then(x => hashValue(x));\n    }\n    else if (typeof value === 'object') {\n        return hashOfMap(value);\n    }\n    else if (typeof value === 'bigint') {\n        // Do this check much later than the other bigint check because this one is much less\n        // type-safe.\n        // So we want to try all the high-assurance type guards before this 'probable' one.\n        return hash(lebEncode(value));\n    }\n    throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${value}`), {\n        // include so logs/callers can understand the confusing value.\n        // (when stringified in error message, prototype info is lost)\n        value,\n    });\n}\nconst hashString = (value) => {\n    const encoded = new TextEncoder().encode(value);\n    return hash(encoded);\n};\n/**\n * Get the RequestId of the provided ic-ref request.\n * RequestId is the result of the representation-independent-hash function.\n * https://sdk.dfinity.org/docs/interface-spec/index.html#hash-of-map\n * @param request - ic-ref request to hash into RequestId\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function requestIdOf(request) {\n    return hashOfMap(request);\n}\n/**\n * Hash a map into an ArrayBuffer using the representation-independent-hash function.\n * https://sdk.dfinity.org/docs/interface-spec/index.html#hash-of-map\n * @param map - Any non-nested object\n * @returns ArrayBuffer\n */\nexport function hashOfMap(map) {\n    const hashed = Object.entries(map)\n        .filter(([, value]) => value !== undefined)\n        .map(([key, value]) => {\n        const hashedKey = hashString(key);\n        const hashedValue = hashValue(value);\n        return [hashedKey, hashedValue];\n    });\n    const traversed = hashed;\n    const sorted = traversed.sort(([k1], [k2]) => {\n        return compare(k1, k2);\n    });\n    const concatenated = concat(...sorted.map(x => concat(...x)));\n    const result = hash(concatenated);\n    return result;\n}\n//# sourceMappingURL=request_id.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Principal } from '@dfinity/principal';\nimport { requestIdOf } from './request_id';\nimport { concat, toHex } from './utils/buffer';\nconst domainSeparator = new TextEncoder().encode('\\x0Aic-request');\n/**\n * An Identity that can sign blobs.\n */\nexport class SignIdentity {\n    /**\n     * Get the principal represented by this identity. Normally should be a\n     * `Principal.selfAuthenticating()`.\n     */\n    getPrincipal() {\n        if (!this._principal) {\n            this._principal = Principal.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()));\n        }\n        return this._principal;\n    }\n    /**\n     * Transform a request into a signed version of the request. This is done last\n     * after the transforms on the body of a request. The returned object can be\n     * anything, but must be serializable to CBOR.\n     * @param request - internet computer request to transform\n     */\n    async transformRequest(request) {\n        const { body } = request, fields = __rest(request, [\"body\"]);\n        const requestId = await requestIdOf(body);\n        return Object.assign(Object.assign({}, fields), { body: {\n                content: body,\n                sender_pubkey: this.getPublicKey().toDer(),\n                sender_sig: await this.sign(concat(domainSeparator, requestId)),\n            } });\n    }\n}\nexport class AnonymousIdentity {\n    getPrincipal() {\n        return Principal.anonymous();\n    }\n    async transformRequest(request) {\n        return Object.assign(Object.assign({}, request), { body: { content: request.body } });\n    }\n}\n/**\n * Create an IdentityDescriptor from a @dfinity/identity Identity\n * @param identity - identity describe in returned descriptor\n */\nexport function createIdentityDescriptor(identity) {\n    const identityIndicator = 'getPublicKey' in identity\n        ? { type: 'PublicKeyIdentity', publicKey: toHex(identity.getPublicKey().toDer()) }\n        : { type: 'AnonymousIdentity' };\n    return identityIndicator;\n}\n//# sourceMappingURL=auth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst MAX_U64_NUMBER = 0x20000000000000;\nfunction _concat(a, ...args) {\n    const newBuffer = new Uint8Array(a.byteLength + args.reduce((acc, b) => acc + b.byteLength, 0));\n    newBuffer.set(new Uint8Array(a), 0);\n    let i = a.byteLength;\n    for (const b of args) {\n        newBuffer.set(new Uint8Array(b), i);\n        i += b.byteLength;\n    }\n    return newBuffer.buffer;\n}\nfunction _serializeValue(major, minor, value) {\n    // Remove everything that's not an hexadecimal character. These are not\n    // considered errors since the value was already validated and they might\n    // be number decimals or sign.\n    value = value.replace(/[^0-9a-fA-F]/g, \"\");\n    // Create the buffer from the value with left padding with 0.\n    const length = 2 ** (minor - 24 /* Int8 */);\n    value = value.slice(-length * 2).padStart(length * 2, \"0\");\n    const bytes = [(major << 5) + minor].concat(value.match(/../g).map((byte) => parseInt(byte, 16)));\n    return new Uint8Array(bytes).buffer;\n}\nfunction _serializeNumber(major, value) {\n    if (value < 24) {\n        return new Uint8Array([(major << 5) + value]).buffer;\n    }\n    else {\n        const minor = value <= 0xff\n            ? 24 /* Int8 */\n            : value <= 0xffff\n                ? 25 /* Int16 */\n                : value <= 0xffffffff\n                    ? 26 /* Int32 */\n                    : 27 /* Int64 */;\n        return _serializeValue(major, minor, value.toString(16));\n    }\n}\nfunction _serializeString(str) {\n    const utf8 = [];\n    for (let i = 0; i < str.length; i++) {\n        let charcode = str.charCodeAt(i);\n        if (charcode < 0x80) {\n            utf8.push(charcode);\n        }\n        else if (charcode < 0x800) {\n            utf8.push(0xc0 | (charcode >> 6), 0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n            utf8.push(0xe0 | (charcode >> 12), 0x80 | ((charcode >> 6) & 0x3f), 0x80 | (charcode & 0x3f));\n        }\n        else {\n            // Surrogate pair\n            i++;\n            charcode = ((charcode & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff);\n            utf8.push(0xf0 | (charcode >> 18), 0x80 | ((charcode >> 12) & 0x3f), 0x80 | ((charcode >> 6) & 0x3f), 0x80 | (charcode & 0x3f));\n        }\n    }\n    return _concat(new Uint8Array(_serializeNumber(3 /* TextString */, str.length)), new Uint8Array(utf8));\n}\n/**\n * Tag a value.\n */\nfunction tagged(tag, value) {\n    if (tag == 0xd9d9f7) {\n        return _concat(new Uint8Array([0xd9, 0xd9, 0xf7]), value);\n    }\n    if (tag < 24) {\n        return _concat(new Uint8Array([(6 /* Tag */ << 5) + tag]), value);\n    }\n    else {\n        const minor = tag <= 0xff\n            ? 24 /* Int8 */\n            : tag <= 0xffff\n                ? 25 /* Int16 */\n                : tag <= 0xffffffff\n                    ? 26 /* Int32 */\n                    : 27 /* Int64 */;\n        const length = 2 ** (minor - 24 /* Int8 */);\n        const value = tag\n            .toString(16)\n            .slice(-length * 2)\n            .padStart(length * 2, \"0\");\n        const bytes = [(6 /* Tag */ << 5) + minor].concat(value.match(/../g).map((byte) => parseInt(byte, 16)));\n        return new Uint8Array(bytes).buffer;\n    }\n}\nexports.tagged = tagged;\n/**\n * Set the raw bytes contained by this value. This should only be used with another\n * CborValue, or if you are implementing extensions to CBOR.\n * @param bytes A buffer containing the value.\n */\nfunction raw(bytes) {\n    return new Uint8Array(bytes).buffer;\n}\nexports.raw = raw;\n/**\n * Encode a number that is between [0, 23].\n * @param n\n */\nfunction uSmall(n) {\n    if (isNaN(n)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    n = Math.min(Math.max(0, n), 23); // Clamp it.\n    const bytes = [(0 /* UnsignedInteger */ << 5) + n];\n    return new Uint8Array(bytes).buffer;\n}\nexports.uSmall = uSmall;\nfunction u8(u8, radix) {\n    // Force u8 into a number, and validate it.\n    u8 = parseInt(\"\" + u8, radix);\n    if (isNaN(u8)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    u8 = Math.min(Math.max(0, u8), 0xff); // Clamp it.\n    u8 = u8.toString(16);\n    return _serializeValue(0 /* UnsignedInteger */, 24 /* Int8 */, u8);\n}\nexports.u8 = u8;\nfunction u16(u16, radix) {\n    // Force u16 into a number, and validate it.\n    u16 = parseInt(\"\" + u16, radix);\n    if (isNaN(u16)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    u16 = Math.min(Math.max(0, u16), 0xffff); // Clamp it.\n    u16 = u16.toString(16);\n    return _serializeValue(0 /* UnsignedInteger */, 25 /* Int16 */, u16);\n}\nexports.u16 = u16;\nfunction u32(u32, radix) {\n    // Force u32 into a number, and validate it.\n    u32 = parseInt(\"\" + u32, radix);\n    if (isNaN(u32)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    u32 = Math.min(Math.max(0, u32), 0xffffffff); // Clamp it.\n    u32 = u32.toString(16);\n    return _serializeValue(0 /* UnsignedInteger */, 26 /* Int32 */, u32);\n}\nexports.u32 = u32;\nfunction u64(u64, radix) {\n    // Special consideration for numbers that might be larger than expected.\n    if (typeof u64 == \"string\" && radix == 16) {\n        // This is the only case where we guarantee we'll encode the number directly.\n        // Validate it's all hexadecimal first.\n        if (u64.match(/[^0-9a-fA-F]/)) {\n            throw new RangeError(\"Invalid number.\");\n        }\n        return _serializeValue(0 /* UnsignedInteger */, 27 /* Int64 */, u64);\n    }\n    // Force u64 into a number, and validate it.\n    u64 = parseInt(\"\" + u64, radix);\n    if (isNaN(u64)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    u64 = Math.min(Math.max(0, u64), MAX_U64_NUMBER); // Clamp it to actual limit.\n    u64 = u64.toString(16);\n    return _serializeValue(0 /* UnsignedInteger */, 27 /* Int64 */, u64);\n}\nexports.u64 = u64;\n/**\n * Encode a negative number that is between [-24, -1].\n */\nfunction iSmall(n) {\n    if (isNaN(n)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    if (n === 0) {\n        return uSmall(0);\n    }\n    // Negative n, clamped to [1, 24], minus 1 (there's no negative 0).\n    n = Math.min(Math.max(0, -n), 24) - 1;\n    const bytes = [(1 /* SignedInteger */ << 5) + n];\n    return new Uint8Array(bytes).buffer;\n}\nexports.iSmall = iSmall;\nfunction i8(i8, radix) {\n    // Force i8 into a number, and validate it.\n    i8 = parseInt(\"\" + i8, radix);\n    if (isNaN(i8)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    // Negative n, clamped, minus 1 (there's no negative 0).\n    i8 = Math.min(Math.max(0, -i8 - 1), 0xff);\n    i8 = i8.toString(16);\n    return _serializeValue(1 /* SignedInteger */, 24 /* Int8 */, i8);\n}\nexports.i8 = i8;\nfunction i16(i16, radix) {\n    // Force i16 into a number, and validate it.\n    i16 = parseInt(\"\" + i16, radix);\n    if (isNaN(i16)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    // Negative n, clamped, minus 1 (there's no negative 0).\n    i16 = Math.min(Math.max(0, -i16 - 1), 0xffff);\n    i16 = i16.toString(16);\n    return _serializeValue(1 /* SignedInteger */, 25 /* Int16 */, i16);\n}\nexports.i16 = i16;\nfunction i32(i32, radix) {\n    // Force i32 into a number, and validate it.\n    i32 = parseInt(\"\" + i32, radix);\n    if (isNaN(i32)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    // Negative n, clamped, minus 1 (there's no negative 0).\n    i32 = Math.min(Math.max(0, -i32 - 1), 0xffffffff);\n    i32 = i32.toString(16);\n    return _serializeValue(1 /* SignedInteger */, 26 /* Int32 */, i32);\n}\nexports.i32 = i32;\nfunction i64(i64, radix) {\n    // Special consideration for numbers that might be larger than expected.\n    if (typeof i64 == \"string\" && radix == 16) {\n        if (i64.startsWith(\"-\")) {\n            i64 = i64.slice(1);\n        }\n        else {\n            // Clamp it.\n            i64 = \"0\";\n        }\n        // This is the only case where we guarantee we'll encode the number directly.\n        // Validate it's all hexadecimal first.\n        if (i64.match(/[^0-9a-fA-F]/) || i64.length > 16) {\n            throw new RangeError(\"Invalid number.\");\n        }\n        // We need to do -1 to the number.\n        let done = false;\n        let newI64 = i64.split(\"\").reduceRight((acc, x) => {\n            if (done) {\n                return x + acc;\n            }\n            let n = parseInt(x, 16) - 1;\n            if (n >= 0) {\n                done = true;\n                return n.toString(16) + acc;\n            }\n            else {\n                return \"f\" + acc;\n            }\n        }, \"\");\n        if (!done) {\n            // This number was 0.\n            return u64(0);\n        }\n        return _serializeValue(1 /* SignedInteger */, 27 /* Int64 */, newI64);\n    }\n    // Force i64 into a number, and validate it.\n    i64 = parseInt(\"\" + i64, radix);\n    if (isNaN(i64)) {\n        throw new RangeError(\"Invalid number.\");\n    }\n    i64 = Math.min(Math.max(0, -i64 - 1), 0x20000000000000); // Clamp it to actual.\n    i64 = i64.toString(16);\n    return _serializeValue(1 /* SignedInteger */, 27 /* Int64 */, i64);\n}\nexports.i64 = i64;\n/**\n * Encode a number using the smallest amount of bytes, by calling the methods\n * above. e.g. If the number fits in a u8, it will use that.\n */\nfunction number(n) {\n    if (n >= 0) {\n        if (n < 24) {\n            return uSmall(n);\n        }\n        else if (n <= 0xff) {\n            return u8(n);\n        }\n        else if (n <= 0xffff) {\n            return u16(n);\n        }\n        else if (n <= 0xffffffff) {\n            return u32(n);\n        }\n        else {\n            return u64(n);\n        }\n    }\n    else {\n        if (n >= -24) {\n            return iSmall(n);\n        }\n        else if (n >= -0xff) {\n            return i8(n);\n        }\n        else if (n >= -0xffff) {\n            return i16(n);\n        }\n        else if (n >= -0xffffffff) {\n            return i32(n);\n        }\n        else {\n            return i64(n);\n        }\n    }\n}\nexports.number = number;\n/**\n * Encode a byte array. This is different than the `raw()` method.\n */\nfunction bytes(bytes) {\n    return _concat(_serializeNumber(2 /* ByteString */, bytes.byteLength), bytes);\n}\nexports.bytes = bytes;\n/**\n * Encode a JavaScript string.\n */\nfunction string(str) {\n    return _serializeString(str);\n}\nexports.string = string;\n/**\n * Encode an array of cbor values.\n */\nfunction array(items) {\n    return _concat(_serializeNumber(4 /* Array */, items.length), ...items);\n}\nexports.array = array;\n/**\n * Encode a map of key-value pairs. The keys are string, and the values are CBOR\n * encoded.\n */\nfunction map(items, stable = false) {\n    if (!(items instanceof Map)) {\n        items = new Map(Object.entries(items));\n    }\n    let entries = Array.from(items.entries());\n    if (stable) {\n        entries = entries.sort(([keyA], [keyB]) => keyA.localeCompare(keyB));\n    }\n    return _concat(_serializeNumber(5 /* Map */, items.size), ...entries.map(([k, v]) => _concat(_serializeString(k), v)));\n}\nexports.map = map;\n/**\n * Encode a single (32 bits) precision floating point number.\n */\nfunction singleFloat(f) {\n    const single = new Float32Array([f]);\n    return _concat(new Uint8Array([(7 /* SimpleValue */ << 5) + 26]), new Uint8Array(single.buffer));\n}\nexports.singleFloat = singleFloat;\n/**\n * Encode a double (64 bits) precision floating point number.\n */\nfunction doubleFloat(f) {\n    const single = new Float64Array([f]);\n    return _concat(new Uint8Array([(7 /* SimpleValue */ << 5) + 27]), new Uint8Array(single.buffer));\n}\nexports.doubleFloat = doubleFloat;\nfunction bool(v) {\n    return v ? true_() : false_();\n}\nexports.bool = bool;\n/**\n * Encode the boolean true.\n */\nfunction true_() {\n    return raw(new Uint8Array([(7 /* SimpleValue */ << 5) + 21]));\n}\nexports.true_ = true_;\n/**\n * Encode the boolean false.\n */\nfunction false_() {\n    return raw(new Uint8Array([(7 /* SimpleValue */ << 5) + 20]));\n}\nexports.false_ = false_;\n/**\n * Encode the constant null.\n */\nfunction null_() {\n    return raw(new Uint8Array([(7 /* SimpleValue */ << 5) + 22]));\n}\nexports.null_ = null_;\n/**\n * Encode the constant undefined.\n */\nfunction undefined_() {\n    return raw(new Uint8Array([(7 /* SimpleValue */ << 5) + 23]));\n}\nexports.undefined_ = undefined_;\n//# sourceMappingURL=value.js.map","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst cbor = __importStar(require(\"./value\"));\nconst BufferClasses = [\n    ArrayBuffer,\n    Uint8Array,\n    Uint16Array,\n    Uint32Array,\n    Int8Array,\n    Int16Array,\n    Int32Array,\n    Float32Array,\n    Float64Array,\n];\nclass JsonDefaultCborEncoder {\n    // @param _serializer The CBOR Serializer to use.\n    // @param _stable Whether or not keys from objects should be sorted (stable). This is\n    //     particularly useful when testing encodings between JSON objects.\n    constructor(_serializer, _stable = false) {\n        this._serializer = _serializer;\n        this._stable = _stable;\n        this.name = \"jsonDefault\";\n        this.priority = -100;\n    }\n    match(value) {\n        return [\"undefined\", \"boolean\", \"number\", \"string\", \"object\"].indexOf(typeof value) != -1;\n    }\n    encode(value) {\n        switch (typeof value) {\n            case \"undefined\":\n                return cbor.undefined_();\n            case \"boolean\":\n                return cbor.bool(value);\n            case \"number\":\n                if (Math.floor(value) === value) {\n                    return cbor.number(value);\n                }\n                else {\n                    return cbor.doubleFloat(value);\n                }\n            case \"string\":\n                return cbor.string(value);\n            case \"object\":\n                if (value === null) {\n                    return cbor.null_();\n                }\n                else if (Array.isArray(value)) {\n                    return cbor.array(value.map((x) => this._serializer.serializeValue(x)));\n                }\n                else if (BufferClasses.find((x) => value instanceof x)) {\n                    return cbor.bytes(value.buffer);\n                }\n                else if (Object.getOwnPropertyNames(value).indexOf(\"toJSON\") !== -1) {\n                    return this.encode(value.toJSON());\n                }\n                else if (value instanceof Map) {\n                    const m = new Map();\n                    for (const [key, item] of value.entries()) {\n                        m.set(key, this._serializer.serializeValue(item));\n                    }\n                    return cbor.map(m, this._stable);\n                }\n                else {\n                    const m = new Map();\n                    for (const [key, item] of Object.entries(value)) {\n                        m.set(key, this._serializer.serializeValue(item));\n                    }\n                    return cbor.map(m, this._stable);\n                }\n            default:\n                throw new Error(\"Invalid value.\");\n        }\n    }\n}\nexports.JsonDefaultCborEncoder = JsonDefaultCborEncoder;\nclass ToCborEncoder {\n    constructor() {\n        this.name = \"cborEncoder\";\n        this.priority = -90;\n    }\n    match(value) {\n        return typeof value == \"object\" && typeof value[\"toCBOR\"] == \"function\";\n    }\n    encode(value) {\n        return value.toCBOR();\n    }\n}\nexports.ToCborEncoder = ToCborEncoder;\nclass CborSerializer {\n    constructor() {\n        this._encoders = new Set();\n    }\n    static withDefaultEncoders(stable = false) {\n        const s = new this();\n        s.addEncoder(new JsonDefaultCborEncoder(s, stable));\n        s.addEncoder(new ToCborEncoder());\n        return s;\n    }\n    removeEncoder(name) {\n        // Has to make an extra call to values() to ensure it doesn't break on iteration.\n        for (const encoder of this._encoders.values()) {\n            if (encoder.name == name) {\n                this._encoders.delete(encoder);\n            }\n        }\n    }\n    addEncoder(encoder) {\n        this._encoders.add(encoder);\n    }\n    getEncoderFor(value) {\n        let chosenEncoder = null;\n        for (const encoder of this._encoders) {\n            if (!chosenEncoder || encoder.priority > chosenEncoder.priority) {\n                if (encoder.match(value)) {\n                    chosenEncoder = encoder;\n                }\n            }\n        }\n        if (chosenEncoder === null) {\n            throw new Error(\"Could not find an encoder for value.\");\n        }\n        return chosenEncoder;\n    }\n    serializeValue(value) {\n        return this.getEncoderFor(value).encode(value);\n    }\n    serialize(value) {\n        return this.serializeValue(value);\n    }\n}\nexports.CborSerializer = CborSerializer;\nclass SelfDescribeCborSerializer extends CborSerializer {\n    serialize(value) {\n        return cbor.raw(new Uint8Array([\n            // Self describe CBOR.\n            ...new Uint8Array([0xd9, 0xd9, 0xf7]),\n            ...new Uint8Array(super.serializeValue(value)),\n        ]));\n    }\n}\nexports.SelfDescribeCborSerializer = SelfDescribeCborSerializer;\n//# sourceMappingURL=serializer.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./serializer\"));\nconst value = __importStar(require(\"./value\"));\nexports.value = value;\n//# sourceMappingURL=index.js.map","// This file is based on:\n// https://github.com/dfinity-lab/dfinity/blob/9bca65f8edd65701ea6bdb00e0752f9186bbc893/docs/spec/public/index.adoc#cbor-encoding-of-requests-and-responses\nimport borc from 'borc';\nimport * as cbor from 'simple-cbor';\nimport { SelfDescribeCborSerializer } from 'simple-cbor';\nimport { concat, fromHex } from './utils/buffer';\n// We are using hansl/simple-cbor for CBOR serialization, to avoid issues with\n// encoding the uint64 values that the HTTP handler of the client expects for\n// canister IDs. However, simple-cbor does not yet provide deserialization so\n// we are using `Uint8Array` so that we can use the dignifiedquire/borc CBOR\n// decoder.\nclass PrincipalEncoder {\n    get name() {\n        return 'Principal';\n    }\n    get priority() {\n        return 0;\n    }\n    match(value) {\n        return value && value._isPrincipal === true;\n    }\n    encode(v) {\n        return cbor.value.bytes(v.toUint8Array());\n    }\n}\nclass BufferEncoder {\n    get name() {\n        return 'Buffer';\n    }\n    get priority() {\n        return 1;\n    }\n    match(value) {\n        return value instanceof ArrayBuffer || ArrayBuffer.isView(value);\n    }\n    encode(v) {\n        return cbor.value.bytes(new Uint8Array(v));\n    }\n}\nclass BigIntEncoder {\n    get name() {\n        return 'BigInt';\n    }\n    get priority() {\n        return 1;\n    }\n    match(value) {\n        return typeof value === `bigint`;\n    }\n    encode(v) {\n        // Always use a bigint encoding.\n        if (v > BigInt(0)) {\n            return cbor.value.tagged(2, cbor.value.bytes(fromHex(v.toString(16))));\n        }\n        else {\n            return cbor.value.tagged(3, cbor.value.bytes(fromHex((BigInt('-1') * v).toString(16))));\n        }\n    }\n}\nconst serializer = SelfDescribeCborSerializer.withDefaultEncoders(true);\nserializer.addEncoder(new PrincipalEncoder());\nserializer.addEncoder(new BufferEncoder());\nserializer.addEncoder(new BigIntEncoder());\nexport var CborTag;\n(function (CborTag) {\n    CborTag[CborTag[\"Uint64LittleEndian\"] = 71] = \"Uint64LittleEndian\";\n    CborTag[CborTag[\"Semantic\"] = 55799] = \"Semantic\";\n})(CborTag || (CborTag = {}));\n/**\n * Encode a JavaScript value into CBOR.\n */\nexport function encode(value) {\n    return serializer.serialize(value);\n}\nfunction decodePositiveBigInt(buf) {\n    const len = buf.byteLength;\n    let res = BigInt(0);\n    for (let i = 0; i < len; i++) {\n        res = res * BigInt(0x100) + BigInt(buf[i]);\n    }\n    return res;\n}\n// A BORC subclass that decodes byte strings to ArrayBuffer instead of the Buffer class.\nclass Uint8ArrayDecoder extends borc.Decoder {\n    createByteString(raw) {\n        return concat(...raw);\n    }\n    createByteStringFromHeap(start, end) {\n        if (start === end) {\n            return new ArrayBuffer(0);\n        }\n        return new Uint8Array(this._heap.slice(start, end));\n    }\n}\nexport function decode(input) {\n    const buffer = new Uint8Array(input);\n    const decoder = new Uint8ArrayDecoder({\n        size: buffer.byteLength,\n        tags: {\n            // Override tags 2 and 3 for BigInt support (borc supports only BigNumber).\n            2: val => decodePositiveBigInt(val),\n            3: val => -decodePositiveBigInt(val),\n            [CborTag.Semantic]: (value) => value,\n        },\n    });\n    return decoder.decodeFirst(buffer);\n}\n//# sourceMappingURL=cbor.js.map","/**\n * Generates a random unsigned 32-bit integer between 0 and 0xffffffff\n * @returns {number} a random number\n */\nexport const randomNumber = () => {\n    // determine whether browser crypto is available\n    if (typeof window !== 'undefined' && !!window.crypto && !!window.crypto.getRandomValues) {\n        const array = new Uint32Array(1);\n        window.crypto.getRandomValues(array);\n        return array[0];\n    }\n    // A second check for webcrypto, in case it is loaded under global instead of window\n    if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\n        const array = new Uint32Array(1);\n        crypto.getRandomValues(array);\n        return array[0];\n    }\n    // determine whether node crypto is available\n    if (typeof crypto !== 'undefined' && crypto.randomInt) {\n        return crypto.randomInt(0, 0xffffffff);\n    }\n    // fall back to Math.random\n    return Math.floor(Math.random() * 0xffffffff);\n};\n//# sourceMappingURL=random.js.map","import { randomNumber } from '../../utils/random';\n// The types of values allowed in the `request_type` field for submit requests.\nexport var SubmitRequestType;\n(function (SubmitRequestType) {\n    SubmitRequestType[\"Call\"] = \"call\";\n})(SubmitRequestType || (SubmitRequestType = {}));\n/**\n * Create a random Nonce, based on random values\n */\nexport function makeNonce() {\n    // Encode 128 bits.\n    const buffer = new ArrayBuffer(16);\n    const view = new DataView(buffer);\n    const rand1 = randomNumber();\n    const rand2 = randomNumber();\n    const rand3 = randomNumber();\n    const rand4 = randomNumber();\n    view.setUint32(0, rand1);\n    view.setUint32(4, rand2);\n    view.setUint32(8, rand3);\n    view.setUint32(12, rand4);\n    return buffer;\n}\n//# sourceMappingURL=types.js.map","import { lebEncode } from '@dfinity/candid';\nimport * as cbor from 'simple-cbor';\nimport { makeNonce, } from './types';\nconst NANOSECONDS_PER_MILLISECONDS = BigInt(1000000);\nconst REPLICA_PERMITTED_DRIFT_MILLISECONDS = 60 * 1000;\nexport class Expiry {\n    constructor(deltaInMSec) {\n        // Use bigint because it can overflow the maximum number allowed in a double float.\n        const raw_value = BigInt(Math.floor(Date.now() + deltaInMSec - REPLICA_PERMITTED_DRIFT_MILLISECONDS)) *\n            NANOSECONDS_PER_MILLISECONDS;\n        // round down to the nearest second\n        const ingress_as_seconds = raw_value / BigInt(1000000000);\n        // round down to nearest minute\n        const ingress_as_minutes = ingress_as_seconds / BigInt(60);\n        const rounded_down_nanos = ingress_as_minutes * BigInt(60) * BigInt(1000000000);\n        this._value = rounded_down_nanos;\n    }\n    toCBOR() {\n        // TODO: change this to take the minimum amount of space (it always takes 8 bytes now).\n        return cbor.value.u64(this._value.toString(16), 16);\n    }\n    toHash() {\n        return lebEncode(this._value);\n    }\n}\n/**\n * Create a Nonce transform, which takes a function that returns a Buffer, and adds it\n * as the nonce to every call requests.\n * @param nonceFn A function that returns a buffer. By default uses a semi-random method.\n */\nexport function makeNonceTransform(nonceFn = makeNonce) {\n    return async (request) => {\n        // Nonce needs to be inserted into the header for all requests, to enable logs to be correlated with requests.\n        const headers = request.request.headers;\n        // TODO: uncomment this when the http proxy supports it.\n        // headers.set('X-IC-Request-ID', toHex(new Uint8Array(nonce)));\n        request.request.headers = headers;\n        // Nonce only needs to be inserted into the body for async calls, to prevent replay attacks.\n        if (request.endpoint === \"call\" /* Endpoint.Call */) {\n            request.body.nonce = nonceFn();\n        }\n    };\n}\n/**\n * Create a transform that adds a delay (by default 5 minutes) to the expiry.\n *\n * @param delayInMilliseconds The delay to add to the call time, in milliseconds.\n */\nexport function makeExpiryTransform(delayInMilliseconds) {\n    return async (request) => {\n        request.body.ingress_expiry = new Expiry(delayInMilliseconds);\n    };\n}\n/**\n * Maps the default fetch headers field to the serializable HttpHeaderField.\n *\n * @param headers Fetch definition of the headers type\n * @returns array of header fields\n */\nexport function httpHeadersTransform(headers) {\n    const headerFields = [];\n    headers.forEach((value, key) => {\n        headerFields.push([key, value]);\n    });\n    return headerFields;\n}\n//# sourceMappingURL=transforms.js.map","export class AgentHTTPResponseError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n        this.name = this.constructor.name;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\n//# sourceMappingURL=errors.js.map","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n","export const wasmBytesBase64 = `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akE4ENABGiACQbgDakEBNgIAIAJBwANqQTgQ0AEaIAJB+ANqQQE2AgAgAkGABGpBOBDQARogAkEBNgK4BCACQcAEakE4ENABGiACQfgEakEBNgIAIAJBgAVqQTgQ0AEaIAJBuAVqQQE2AgAgAkHABWpBOBDQARogAkH4BWpBATYCACACQYAGakE4ENABGiACQQE2ArgGIAJBwAZqQTgQ0AEaIAJB+AZqQQE2AgAgAkGAB2pBOBDQARogAkG4B2pBATYCACACQcAHakE4ENABGiACQfgHakEBNgIAIAIgARAYAkAgASgCgAZBBEYNACAAKAKABkEERg0AIAJBgARqIgMgAEGAAmoQlgEgAyABQYACahAYDAYLIAJBwAxqIgdBOBDQARogAkEBNgL4DCACQYANakE4ENABGiACQbgNakEBNgIAIAJBgAhqIgRBOBDQARogAkEBNgK4CCACQcAIakE4ENABGiACQfgIakEBNgIAIAJBgApqIgMgAEGAA2oiBRBeIAQgAxCZASADIAFBgANqIgYQXiAEIAMQESAHELYBIAEoAoAGQQRHDQMMBAsgACABEAMMBgsgAkHADGoiAyABQYAFahBeIAJBgAxqIgQgA0HAABDRARogAkGABmogBBCnAQsgAkGABmoQZCACQYAIaiIDIAIQlgEgAxArIAJBgAJqIgQgAxCXASAGIAQQlgEgAkGABGoiByADEJYBIAMgABCWASADIAUQlwEgAxCwASACQYAKaiIEIAEQlgEgBCABQYAEahCXASAEELABIAMgBBAYIAcgAxCXASADIAUQlgECQCABKAKABkECRwRAIAJBwAxqIgMgAUGABWoQXiACQYAIaiADEKYBDAELIAJBwAxqIgMgAUGABWoQXiACQYAMaiIBIANBwAAQ0QEaIAJBgAhqIAEQpwELIAJBgAhqIgEQZCACQYAKaiIDIAEQlgEgAxArIAUgAkGABGoQlgEgBSADEJcBIAJBgAZqIgQgAxCXASABEGQgBiABEJcBIAQQsAEgBBBkIAAgAhCWASAAIAQQlwEMAwsgAkGACmoiAyAFEF4gAkHADGoiBCADEJkBIAMgAUGAAmoQXiAEIAMQEQsgACgCgAZBBEcEQCACQYAKaiIDIABBgAJqEF4gAkHADGoiBCADEJkBIAMgBhBeIAQgAxARCyACQYAEaiIDIAJB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AEHcu8AAKAIAQX4gA0EDdndxNgIACyAAIAEQoAEgAEH0vsAAKAIARw0BQey+wAAgATYCAAsPCyABQYACTwRAIAAgARAWDwsgAUEDdiICQQN0QeS7wABqIQECf0Hcu8AAKAIAIgNBASACdCICcQRAIAEoAggMAQtB3LvAACACIANyNgIAIAELIQIgASAANgIIIAIgADYCDCAAIAE2AgwgACACNgIIC+UDAQN/IwBB0CJrIgMkACADQcAWaiIEQcitwAAQSSADQcgcaiIFQYCuwAAQSSADQQhqIAQgBRBLIANBiAFqQTgQ0AEaIANBwAFqQTgQ0AEaIANB+AFqED0CQCACEIYBBEAgABBVDAELIANB+ARqIgQQPSAEIAEQfSAEEEcgA0H4B2oiARBnIAEgAhB4IAEQRiADQcgcaiICIAEQkAEgA0G4CWogAhCQASACIANBuAhqEJABIANB+AlqIAIQkAEgA0G4CmoiARA9IANBuA1qEFUgASAEEH0gA0HAE2oiARA9IAEgBBB9IAEQogEgA0HAAWogA0GIAWoQUEECayECA0AgAkEBakEBTQRAIANBuA1qIgEQngEgACABQYgGENEBGgUgA0G4DWoQGiADQcAWaiADQbgKaiADQbgJaiADQfgJahALAkACQAJAIANBwAFqIAIQUyADQYgBaiACEFNrQQFqDgMBAgACCyADQcgcaiIBIANBuApqIANB+ARqIANBuAlqIANB+AlqEAogA0HAFmogARADDAELIANByBxqIgEgA0G4CmogA0HAE2ogA0G4CWogA0H4CWoQCiADQcAWaiABEAMLIAJBAWshAiADQbgNaiADQcAWahABDAELCwsgA0HQImokAAvBAwEVfwNAIANBwAFGBEACQCAAQShqIQsgAEEUaigCACIMIQggAEEQaigCACINIQIgAEEMaigCACIOIQEgACgCCCIPIQMgAEEYaigCACIQIQogAEEcaigCACIRIQQgAEEgaigCACISIQcgAEEkaigCACITIQYDQCAHIQkgBCEHIAohBCAFQYACRg0BIAEgAnEhFCABIAJzIRUgBSALaigCACAFQcCiwABqKAIAIAkgBEF/c3EgBCAHcXIgBmogBEEadyAEQRV3cyAEQQd3c2pqaiIGIAhqIQogBUEEaiEFIAIhCCABIQIgAyIBQR53IAFBE3dzIAFBCndzIBQgASAVcXNqIAZqIQMgCSEGDAALAAsFIAAgA2oiAkHoAGogAkEoaigCACACQcwAaigCACACQeAAaigCACIBQQ93IAFBDXdzIAFBCnZzamogAkEsaigCACIBQRl3IAFBDndzIAFBA3ZzajYCACADQQRqIQMMAQsLIAAgBiATajYCJCAAIAkgEmo2AiAgACAHIBFqNgIcIAAgBCAQajYCGCAAIAggDGo2AhQgACACIA1qNgIQIAAgASAOajYCDCAAIAMgD2o2AggL5AEBAn8jAEGAA2siAyQAIAMQPSAAIAEgAkEfdSIEIAJzIARBf3NqQQJtIgJBAWtBH3YQbyAAIAFBgANqIAJBAXNBAWtBH3YQbyAAIAFBgAZqIAJBAnNBAWtBH3YQbyAAIAFBgAlqIAJBA3NBAWtBH3YQbyAAIAFBgAxqIAJBBHNBAWtBH3YQbyAAIAFBgA9qIAJBBXNBAWtBH3YQbyAAIAFBgBJqIAJBBnNBAWtBH3YQbyAAIAFBgBVqIAJBB3NBAWtBH3YQbyADIAAQfSADEKIBIAAgAyAEQQFxEG8gA0GAA2okAAvlAwEIfyMAQZAGayICJAAgAEFAayEIAkAgAUH4AGooAgAgASgCOGqsIABB+ABqKAIAIgcgACgCOCIEaqx+Qv///w9XDQAgBEEBSgR/IAAQHiAAKAJ4BSAHC0EBTA0AIAgQHgsgAkHYpMAAEEkgAkE4aiIHQfAAENABGiACIQNBACECA0AgAkE4RgRAAkAgB0E4aiEEQQAhAgNAIAJBOEYNASACIARqIAIgA2opAwA3AwAgAkEIaiECDAALAAsFIAIgB2pCADcDACACQQhqIQIMAQsLIANBqAFqIgYgABBdIANB4AFqIgUgARBdIANBmAJqIgIgACABEAUgA0GIA2oiBCAIIAFBQGsiARAFIAYgCBBgIAYQQiAFIAEQYCAFEEIgA0H4A2oiCSAGIAUQBUEAIQEgA0HoBGoiBkHwABDQASEFA0AgAUHwAEcEQCABIAVqIAEgAmopAwA3AwAgAUEIaiEBDAELCyAGIAQQYkEAIQEDQCABQfAARwRAIAEgBGoiBSABIAdqKQMAIAUpAwB9NwMAIAFBCGohAQwBCwsgAiAEEGIgAhBIIAkgBhBjIAkQSCADQdgFaiIBIAIQayAAIAEQaiAAQQM2AjggASAJEGsgCCABEGogAEECNgJ4IANBkAZqJAALowIBCH8jAEGABmsiAiQAIAIgAEGAAWoiBxBeIAJBgAFqIgQgBxBeIAQQLSACQYACaiIFIAIQXiAFIABBgAJqIgMQESACQYADaiIBIAMQXiABEC0gAyAEEJkBIAMgBBCaASADEKkBIAMQuAEgAxC4ASADEKkBIAFBDBCrASABEHwgARCpASACQYAEaiIIIAEQXiAIIAMQESACQYAFaiIGIAQQXiAGIAEQmgEgBhCpASADIAUQESAFIAEQmQEgBSABEJoBIAEgBRCaASABEKkBIAQgARB7IAQQqQEgBiAEEBEgBiAIEJoBIAUgABCZASAFIAIQESAAIAQQmQEgABCpASAAIAUQESAAELgBIAAQqQEgByAGEJkBIAcQqQEgAkGABmokAAu8AgEGfyMAQYAIayIBJAAgASAAEIwBIAFBgAJqIgMgAEGABGoiBRCMASABQYAEaiIEIABBgAJqIgYQjAEgAUGABmoiAkE4ENABGiABQQE2ArgGIAFBwAZqQTgQ0AEaIAFB+AZqQQE2AgAgAUGAB2pBOBDQARogAUG4B2pBATYCACABQcAHakE4ENABGiABQfgHakEBNgIAIAAQISACIAAQlgEgAiAAEJcBIAAgAhCXASAAELABIAEQyQEgARCzASAAIAEQlwEgAxAhIAMQZCACIAMQlgEgAiADEJcBIAMgAhCXASADELABIAQQISACIAQQlgEgAiAEEJcBIAQgAhCXASAEELABIAYQsgEgBhCzASAFEMkBIAUQswEgBiADEJcBIAUgBBCXASAAQQU2AoAGIAAQnAEgAUGACGokAAv/AQEHfyMAQcACayIBJAAgASAAQUBrIgYQkAEgARBMIAFBQGsiAyAGEJABIAMgAEGAAWoiAhBKIAFBgAFqIgQgAhCQASAEEEwgAiABEK4BIAIgARB3IAIQQiACEIIBIAIQggEgAhBCIARBDBA0IAFBwAFqIgcgBBCQASAHIAIQSiABQYACaiIFIAEQkAEgBSAEEHcgBRBCIAIgAxBKIAMgBBCuASADIAQQdyAEIAMQdyABIAQQfiABEEIgBSABEEogBSAHEHcgAyAAEK4BIAMgBhBKIAAgARCuASAAEEIgACADEEogABCCASAAEEIgBiAFEK4BIAYQQiABQcACaiQAC84CAgd/An4CQAJAAkBBDSABQTpuIgJrIgRBDU0EQEEMIAJrIgNBDk8NASAAIAAgA0EDdGopAwBBOiABIAJBOmxrIgNrrSIKhyAAIARBA3RqKQMAIAOtIgmGhDcDaCAEQQ1rIQUgAEHgAGohBCACQQFqIQZBACACQQN0ayEHQQshAwNAAkAgA0ECaiAGTQRAIAFBrAZPDQEgACACQQN0aiAAKQMAIAmGQv//////////A4M3AwADQCACRQ0HIABCADcDACACQQFrIQIgAEEIaiEADAALAAsgAyAFakEOTw0EIAQgBCAHaiIIQQhrKQMAIAqHIAgpAwAgCYZC//////////8Dg4Q3AwAgA0EBayEDIARBCGshBAwBCwsgAkEOQYCywAAQOwALIARBDkHQscAAEDsACyADQQ5B4LHAABA7AAtBf0EOQfCxwAAQOwALC6cCAQR/IABCADcCECAAAn9BACABQYACSQ0AGkEfIAFB////B0sNABogAUEGIAFBCHZnIgNrdkEBcSADQQF0a0E+agsiBDYCHCAEQQJ0Qey9wABqIQMgACECAkACQAJAAkBB4LvAACgCACIAQQEgBHQiBXEEQCADKAIAIQMgBBCfASEAIAMQywEgAUcNASADIQAMAgtB4LvAACAAIAVyNgIAIAMgAjYCAAwDCyABIAB0IQQDQCADIARBHXZBBHFqQRBqIgUoAgAiAEUNAiAEQQF0IQQgACIDEMsBIAFHDQALCyAAKAIIIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCCACQQA2AhgPCyAFIAI2AgALIAIgAzYCGCACIAI2AgggAiACNgIMC7YCAQV/IAAoAhghBAJAAkAgACAAKAIMRgRAIABBFEEQIABBFGoiASgCACIDG2ooAgAiAg0BQQAhAQwCCyAAKAIIIgIgACgCDCIBNgIMIAEgAjYCCAwBCyABIABBEGogAxshAwNAIAMhBSACIgFBFGoiAygCACICRQRAIAFBEGohAyABKAIQIQILIAINAAsgBUEANgIACwJAIARFDQACQCAAIAAoAhxBAnRB7L3AAGoiAigCAEcEQCAEQRBBFCAEKAIQIABGG2ogATYCACABDQEMAgsgAiABNgIAIAENAEHgu8AAQeC7wAAoAgBBfiAAKAIcd3E2AgAPCyABIAQ2AhggACgCECICBEAgASACNgIQIAIgATYCGAsgAEEUaigCACIARQ0AIAFBFGogADYCACAAIAE2AhgLC+UBAQZ/IwBBgARrIgIkACACIAAQXiACQYABaiIFIABBgAFqIgYQXiACQYACaiIDQTgQ0AEaIAJBATYCuAIgAkHAAmpBOBDQARogAkH4AmpBATYCACACQYADaiIEIAYQXiACIAEQESAFIAFBgAFqIgcQESADIAcQmQEgAyABEJoBIAQgABCaASADEKkBIAQQqQEgBCADEBEgAyACEJkBIAMQNiAEIAMQmgEgBBCpASADIAUQmQEgAxA2IAYgBBCZASAGIAMQmgEgBRB8IAAgBRCZASAAIAIQmgEgABCwASACQYAEaiQAC28BDH9BjL/AACgCACICRQRAQZy/wABB/x82AgBBAA8LQYS/wAAhBgNAIAIiASgCCCECIAEoAgQhAyABKAIAIQQgAUEMaigCABogASEGIAVBAWohBSACDQALQZy/wAAgBUH/HyAFQf8fSxs2AgBBAAuAAgEGfyMAQYAIayIBJAAgACgCgAZBAUcEQCABIAAQjAEgAUGAAmoiAiAAQYACaiIEEIwBIAFBgARqIgUgAEGABGoiAxCMASABQYAGaiIGIAAQjAEgARAhIAIgAxAYIAIQswEgAhCwASAFECEgBiAEEBggBhCzASADIAAQlwEgAyAEEJcBIAMQsAEgAxAhIAAgARCWASABIAIQlwEgARCwASABIAUQlwEgASAGEJcBIAEQsAEgARArIAIQZCAFEGQgACACEJcBIAQgBRCWASAEIAYQlwEgAyABEJcBIABBBEEFIAAoAoAGQX5xQQJGGzYCgAYgABCdAQsgAUGACGokAAuZAgEBfyMAQYANayIDJAAgAyABEGkgAxCdASADQYgGaiIBIAIQXSABEEIgA0HABmoiAiABEF0gAkEDECkaIAIQQiADQfgGaiADEGkCQCACEFdFBEAgA0HABmoQKkECayECA0AgAkEBakEBTQRAIANB+AZqIgEQnAEMAwUgA0H4BmoQEwJAAkACQCADQcAGaiACEFMgA0GIBmogAhBTa0EBag4DAQIAAgsgA0H4BmogAxAHDAELIAMQngEgA0H4BmogAxAHIAMQngELIAJBAWshAgwBCwALAAsgA0H4BmoiARC3ASABQYABahC2ASABQYACahCxASABQYAEahCxASABQQE2AoAGCyAAIAFBiAYQ0QEaIANBgA1qJAALhgICBH8BfiMAQTBrIgIkACABQQRqIQQgASgCBEUEQCABKAIAIQMgAkEQaiIFQQA2AgAgAkIBNwMIIAIgAkEIajYCFCACQShqIANBEGopAgA3AwAgAkEgaiADQQhqKQIANwMAIAIgAykCADcDGCACQRRqIAJBGGoQDBogBEEIaiAFKAIANgIAIAQgAikDCDcCAAsgAkEgaiIDIARBCGooAgA2AgAgAUEMakEANgIAIAQpAgAhBiABQgE3AgQgAiAGNwMYQQxBBBC5ASIBRQRAQQxBBBDPAQALIAEgAikDGDcCACABQQhqIAMoAgA2AgAgAEGEt8AANgIEIAAgATYCACACQTBqJAAL5AEBAn8jAEHAAWsiAyQAIAMQZyAAIAEgAkEfdSIEIAJzIARBf3NqQQJtIgJBAWtBH3YQbiAAIAFBwAFqIAJBAXNBAWtBH3YQbiAAIAFBgANqIAJBAnNBAWtBH3YQbiAAIAFBwARqIAJBA3NBAWtBH3YQbiAAIAFBgAZqIAJBBHNBAWtBH3YQbiAAIAFBwAdqIAJBBXNBAWtBH3YQbiAAIAFBgAlqIAJBBnNBAWtBH3YQbiAAIAFBwApqIAJBB3NBAWtBH3YQbiADIAAQeCADEKQBIAAgAyAEQQFxEG4gA0HAAWokAAvDAwIGfwN+IwBB8ABrIgEkACABQcCywAAQSSABQThqIAEQXSAAEEICQAJAAkAgAQJ/IAAoAjgiAkEQTARAIAJBAWsQNQwBCyABKQMwIghCAXwiByAIVA0BIAApAzAiCEKAgICAgICAgIB/USAHQn9RcQ0CIAFBOGoiAiAIIAd/pxApIQcgASABKQNoIAdCOoZ8NwNoIAAgAhBhIAAQQkECCyIEECgDQCAERQ0DQQAhAyABIAEpAwgiCEI5hkKAgICAgICAgAKDIAEpAwBCAYeEIgc3AwAgACkDACAHfSEHIABBCGohBSAAIAFBOGoiAkEBA38gAiADaiAHQv//////////A4M3AwAgB0I6hyEHIANBKEYEfyABIAEpAzBCAYciCDcDMCACIAApAzAgCH0gB3wiBzcDMCAHQj+IpwUgASADaiIGQQhqIAhCAYcgBkEQaikDACIIQjmGQoCAgICAgICAAoOEIgk3AwAgAyAFaikDACAHfCAJfSEHIANBCGohAwwBCwtrEDAgBEEBayEEDAALAAtB4LPAAEEZQcSzwAAQWQALQYC0wABBH0HEs8AAEFkACyAAQQE2AjggAUHwAGokAAvuAQECfyMAQbABayIDJAAgA0EwENABIQMCQAJAA0AgAkEwRgRAIANBMGogAxBwIAFBMGohAUEAIQIDQCACQTBGDQMgAkEwRg0EIAIgA2ogASACai0AADoAACACQQFqIQIMAAsACyACQeAARwRAIAIgA2ogASACai0AADoAACACQQFqIQIMAQsLQeAAQeAAQYCmwAAQOwALIANB8ABqIgEgAxBwIABBOBDQASIAQQE2AjggAEFAa0E4ENABIABB+ABqQQE2AgAgACABEK4BIANBMGoQrgEgA0GwAWokAA8LIAJBMGpB4ABBkKbAABA7AAuPAgEDfyMAQSBrIgUkAEEBIQZB2LvAAEHYu8AAKAIAIgdBAWo2AgACQEGgv8AALQAABEBBpL/AACgCAEEBaiEGDAELQaC/wABBAToAAAtBpL/AACAGNgIAAkACQCAHQQBIIAZBAktyDQAgBSAEOgAYIAUgAzYCFCAFIAI2AhBBzLvAACgCACICQQBIDQBBzLvAACACQQFqIgI2AgBBzLvAAEHUu8AAKAIAIgMEf0HQu8AAKAIAIAUgACABKAIQEQAAIAUgBSkDADcDCCAFQQhqIAMoAhQRAABBzLvAACgCAAUgAgtBAWs2AgAgBkEBSw0AIAQNAQsACyMAQRBrIgIkACACIAE2AgwgAiAANgIIAAucAQEEfyMAQYADayICJAAgAiAAEF4gAkGAAWoiASAAQYABaiIEEF4gAkGAAmoiAyAAEF4gAyAEEBEgAiAEEJoBIAEQfCABIAAQmgEgAhCpASABEKkBIAAgAhCZASAAIAEQESABIAMQmQEgARB8IAEgAxCaASABEKkBIAEQNiAAIAEQmgEgAxC4ASAEIAMQmQEgABCwASACQYADaiQAC7kBAQJ/IwBBIGsiAyQAAkAgASABIAJqIgFLDQAgAEEEaigCACICQQF0IgQgASABIARJGyIBQQggAUEISxshAQJAIAIEQCADQRhqQQE2AgAgAyACNgIUIAMgACgCADYCEAwBCyADQQA2AhALIAMgASADQRBqECYgAygCAARAIANBCGooAgAiAEUNASADKAIEIAAQzwEACyADKAIEIQIgAEEEaiABNgIAIAAgAjYCACADQSBqJAAPCxBlAAusAQECfyMAQYADayIDJAAgA0EIaiABEJABAkAgAgRAIANBCGogAhCuAQwBCyADQQhqEDoLIANByABqIgJB8LTAABBJIANBgAFqIAIQjgEgA0HAAWoiAiADQQhqIgQQkAEgAhBMIAIgARBKIAAgARCQASAAIAQQSiADQYACaiACEJABIAAQViEBIANBwAJqIgIgABCQASACEEMgAhBCIAAgAiABEHIgA0GAA2okAAueAQEFfyMAQYABayICJAAgAkE4ENABIgJBATYCOCACQUBrIgNBOBDQARogAkEBNgJ4IAIgABCuASACIAFBgAFqIgUQSiADIAEQrgEgAyAAQYABaiIGEEoCQCACIAMQWEUNACACIABBQGsQrgEgAiAFEEogAkFAayIAIAFBQGsQrgEgACAGEEogAiAAEFhFDQBBASEECyACQYABaiQAIAQLpwEBA38jAEEwayICJAAgAUEEaiEDIAEoAgRFBEAgASgCACEBIAJBEGoiBEEANgIAIAJCATcDCCACIAJBCGo2AhQgAkEoaiABQRBqKQIANwMAIAJBIGogAUEIaikCADcDACACIAEpAgA3AxggAkEUaiACQRhqEAwaIANBCGogBCgCADYCACADIAIpAwg3AgALIABBhLfAADYCBCAAIAM2AgAgAkEwaiQAC5UBAQJ/AkACQAJAAkACfwJAAkACf0EBIgMgAUEASA0AGiACKAIAIgRFDQEgAigCBCICDQQgAQ0CQQEMAwshA0EAIQEMBgsgAQ0AQQEMAQsgAUEBELkBCyICRQ0BDAILIAQgARCsASICDQELIAAgATYCBEEBIQEMAQsgACACNgIEQQAhAwsgACADNgIAIABBCGogATYCAAvvMwISfwV+IwBBMGsiDiQAIA5BEGogACABEFsgDiAOKAIUIgA2AhwgDiAOKAIQIgg2AhggDkEIaiACIAMQWyAOIA4oAgwiATYCJCAOIA4oAggiAzYCICAOIAQgBRBbIA4gDigCBCIFNgIsIA4gDigCACINNgIoIAAhBCMAQZAVayICJAAjAEGwBmsiCiQAIApBEGpBOBDQARogCkHQAGpBOBDQASEVIApBiAFqQQE2AgAgCkEBNgJIIApBkAFqIgBB2KTAABBJIAAQKiEPIApByAFqIhNBgAIQ0AEaIApB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ABBJAkACQAJAAkADQAJAIAxBMEYEQCAAIAAtAABBH3E6AAAgAEHoAGogABC+ASAEDQFBAEEAQZiBwAAQOwALIAQgDEYNAiAAIAxqIAggDGotAAA6AAAgDEEBaiEMDAELC0EAIQwgCCwAACIJQQBIDQIgCEEwaiEDIARBMCAEQTBLG0EwayEIA0AgDEEwRgRAIABBoAFqIgQgABC+ASMAQYABayIDJAAgARBnIAEgAEHoAGoQwAEgAUFAayIIIAQQwAEgAUGAAWoQygEgARBCIAMgARBPIANBQGsiBCAIEJABIAQQTCAEIAMQWEUEQCABEJIBCyADQYABaiQADAULIAggDEYNAiAAIAxqIAMgDGotAAA6AAAgDEEBaiEMDAALAAsgBCAEQYiBwAAQOwALIAxBMGogBEGogcAAEDsACyMAQcABayIDJAAgAEGgAWoiBBBnIANBOBDQASIDQQE2AjggBCAAQegAahDAASAEEEIgBEGAAWoQygEgA0FAayIIIAQQTwJAAkACQCAIIAMQWkEBRgRAIANBgAFqIgggA0FAayADECMgCBBWDQEMAgsgBBCSAQwCCyADQYABaiIIEEMgCBBCCyAEQUBrIANBgAFqEK4BCyADQcABaiQAIAlBIHEiA0EAIABB4AFqEE0iBEEBRxtBASADIARBAUdyGwRAIABBoAFqEKQBCyABIABBoAFqQcABENEBGgsgAEHgAmokAAJ/QQAhAyMAQcAFayIAJAACQCABEIYBDQAgAEEIaiIIQZCtwAAQSSAAQYAEaiIEQbiuwAAQSSAAQUBrIgkgBBCOASAAQYABaiIEEGcgBCABEHggBCAJEEogAEHAAmoiBCABIAgQvQEgASAEECQNACAAQYAEaiIEIABBwAJqIgEgAEEIahC9ASABIARBwAEQ0QEaIAEQpAEgAEGAAWogARAkRQ0AQQEhAwsgAEHABWokAEF/IANFDQAaIAJBwAFqEKQBIAJBgANqIQhBACEAIwBB4ARrIgEkACABQeAAENABIQECQCAFBEADQCAAQeAARgRAIAEgAS0AAEEfcToAACABQeAAaiABEB9BACEAAkAgDSwAACILQQBOBEAgDUHgAGohAyAFQeAAIAVB4ABLG0HgAGshBANAIABB4ABGBEAgAUHgAWoiACABEB8gCCABQeAAaiAAED8MAwsgACAERwRA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AWoQmQEgACAEEBEgAEGAAWoiASAFQYABahCZASABIAgQESAAIAEQeg0BC0EADAELQQELIQEgAEGAAmokACANQcAHaiQAQX8gAUUNABojAEHgA2siACQAIABBgAFqIgFBwKjAABBJIABBuAFqIgNB+KjAABBJIAAgASADEEsgAEHwAmoiAUGwqcAAEEkgAEGoA2oiA0HoqcAAEEkgAEHwAWoiBCABIAMQSyACQYAGaiIBIAAgBBA/IABB4ANqJAAgAkGACWohByACQYADaiEIIwBBkDRrIgAkACAAQYAoaiIDQcitwAAQSSAAQYguaiIEQYCuwAAQSSAAIAMgBBBLIABBgAFqQTgQ0AEaIABBuAFqQTgQ0AEaIABB8AFqED0CQCACQcABaiIEEIYBRQRAIAIQhgEEQCAHIAEgBBAODAILIABB8ARqIgMQPSADIAEQfSADEEcgAEHwB2oiBRBnIAUgBBB4IAUQRiAAQbAJaiIEED0gBCAIEH0gBBBHIABBsAxqIggQZyAIIAIQeCAIEEYgAEGILmoiASAFEJABIABB8A1qIAEQkAEgASAAQbAIahCQASAAQbAOaiABEJABIAEgCBCQASAAQfAOaiABEJABIAEgAEHwDGoQkAEgAEGwD2ogARCQASAAQfAPaiIBED0gAEHwEmoiBRA9IABB8BVqEFUgASADEH0gBSAEEH0gAEH4G2oiARA9IAEgAxB9IAEQogEgAEH4HmoiARA9IAEgBBB9IAEQogEgAEG4AWogAEGAAWoQUEECayEBA0AgAUEBakEBTQRAIABB8BVqIgEQngEgByABQYgGENEBGgwDBSAAQfAVaiIEEBogAEH4IWoiAyAAQfAPaiAAQfANaiAAQbAOahALIABBgChqIgUgAEHwEmogAEHwDmogAEGwD2oQCyADIAUQAyAEIAMQAQJAAkACQCAAQbgBaiABEFMgAEGAAWogARBTa0EBag4DAQIAAgsgAEGILmoiAyAAQfAPaiAAQfAEaiAAQfANaiAAQbAOahAKIABB+CFqIgQgA0GIBhDRARogAyAAQfASaiAAQbAJaiAAQfAOaiAAQbAPahAKIAQgAxADIABB8BVqIAQQAQwBCyAAQYguaiIDIABB8A9qIABB+BtqIABB8A1qIABBsA5qEAogAEH4IWoiBCADQYgGENEBGiADIABB8BJqIABB+B5qIABB8A5qIABBsA9qEAogBCADEAMgAEHwFWogBBABCyABQQFrIQEMAQsACwALIAcgCCACEA4LIABBkDRqJAAjAEHgH2siCCQAIAhB0BNqIgFByK3AABBJIAhB2BlqIg1BgK7AABBJIAggASANEEsgCEGAAWoiC0GQrcAAEEkgAkGID2oiACAHEGkgCEG4AWoiBSAAEGkjAEGACGsiAyQAIAMgBRCMASADQYACaiIJIAVBgAJqIg8QjAEgA0GABGoiCiAFEIwBIANBgAZqIgRBOBDQARogA0EBNgK4BiADQcAGakE4ENABGiADQfgGakEBNgIAIANBgAdqQTgQ0AEaIANBuAdqQQE2AgAgA0HAB2pBOBDQARogA0H4B2pBATYCACAFEJ0BIAMQISAJIAVBgARqIgwQGCAJEGQgAyAJEHkgAxCwASAJIAwQlgEgCRAhIAkQZCAKIA8QGCAJIAoQeSAJELABIAogDxCWASAKECEgBCAFEJYBIAQgDBAYIAogBBB5IAoQsAEgBCAPEJYBIAQgChAYIAQQZCAFIAMQGCAEIAUQlwEgDCAJEBggDBBkIAQgDBCXASAEELABIwBBgAJrIgYkACAGIAQQXiAGQYABaiIQIARBgAFqIhIQXiAGEC0gEBAtIBAQfCAQEKkBIAYgEBB7IAYQPiAEIAYQESAGEDYgBhCpASASIAYQESAGQYACaiQAIAUgAxCWASAFIAQQGCAPIAkQlgEgDyAEEBggDCAKEJYBIAwgBBAYIAVBBTYCgAYgA0GACGokACAAEJ4BIAAgBRAHIAUgABBtIAAgCBAyIAAgCBAyIAAgBRAHIAhBwAdqIgQgABBpIAQQEyAEIAAQByANIAAgCxAbIAhByA1qIgMgDRBpIAMQngEgASAAEGkgARCeASAAIAMQbSAAIAEQByANIAAgCxAbIAMgDRBtIAMQngEgASAAEG0gARCeASAAIAMQbSAAIAEQByANIAAgCxAbIAMgDRBtIAMQngEgASAAEG0gASAIEDIgACADEG0gACABEAcgDSAAIAsQGyADIA0QbSANIAMgCxAbIAMgDRBtIAEgABBtIAEgCBAyIAEgCBAyIAMgARAHIAEgABBtIAEQngEgACADEG0gACABEAcgACAEEAcgABCcASAIQeAfaiQAIAcgAEGIBhDRARpBACEAIwBBgAJrIgEkACABEGwCQCAHIAEQegR/IAdBgAFqIAFBgAFqEHoFQQALRQ0AIAdBgAJqEIcBRQ0AIAdBgARqEIcBIQALIAFBgAJqJABBACAADQAaQX8LIAJBkBVqJAAgDkEoahC0ASAOQSBqELQBIA5BGGoQtAEgDkEwaiQAC58BAgJ/BX4gAEEwaiICKQMAIAFBP3GtIgSGIQUgACkDKCIGQTogAWtBP3GtIgiHIQdBBiEBA38gAiAFIAeENwMAIAFBAU0EfyAAIAApAwAgBIZC//////////8DgzcDACAAKQMwQiSHpwUgAUEBayEBIAJBEGsiA0EIaiECIAYgBIZC//////////8DgyEHIAMpAwAiBiAIhyEFDAELCxoLiAECA34DfyMAQRBrIgUkAAN+IAZBOEYEfiAFQRBqJAAgAwUgBSAAIAZqIgcpAwAiAiACQj+HIAGsIgIgAkI/hxAvIAcgBSkDACIEIAN8IgJC//////////8DgzcDACACIARUrSAFQQhqKQMAIANCP4d8fEIGhiACQjqIhCEDIAZBCGohBgwBCwsLigECA38BfiMAQUBqIgIkACACQQhqIgEgABBdIAEQQiACQThqIQFBBiEDQdwCIQACQAJAA0AgA0EATgRAIAEpAwAiBEIAUg0CIAFBCGshASAAQTprIQAgA0EBayEDDAELC0EAIQAMAQsDQCAEUA0BIABBAWohACAEQgJ/IQQMAAsACyACQUBrJAAgAAuHAQEDfyMAQYACayIBJAAgABCwASABIAAQXiABQYABaiICQTgQ0AEaIAFBATYCuAEgAUHAAWpBOBDQARogAUH4AWpBATYCACABIABBgAFqIgMQmgEgARA2IAIgARCZASACIAMQmgEgAyABEJkBIAMgABCaASAAIAIQmQEgABCwASABQYACaiQAC30CBH4BfyABQT9xrSECQTogAWtBP3GtIQRBACEBIAApAwAiBSEDA38gAUEwRgR/IAAgACkDMCAChzcDMCAFQn8gAoZCf4WDpwUgACABaiIGIAMgAocgBkEIaikDACIDIASGQv//////////A4OENwMAIAFBCGohAQwBCwsaC2kBBH8jAEHAAWsiASQAIAEgABCQASABQUBrIgIgABCQASABQYABaiIDIABBQGsiBBCQASABIAQQdyACIAAQdyACEEIgBCACEEogAxBDIAAgAxB3IAEQQiAAEEIgACABEEogAUHAAWokAAuCAQIBfwF+IABB8AAQ0AEhAANAIAJBOEYEQAJAIAAgASkDMCIDQjqHNwM4IAAgA0L//////////wODNwMwIABBQGshAEEAIQIDQCACQTBGDQEgACACakIANwMAIAJBCGohAgwACwALBSAAIAJqIAEgAmopAwA3AwAgAkEIaiECDAELCwtuAQZ+IAAgA0L/////D4MiBSABQv////8PgyIGfiIHIAUgAUIgiCIIfiIJIAYgA0IgiCIGfnwiBUIghnwiCjcDACAAIAcgClatIAYgCH4gBSAJVK1CIIYgBUIgiIR8fCABIAR+IAIgA358fDcDCAtqAgF/BX4gASkDCCAAKQMAhSIGQgGGQgGHIQdBACACa6whCAN+IANBOEYEfiAFBSAAIANqIgIgAikDACIEIAaFIAEgA2opAwAgBIUgCIOFIgQgB4U3AwAgBCAFhSEFIANBCGohAwwBCwsaC18CAX8EfkIBIQNBMCECA38gAkF4RgR/IARCAYYgA3ynQQFrBSABIAJqKQMAIgUgACACaikDACIGfUI6hyADgyAEhCEEIAJBCGshAiAFIAaFQgF9QjqHIAODIQMMAQsLC2kBBH8jAEGAAmsiAiQAIAIgARBeIAJBgAFqIgMgARBeIAIQLSADIAIQESAAIAMQmAEgAEGAAmoiBCADEJgBIABBgARqIgUgAxCYASAEIAEQpgEgBSACEKYBIABBBTYCgAYgAkGAAmokAAtiAQJ/IwBBQGoiAiQAIAAQQiACIAAQkAECQCABBEAgACABEK4BDAELIAAQOgtBACEBA0AgA0UEQCAAEExBASABQQFqIAFBAUYiAxshAQwBCwsgACACEEogABAeIAJBQGskAAtnAQJ/IwBBQGoiAyQAAkAgASABQR91IgJqIAJzIgIgACgCOGxBgICAEE4EQCADIAIQOSAAIAMQSgwBCyAAIAIQKRogACAAKAI4IAJsNgI4CyABQQBIBEAgABBDIAAQQgsgA0FAayQAC2cAIABBAXYgAHIiAEECdiAAciIAQQR2IAByIgBBCHYgAHIiAEEQdiAAciIAIABBAXZB1arVqgVxayIAQQJ2QbPmzJkDcSAAQbPmzJkDcWoiAEEEdiAAakGPnrz4AHFBgYKECGxBGHYLYQEDfyMAQYABayIBJAAgASAAEJABIAFBQGsiAkE4ENABGiABQQE2AnggASAAQUBrIgMQdyABEEMgAiABEK4BIAIgAxB3IAMgARCuASADIAAQdyAAIAIQrgEgAUGAAWokAAtVAgJ/AX4jAEHwAGsiASQAIAFBwLLAABBJIAApAwAhAyABQThqIgIgABBdIABBARAsIAIgARBgIAIQQiACQQEQLCAAIAIgA0ICgacQMCABQfAAaiQAC5gBAQZ/IwBBwAFrIgMkACAAIAEQXiAAEC0gA0GIAWoiBkHop8AAEEkjAEFAaiIEJAAgA0EIaiICQTgQ0AEiBUEBNgI4IAVBQGtBOBDQASAFQfgAakEBNgIAIAQgBhCOASAFIAQQrgEQwQEgBEFAayQAIAIQqQEgAhB8IAIQqQEgACABEBEgACACEJoBIAAQtQEgA0HAAWokAAtZAQJ/IwBBQGoiAyQAIABBOBDQASIAQQE2AjgCQCABQQBOBEAgACABEJMBDAELIANBCGoiAkHAssAAEEkgAiABEJMBIAIQQiAAIAIQagsgABBUIANBQGskAAu9CAEKfyMAQYABayIHJAAgB0EIaiIDQcCywAAQSSADQQEQlAECQAJAA0AgAUEwRgRAIANBMGogAykDMEIBhzcDACADQThqIQEDQCACRQ0EIAFCADcDACACQQFrIQIgAUEIaiEBDAALAAsgAUE4Rg0BIAFBOEcEQCABIANqIAEgA2oiBEEIaikDAEI5hkL//////////wODIAQpAwBCAYeENwMAIAVBAWohBSABQQhqIQEMAQsLQQdBB0GEm8AAEDsACyAFQQdB9JrAABA7AAsgA0EBEJQBIANBARAsIAdBQGshBUEAIQIjAEGgCmsiASQAIAFBOBDQASIBQUBrQTgQ0AEhBiABQYABakE4ENABGiABQcABakE4ENABGiABQYACakE4ENABGiABQcACakE4ENABGiABQYADakE4ENABGiABQcADakE4ENABGiABQYAEakE4ENABGiABQcAEakE4ENABGiABQYAFakE4ENABGiABQcAFakE4ENABGiABQYAGakE4ENABGiABQcAGakE4ENABGiABQYAHakE4ENABGiABQcAHakE4ENABGiABQfgHakEBNgIAIAFBuAdqQQE2AgAgAUH4BmpBATYCACABQbgGakEBNgIAIAFB+AVqQQE2AgAgAUG4BWpBATYCACABQfgEakEBNgIAIAFBuARqQQE2AgAgAUH4A2pBATYCACABQbgDakEBNgIAIAFB+AJqQQE2AgAgAUG4AmpBATYCACABQfgBakEBNgIAIAFBuAFqQQE2AgAgAUH4AGpBATYCACABQQE2AjggAUGBCGpB5wAQ0AEaIAFB6AhqIgQgABCQASAEEEIgAUGoCWoiBCADEF0gBBBCIAQQKkEDaiIIQQJ2IgNBAWohCQJAA0AgAiAJRgRAIAEQygEgBiABQegIahCuASABQeAJakE4ENABGiABQQE2ApgKQYB5IQIMAgsgAUGoCWoiBCAEQQQQjwEiChCUASAEEEIgAkHnAEcEQCABQYEIaiACaiAKOgAAIAFBqAlqQQQQLCACQQFqIQIMAQsLQecAQecAQaC0wAAQOwALA0AgAgRAIAFB4AlqIgQgASACaiIGQcAHahCuASAGQYAIaiIGIAQQrgEgBiABQegIahBKIAJBQGshAgwBCwsCQAJAAkACQCAIQZwDSQRAIAFBgQhqIANqLAAAIgJBEE8NASAFIAEgAkEGdGoQkAEgA0EBayICQeYASyEEA0AgAkF/Rg0DIAUQTCAFEEwgBRBMIAUQTCAEDQQgAUGBCGogAmotAAAiA0EQSQRAIAUgASADQQZ0ahBKIAJBAWshAgwBCwsgA0EYdEEYdUEQQeC0wAAQOwALIANB5wBBsLTAABA7AAsgAkEQQcC0wAAQOwALIAUQHiABQaAKaiQADAELIAJB5wBB0LTAABA7AAsgACAFEK4BIAdBgAFqJAALbAEBfyMAQTBrIgMkACADIAE2AgQgAyAANgIAIANBHGpBAjYCACADQSxqQQE2AgAgA0ICNwIMIANB2LjAADYCCCADQQE2AiQgAyADQSBqNgIYIAMgAzYCKCADIANBBGo2AiAgA0EIaiACEGYAC2UBAn8gACAAKAIAIgJBCGoiAzYCACAAIAJBA3ZBPHFqQShqIgIgAUH/AXEgAigCAEEIdHI2AgACQAJAIANFBEAgAEEANgIAIAAgACgCBEEBajYCBAwBCyADQf8DcQ0BCyAAEA8LC1wAIABBOBDQASIAQQE2AjggAEFAa0E4ENABGiAAQfgAakEBNgIAIABBgAFqEFEgAEGAAmpBOBDQARogAEG4AmpBATYCACAAQcACakE4ENABGiAAQfgCakEBNgIAC1sBA38jAEGAAWsiASQAIAAQqQEgASAAEJABIAFBQGsiAiAAQUBrIgMQkAEgARBMIAIQTCABIAIQdyABQQAQMyAAIAEQSiABEEMgARBCIAMgARBKIAFBgAFqJAALYQEBfyMAQYACayIDJAAgABA9IAAgARCZASAAQYABaiIBIAIQmQEgAEGAAmoQtwEgABCpASADIAAQOCADQYABaiICIAEQXiACEC0gAiADEHpFBEAgABCbAQsgA0GAAmokAAtUAQF/IwBBIGsiAiQAIAIgACgCADYCBCACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQRqIAJBCGoQDCACQSBqJAALZwAjAEEwayIBJABBpLvAAC0AAARAIAFBHGpBATYCACABQgI3AgwgAUGQtsAANgIIIAFBATYCJCABIAA2AiwgASABQSBqNgIYIAEgAUEsajYCICABQQhqQbi2wAAQZgALIAFBMGokAAtiAgF+An8gACkDACEBA34gACACaiIDIAFC//////////8DgzcDACABQjqHIQEgAkEoRgR+IAAgACkDMCABfCIBNwMwIAFCJIcFIAJBCGohAiADQQhqKQMAIAF8IQEMAQsLGgt8AQV/IwBBQGoiAyQAIANBCGoiAkHAssAAEEkgAiAAKAI4QQFrEDUiBBAoA0AgAUE4RwRAIAAgAWoiBSABIAJqKQMAIAUpAwB9NwMAIAFBCGohAQwBCwsgAEEBIARBAWp0IgI2AjggAkH///8PSgRAIAAQHgsgA0FAayQAC3sBAn8gAEEoaiECA0AgAUGAAkYEQCAAQufMp9DW0Ouzu383AgggAEIANwIAIABBIGpCq7OP/JGjs/DbADcCACAAQRhqQv+kuYjFkdqCm383AgAgAEEQakLy5rvjo6f9p6V/NwIABSABIAJqQQA2AgAgAUEEaiEBDAELCwtUACAAQTgQ0AEiAEEBNgI4IABBQGtBOBDQARogAEH4AGpBATYCACAAQYABakE4ENABGiAAQbgBakEBNgIAIABBwAFqQTgQ0AEaIABB+AFqQQE2AgALWAECfyMAQUBqIgEkAAJAIAAQhgENACABQQEQOSAAQYABaiICIAEQWA0AIAJBABAzIAAgAhBKIAAQHiAAQUBrIgAgAhBKIAAQHiACIAEQrgELIAFBQGskAAtZAQJ/IwBBgAFrIgEkAAJAIAAQigENACABEFEgAEGAAmoiAiABEHoNACACED4gACACEBEgABC1ASAAQYABaiIAIAIQESAAELUBIAIgARCZAQsgAUGAAWokAAtbAgF+An8gACkDACEBA0AgACACaiIDIAFC//////////8DgzcDACABQjqHIQEgAkHgAEYEQCAAIAApA2ggAXw3A2gFIAJBCGohAiADQQhqKQMAIAF8IQEMAQsLC08BAX8gAEE4ENABGgJAA0AgAkEHRwRAIAJBB0YNAiAAIAEpAwA3AwAgAEEIaiEAIAFBCGohASACQQFqIQIMAQsLDwtBB0EHQeSawAAQOwALVAECfyMAQbABayICJAAgATQCOCAANAI4fkL///8PVQRAIAAQHgsgAkEIaiIDIAAgARAFIAJB+ABqIgEgAxBrIAAgARBqIABBAjYCOCACQbABaiQAC1EBAn8jAEFAaiIDJAAgAEE4ENABIgBBATYCOCAAQUBrQTgQ0AEgAEH4AGpBATYCACADIAEQjgEgACADEK4BIAMgAhCOASADEK4BIANBQGskAAvwDAIRfwh+IwBBsAFrIg8kACAANAI4IhIgEn5C////D1YEQCAAEB4LIwBB0AFrIgEkACAPQQhqIgZBCGpB0AAQ0AEaIAFBwAFqIAApAwAiFyAXQj+HIhYgFyAWEC8gBiABKQPAASISQv//////////A4M3AwAgAUHIAWopAwAiFUIGhiASQjqIhCETIBVCOoghGCAAQQhqIgwhDSAAIQlBASEKQQEhBwJAA0AgCkEERgRAIABBGGohCiAAQRBqIQkgAEEoaiEMIAApAzAhF0EHIQUgAUHIAGohCwNAIAVBC0kEQCABQUBrIAVBA3QiCCAAakEwaykDACISIBJCP4cgFyAXQj+HIhYQLyAFQQFqIg1BAXYhByALKQMAIRUgASkDQCESIAkhAiAMIQQgBUEFayIOIQMDQCADIAdJBEAgASACKQMAIhQgFEI/hyAEKQMAIhQgFEI/hxAvIAEpAwAiFCASfCISIBRUrSABQQhqKQMAIBV8fCEVIAJBCGohAiAEQQhrIQQgA0EBaiEDDAELCyAGIAhqIBJCAYYiFCATfCITQv//////////A4M3AwAgAUEwaiAAIA5BA3RqKQMAIhkgGUI/hyAXIBYQLyATIBRU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aikDADcDACACQQhqIQIMAQsLC4QJAg1/Cn4jAEFAaiILJAAgC0EIaiIJQcCywAAQSSMAQZACayICJAAgAEEwENABIQogAkHoAGpB8AAQ0AEaIAJB4AFqQTAQ0AEaIAoQcSACIAEiDCkDACIQQv3/8//P///5AX5C//////////8DgyISNwPYASACQdgAaiASQgAgCSkDACIXIBdCP4ciGBAvIBAgAikDWCIPfCITIA9UrSACQeAAaikDACAQQj+HfHwiEEI6hyABKQMIIg9CP4d8IA8gEEIGhiATQjqIhCITfCIQIBNUrXwhD0EBIQBCACETAkACQANAAkAgAEEHRgRAQQYhB0EAIQhBByEADAELIABBAXYiAUEBaiEGIAggAWshAyABQQN0IgFBCGohBCAHIAFrIQUgAkHIAGogCSAAQQN0Ig1qKQMAIhUgFUI/hyIWIBJCABAvIAJB0ABqKQMAIBAgECATfCIRVq0gDyAUfHx8IBEgAikDSHwiDyARVK18IRAgAEEBaiEBA0AgACAGTQRAIAJB2AFqIA1qIA9C/f/z/8////kBfkL//////////wODIhE3AwAgAkE4aiARQgAgFyAYEC8gAkEoaiARQgAgFSAWEC8gAkHoAGogAEEEdGoiACACQTBqKQMAIhE3AwggACACKQMoIhU3AwAgDyACKQM4IhZ8Ig8gFlStIAJBQGspAwAgEHx8IhBCOocgDCABQQN0aikDACIWQj+HfCAWIBBCBoYgD0I6iIQiD3wiECAPVK18IQ8gEyAVfCITIBVUrSARIBR8fCEUIAdBCGohByAIQQFqIQggASEADAMLIANBB08NAyACQRhqIAQgCWopAwAgBSAJaikDAH0iESARQj+HIAJB2AFqIg4gBWopAwAgBCAOaikDAH0iESARQj+HEC8gAikDGCIRIA98Ig8gEVStIAJBIGopAwAgEHx8IRAgBkEBaiEGIARBCGohBCAFQQhrIQUgA0EBayEDDAALAAsLA0ACQAJAIABBDUcEQCAHIABBAXYiBmshAyAIIAZBA3QiAWshBCABQQhqIQUgDyAUfCAQIBN8Ig8gEFStfCEQIABBAWohAQNAIAZBBUsNAyADQQdPDQIgAkEIaiAFIAlqKQMAIAQgCWpBMGopAwB9IhIgEkI/hyACIARqQYgCaikDACACQdgBaiAFaikDAH0iEiASQj+HEC8gAikDCCISIA98Ig8gElStIAJBEGopAwAgEHx8IRAgBkEBaiEGIARBCGshBCADQQFrIQMgBUEIaiEFDAALAAsgCiAQQv//////////A4M3AzAgAkGQAmokAAwECyADQQdBpJzAABA7AAsgAEEDdCAKakE4ayAPQv//////////A4M3AwAgEEI6hyAMIAFBA3RqKQMAIhJCP4d8IBIgEEIGhiAPQjqIhCIPfCIQIA9UrXwhDyAUIABBBHQgAmpBCGoiAEEIaikDAH0gEyAAKQMAIhJUrX0hFCAIQQhqIQggB0EBaiEHIBMgEn0hEyABIQAMAAsACyADQQdBlJzAABA7AAsgC0FAayQACy4BAX8jAEGAAWsiASQAIAAQRSABEFEgACABEJkBIABBgAFqELYBIAFBgAFqJAALMwAgACABEJYBIABBgAJqIAFBgAJqEJYBIABBgARqIAFBgARqEJYBIAAgASgCgAY2AoAGCygAIAAgASACEHIgAEFAayABQUBrIAIQciAAQYABaiABQYABaiACEHILLQAgACABIAIQjQEgAEGAAWogAUGAAWogAhCNASAAQYACaiABQYACaiACEI0BCycBAn8jAEFAaiICJAAgAkEIaiIDIAEQvgEgACADEI4BIAJBQGskAAsiAQF/A0AgAUE4RwRAIAAgAWpCADcDACABQQhqIQEMAQsLCyUAIAAgASACEDAgAEEAIAJrIAAoAjgiACABKAI4c3EgAHM2AjgLJwAgACAAKAIEQQFxIAFyQQJyNgIEIAAgAWoiACAAKAIEQQFyNgIECyMAA0AgAgRAIAAgAS0AABA8IAJBAWshAiABQQFqIQEMAQsLCywAIAAQiwEgACABEJYBIABBgAJqIAIQlgEgAEGABGogAxCWASAAQQU2AoAGCyMBAX8jAEFAaiIBJAAgASAAEJABIAEQHiABEFcgAUFAayQACykAIAAgARBgIAAgACgCOCABKAI4aiIBNgI4IAFB////D0oEQCAAEB4LCyUAIAAgARCuASAAQUBrIAFBQGsQrgEgAEGAAWogAUGAAWoQrgELKAEBfyMAQYACayICJAAgAiABEIwBIAIQKyAAIAIQlwEgAkGAAmokAAscAQF/IAAgARBYBH8gAEFAayABQUBrEFgFQQALCycBAX8jAEGAAWsiAiQAIAIgARBeIAIQNiAAIAIQmgEgAkGAAWokAAtRAQN/IwBBgAFrIgEkACABIAAQXiMAQUBqIgIkACACIAAQkAEgACAAQUBrIgMQrgEgABBDIAMgAhCuASACQUBrJAAgACABEJoBIAFBgAFqJAALJwAgACABEJkBIABBgAFqIAFBgAFqEJkBIABBgAJqIAFBgAJqEJkBCyUBAX8jAEFAaiICJAAgAiABEJABIAIQQyAAIAIQdyACQUBrJAALHgACQCAAQQRqKAIARQ0AIAAoAgAiAEUNACAAEAQLCyABAX8CQCAAKAIEIgFFDQAgAEEIaigCAEUNACABEAQLC4MBACACIANJBEAjAEEwayIAJAAgACACNgIEIAAgAzYCACAAQRxqQQI2AgAgAEEsakEBNgIAIABCAjcCDCAAQYS7wAA2AgggAEEBNgIkIAAgAEEgajYCGCAAIABBBGo2AiggACAANgIgIABBCGpBlLvAABBmAAsgACADNgIEIAAgATYCAAtIAQJ/A0AgAUE4RwRAIAAgAWoiAiACKQMAQgGGNwMAIAFBCGohAQwBCwsgACAAKAI4QQF0IgE2AjggAUH///8PSgRAIAAQHgsLIwAgAiACKAIEQX5xNgIEIAAgAUEBcjYCBCAAIAFqIAE2AgALIgEBfyMAQfAAayICJAAgAiABEC4gACACEGsgAkHwAGokAAseACAAIAFBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQLFgEBfyAAEHYEfyAAQYABahB2BUEACwsYAQF/IAAQiAEEfyAAQYABahCIAQVBAAsLFQEBfyAAEHYEfyAAQUBrEHYFQQALCxoBAX8gABBWIgEgAEFAaxBWIAFzIAAQdnFzCxgBAX8gABCIAQR/IABBgAJqEIgBBUEACwseACAAEEUgAEGAAmoQRSAAQYAEahBFIABBADYCgAYLHAAgABBFIAAgARCZASAAQYABaiABQYABahCZAQsYACAAIAEgAhByIABBQGsgAUFAayACEHILGgAgAEE4ENABIgBBATYCOCAAIAEQaiAAEFQLFAAgABBCIAAoAgBBfyABdEF/c3ELGQAgAEE4ENABIgAgARBqIAAgASgCODYCOAsZAQF/IAAoAhAiAQR/IAEFIABBFGooAgALCxgAIAAQwQEgAEFAaxDKASAAQYABahDBAQsUACAAEEIgACAAKQMAIAGsfDcDAAsUACAAEEIgACAAKQMAIAGsfTcDAAsYACAAEEUgACABEJkBIABBgAFqIAIQmQELGAAgACABEJkBIABBgAFqIAFBgAFqEJkBCxgAIAAgARCaASAAQYABaiABQYABahCaAQsYACAAEKQBIABBgAFqIgAQpAEgACABEBELFgAgACABEK4BIABBQGsgAUFAaxCuAQsUACAAIAEQdyAAQUBrIAFBQGsQdwsZACAAELYBIABBgAFqELcBIABBgAJqELYBCxkAIAAQrwEgAEGAAmoQrwEgAEGABGoQrwELGQAgABCwASAAQYACahCwASAAQYAEahCwAQsZACAAELIBIABBgAJqEMkBIABBgARqELIBCxIAQQBBGSAAQQF2ayAAQR9GGwsWACAAIAFBAXI2AgQgACABaiABNgIACxYAIAAQRSAAIAEQmQEgAEGAAWoQtgELFgAgAEGAAWoiABCpASAAEDYgABCpAQsQACAAIAFqQQFrQQAgAWtxCw8AIABBQGsiABBDIAAQQgsUACAAIAEQmQEgAEGAAWogAhCZAQsSACAAIAEQESAAQYABaiABEBELFAAgACABEKoBIABBgAFqIAEQqgELCwAgAQRAIAAQBAsLDQAgABBCIABBQGsQQgsRACAAIAEQSiAAQUBrIAEQSgsRACAAIAEQNCAAQUBrIAEQNAu+BQEHfwJ/AkACQEGAgHxBCEEIEKMBQRRBCBCjAWpBEEEIEKMBamtBd3FBA2siAkEAQRBBCBCjAUECdGsiBCACIARJGyABTQ0AQRAgAUEEakEQQQgQowFBBWsgAUsbQQgQowEhAiAAENUBIgQgBBDLASIFENIBIQMCQAJAAkACQAJAAkACQCAEEMQBRQRAIAIgBU0NASADQfi+wAAoAgBGDQIgA0H0vsAAKAIARg0DIAMQvAENByADEMsBIgYgBWoiByACSQ0HIAcgAmshBSAGQYACSQ0EIAMQFwwFCyAEEMsBIQMgAkGAAkkNBiADIAJrQYGACEkgAkEEaiADTXENBSAEKAIAGiACQR9qQYCABBCjARoMBgtBEEEIEKMBIAUgAmsiA0sNBCAEIAIQ0gEhBSAEIAIQcyAFIAMQcyAFIAMQDQwEC0HwvsAAKAIAIAVqIgUgAk0NBCAEIAIQ0gEhAyAEIAIQcyADIAUgAmsiAkEBcjYCBEHwvsAAIAI2AgBB+L7AACADNgIADAMLQey+wAAoAgAgBWoiBSACSQ0DAkBBEEEIEKMBIAUgAmsiA0sEQCAEIAUQc0EAIQNBACEFDAELIAQgAhDSASIFIAMQ0gEhBiAEIAIQcyAFIAMQoAEgBiAGKAIEQX5xNgIEC0H0vsAAIAU2AgBB7L7AACADNgIADAILIANBDGooAgAiCCADQQhqKAIAIgNHBEAgAyAINgIMIAggAzYCCAwBC0Hcu8AAQdy7wAAoAgBBfiAGQQN2d3E2AgALQRBBCBCjASAFTQRAIAQgAhDSASEDIAQgAhBzIAMgBRBzIAMgBRANDAELIAQgBxBzCyAEDQILIAEQACICRQ0AIAIgACABIAQQywFBeEF8IAQQxAEbaiICIAEgAkkbENEBIAAQBAwCC0EADAELIAQQxAEaIAQQ1AELCw8AIABBAXQiAEEAIABrcgsSACAAIAEQaiAAIAEoAjg2AjgLEAAgABC1ASAAQYABahC1AQsQACAAEKkBIABBgAFqEKkBCxAAIAAQtgEgAEGAAWoQtgELDwAgAEGAAWoQNiAAELABCxAAIAAQuAEgAEGAAWoQuAELDwAgACgCACAAKAIEEKgBCw0AIAAQHiAAQUBrEB4LDwAgABDBASAAQUBrEMEBCw8AIAAQygEgAEFAaxDBAQsPACAAEIIBIABBQGsQggELgwMBA38CfwJAAkACQAJAIAFBCU8EQEEQQQgQowEgAUsNAQwCCyAAEAAhAwwCC0EQQQgQowEhAQtBgIB8QQhBCBCjAUEUQQgQowFqQRBBCBCjAWprQXdxQQNrIgRBAEEQQQgQowFBAnRrIgIgAiAESxsgAWsgAE0NACABQRAgAEEEakEQQQgQowFBBWsgAEsbQQgQowEiBGpBEEEIEKMBakEEaxAAIgJFDQAgAhDVASEAAkAgAUEBayIDIAJxRQRAIAAhAQwBCyACIANqQQAgAWtxENUBIQJBEEEIEKMBIQMgABDLASACQQAgASACIABrIANLG2oiASAAayICayEDIAAQxAFFBEAgASADEHMgACACEHMgACACEA0MAQsgACgCACEAIAEgAzYCBCABIAAgAmo2AgALIAEQxAENASABEMsBIgJBEEEIEKMBIARqTQ0BIAEgBBDSASEAIAEgBBBzIAAgAiAEayIEEHMgACAEEA0MAQsgAwwBCyABENQBIAEQxAEaCwuOBAEFfyAAKAIAIQAjAEEQayIEJAACQAJ/AkAgAUGAAU8EQCAEQQA2AgwgAUGAEE8NASAEIAFBP3FBgAFyOgANIAQgAUEGdkHAAXI6AAxBAgwCCyAAKAIIIgIgAEEEaigCAEYEQCMAQSBrIgMkAAJAAkAgAiACQQFqIgVLDQAgAEEEaigCACICQQF0IgYgBSAFIAZJGyIFQQggBUEISxshBQJAIAIEQCADQRhqQQE2AgAgAyACNgIUIAMgACgCADYCEAwBCyADQQA2AhALIAMgBSADQRBqECYgAygCAARAIANBCGooAgAiAEUNASADKAIEIAAQzwEACyADKAIEIQIgAEEEaiAFNgIAIAAgAjYCACADQSBqJAAMAQsQZQALIAAoAgghAgsgACACQQFqNgIIIAAoAgAgAmogAToAAAwCCyABQYCABE8EQCAEIAFBP3FBgAFyOgAPIAQgAUESdkHwAXI6AAwgBCABQQZ2QT9xQYABcjoADiAEIAFBDHZBP3FBgAFyOgANQQQMAQsgBCABQT9xQYABcjoADiAEIAFBDHZB4AFyOgAMIAQgAUEGdkE/cUGAAXI6AA1BAwshASABIABBBGooAgAgAEEIaiIDKAIAIgJrSwRAIAAgAiABECIgAygCACECCyAAKAIAIAJqIARBDGogARDRARogAyABIAJqNgIACyAEQRBqJABBAAsTACAAQZS3wAA2AgQgACABNgIACw0AIAAtAARBAnFBAXYL5QYCDH8CfiMAQbAcayIDJAACQAJAAkAgAhBXDQAgARCGAQ0AIANBCGoQZyADQcgBaiIFIAIQXQNAIARBOEcEQCAEIAVqIgYgBikDACACIARqKQMAhDcDACAEQQhqIQQMAQsLIAUQKiEHQQAhBCADQYACakE4ENABGiADQbgCakE4ENABGiADQfACaiIFEGcgA0GwBGoQZyADQfARaiIIEGcgA0GwE2oiCRBnIANB8BRqIgoQZyADQbAWaiILEGcgA0HwF2oiDBBnIANBsBlqIg0QZyADQfAaaiIGEGcgA0GwEGoQZyADQfAFaiIOIAhBwAEQ0QEaIANBsAdqIAlBwAEQ0QEaIANB8AhqIApBwAEQ0QEaIANBsApqIAtBwAEQ0QEaIANB8AtqIAxBwAEQ0QEaIANBsA1qIA1BwAEQ0QEaIANB8A5qIAZBwAEQ0QEaIAZB5wAQ0AEaIAUgARB4IAUQFCAOIAEQeAwBCyAAEGcMAQsDQCAEQcAKRwRAIANBsARqIgUgA0HwBWogBGoiBhB4IAZBwAFqIgYgBRB4IAYgA0HwAmoQCSAEQcABaiEEDAELCyADQbgCaiIEIAIQaiADKQO4AiEPIARBARCTASAEEEIgAykDuAIhECADQYACaiICIAQQaiACQQEQkwEgAhBCIAQgAiAPQgKBpxAwIANB8AJqIgQgASAQQgKBpxBuIAdBA2oiBkECdiIBQQFqIQIgA0GwBGogBBB4QQAhBAJAAkADQCADQbgCakEFEI8BIQUgAiAERgRAIAZBmANPDQIgA0HwGmogAmogBToAACADQQhqIANB8AVqIAVBGHRBGHUQHQwDCyAEQecARwRAIANB8BpqIARqIAVBEGsiBzoAACADQbgCaiIFIAdBGHRBGHUQlAEgBRBCIAVBBBAsIARBAWohBAwBCwtB5wBB5wBBuIHAABA7AAsgAkHnAEHIgcAAEDsACwNAIAFBf0cEQCADQfACaiIEIANB8AVqIANB8BpqIAFqLAAAEB0gAUEBayEBIANBCGoiAhAUIAIQFCACEBQgAhAUIAIgBBAJDAELCyMAQcABayIBJAAgARBnIAEgA0GwBGoQeCABEKQBIANBCGoiAiABEAkgAUHAAWokACAAIAJBwAEQ0QEaCyADQbAcaiQAC1ABAX8gAEE4ENABIQACQANAIAJBMEYNASAAQQgQKCACQTBHBEAgACAAKQMAIAEgAmoxAAB8NwMAIAJBAWohAgwBCwsgAkEwQaSbwAAQOwALCw0AIAAQNiAAIAEQmgELDAAgACABEGogABBUCw0AIAAQcSAAQQE2AjgLDAAgABBDIAAgARB3CwoAQQAgAGsgAHELCwAgAC0ABEEDcUULDAAgACABQQNyNgIECw0AIAAoAgAgACgCBGoLDgAgACgCABoDQAwACwALgQgCCX8CfiAANQIAIQsjAEEwayIGJABBJyEAAkAgC0KQzgBUBEAgCyEMDAELA0AgBkEJaiAAaiICQQRrIAsgC0KQzgCAIgxCkM4Afn2nIgNB//8DcUHkAG4iBEEBdEHouMAAai8AADsAACACQQJrIAMgBEHkAGxrQf//A3FBAXRB6LjAAGovAAA7AAAgAEEEayEAIAtC/8HXL1YgDCELDQALCyAMpyICQeMASwRAIABBAmsiACAGQQlqaiAMpyICIAJB//8DcUHkAG4iAkHkAGxrQf//A3FBAXRB6LjAAGovAAA7AAALAkAgAkEKTwRAIABBAmsiACAGQQlqaiACQQF0Qei4wABqLwAAOwAADAELIABBAWsiACAGQQlqaiACQTBqOgAACwJ/IAZBCWogAGohCEErQYCAxAAgASgCACIDQQFxIgIbIQQgAkEnIABrIglqIQJBlLjAAEEAIANBBHEbIQUCQAJAIAEoAghFBEBBASEAIAEgBCAFEFINAQwCCwJAAkACQAJAIAIgAUEMaigCACIDSQRAIAEtAABBCHENBEEAIQAgAyACayICIQNBASABLQAgIgcgB0EDRhtBA3FBAWsOAgECAwtBASEAIAEgBCAFEFINBAwFC0EAIQMgAiEADAELIAJBAXYhACACQQFqQQF2IQMLIABBAWohACABQRxqKAIAIQcgASgCBCECIAEoAhghCgJAA0AgAEEBayIARQ0BIAogAiAHKAIQEQQARQ0AC0EBDAQLQQEhACACQYCAxABGDQEgASAEIAUQUg0BIAEoAhggCCAJIAEoAhwoAgwRBQANASABKAIcIQQgASgCGCEBQQAhAAJ/A0AgAyAAIANGDQEaIABBAWohACABIAIgBCgCEBEEAEUNAAsgAEEBawsgA0khAAwBCyABKAIEIQcgAUEwNgIEIAEtACAhCkEBIQAgAUEBOgAgIAEgBCAFEFINAEEAIQAgAyACayICIQMCQAJAAkBBASABLQAgIgQgBEEDRhtBA3FBAWsOAgABAgtBACEDIAIhAAwBCyACQQF2IQAgAkEBakEBdiEDCyAAQQFqIQAgAUEcaigCACECIAEoAgQhBCABKAIYIQUCQANAIABBAWsiAEUNASAFIAQgAigCEBEEAEUNAAtBAQwDC0EBIQAgBEGAgMQARg0AIAEoAhggCCAJIAEoAhwoAgwRBQANACABKAIcIQAgASgCGCEFQQAhAgJAA0AgAiADRg0BIAJBAWohAiAFIAQgACgCEBEEAEUNAAtBASEAIAJBAWsgA0kNAQsgASAKOgAgIAEgBzYCBEEADAILIAAMAQsgASgCGCAIIAkgAUEcaigCACgCDBEFAAsgBkEwaiQACwsAIAAQNiAAELABCysCAX8BfkIBIQIDQCAAIAFq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AAANAEHgs8AAC8EHYXR0ZW1wdCB0byBkaXZpZGUgYnkgemVybwAAAAAAAABhdHRlbXB0IHRvIGRpdmlkZSB3aXRoIG92ZXJmbG93ALAZEAASAAAADAIAAA0AAACwGRAAEgAAABgCAAAmAAAAsBkQABIAAAAYAgAAIwAAALAZEAASAAAAHgIAABcAAACwGRAAEgAAAB4CAAAUAAAAqqr//////gHu//9UrP//AupBYg9rDyoBw5z9ShTOEwJLd2TXrEtDAu3pxpKm+V8Cox4RoAEAAAADAAAABAAAAAQAAAAEAAAABQAAAAYAAABjYWxsZWQgYE9wdGlvbjo6dW53cmFwKClgIG9uIGEgYE5vbmVgIHZhbHVlbWVtb3J5IGFsbG9jYXRpb24gb2YgIGJ5dGVzIGZhaWxlZAoAAOsaEAAVAAAAABsQAA4AAABsaWJyYXJ5L3N0ZC9zcmMvYWxsb2MucnMgGxAAGAAAAEkBAAAJAAAAbGlicmFyeS9zdGQvc3JjL3Bhbmlja2luZy5yc0gbEAAcAAAARgIAAB8AAABIGxAAHAAAAEcCAAAeAAAABwAAAAwAAAAEAAAACAAAAAMAAAAIAAAABAAAAAkAAAAKAAAAEAAAAAQAAAALAAAADAAAAAMAAAAIAAAABAAAAA0AAAAOAAAAbGlicmFyeS9hbGxvYy9zcmMvcmF3X3ZlYy5yc2NhcGFjaXR5IG92ZXJmbG93AAAA6BsQABEAAADMGxAAHAAAAAUCAAAFAAAAEAAAAAAAAAABAAAAEQAAAGluZGV4IG91dCBvZiBib3VuZHM6IHRoZSBsZW4gaXMgIGJ1dCB0aGUgaW5kZXggaXMgAAAkHBAAIAAAAEQcEAASAAAAMDAwMTAyMDMwNDA1MDYwNzA4MDkxMDExMTIxMzE0MTUxNjE3MTgxOTIwMjEyMjIzMjQyNTI2MjcyODI5MzAzMTMyMzMzNDM1MzYzNzM4Mzk0MDQxNDI0MzQ0NDU0NjQ3NDg0OTUwNTE1MjUzNTQ1NTU2NTc1ODU5NjA2MTYyNjM2NDY1NjY2NzY4Njk3MDcxNzI3Mzc0NzU3Njc3Nzg3OTgwODE4MjgzODQ4NTg2ODc4ODg5OTA5MTkyOTM5NDk1OTY5Nzk4OTkgb3V0IG9mIHJhbmdlIGZvciBzbGljZSBvZiBsZW5ndGggbGlicmFyeS9jb3JlL3NyYy9zbGljZS9pbmRleC5yc3JhbmdlIGVuZCBpbmRleCAAAABxHRAAEAAAADAdEAAiAAAAUh0QAB8AAABJAAAABQB7CXByb2R1Y2VycwIIbGFuZ3VhZ2UBBFJ1c3QADHByb2Nlc3NlZC1ieQMFcnVzdGMdMS42MS4wIChmZTViMTNkNjggMjAyMi0wNS0xOCkGd2FscnVzBjAuMTkuMAx3YXNtLWJpbmRnZW4SMC4yLjgxICgwNjJhYTVmNzAp`;\n//# sourceMappingURL=wasm.js.map","import * as base64Arraybuffer from 'base64-arraybuffer';\n// This WASM is generated from the miracl BLS Rust code (see\n// https://github.com/dfinity/miracl_core_bls12381/)\nimport { wasmBytesBase64 } from './wasm';\nlet wasm;\nconst wasmBytes = base64Arraybuffer.decode(wasmBytesBase64);\n/**\n * @returns {number}\n */\nexport function bls_init() {\n    let ret = wasm.bls_init();\n    return ret;\n}\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachegetUint8Memory0;\n}\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1);\n    getUint8Memory0().set(arg, ptr / 1);\n    return [ptr, arg.length];\n}\n/**\n * @param {Uint8Array} sig\n * @param {Uint8Array} m\n * @param {Uint8Array} w\n * @returns {number}\n */\nexport function bls_verify(sig, m, w) {\n    const [ptr0, len0] = passArray8ToWasm0(sig, wasm.__wbindgen_malloc);\n    const [ptr1, len1] = passArray8ToWasm0(m, wasm.__wbindgen_malloc);\n    const [ptr2, len2] = passArray8ToWasm0(w, wasm.__wbindgen_malloc);\n    const ret = wasm.bls_verify(ptr0, len0, ptr1, len1, ptr2, len2);\n    return ret;\n}\nasync function load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n    }\n    else {\n        const instance = await WebAssembly.instantiate(module, imports);\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n        }\n        else {\n            return instance;\n        }\n    }\n}\nasync function init() {\n    const imports = {};\n    const { instance, module } = await load(wasmBytes, imports);\n    wasm = instance.exports;\n    init.__wbindgen_wasm_module = module;\n    return wasm;\n}\n/**\n * If `module_or_path` is {RequestInfo} or {URL}, makes a request and\n * for everything else, calls `WebAssembly.instantiate` directly.\n *\n * @param {InitInput | Promise<InitInput>} module_or_path\n *\n * @returns {Promise<InitOutput>}\n */\nexport default init;\n//# sourceMappingURL=bls.js.map","import init, { bls_init, bls_verify } from '../vendor/bls/bls';\nexport let verify;\n/**\n *\n * @param pk primary key: Uint8Array\n * @param sig signature: Uint8Array\n * @param msg message: Uint8Array\n * @returns Promise resolving a boolean\n */\nexport async function blsVerify(pk, sig, msg) {\n    if (!verify) {\n        await init();\n        if (bls_init() !== 0) {\n            throw new Error('Cannot initialize BLS');\n        }\n        verify = (pk1, sig1, msg1) => {\n            // Reorder things from what the WASM expects (sig, m, w).\n            return bls_verify(sig1, msg1, pk1) === 0;\n        };\n    }\n    return verify(pk, sig, msg);\n}\n//# sourceMappingURL=bls.js.map","import { PipeArrayBuffer, lebDecode } from '@dfinity/candid';\nexport const decodeLeb128 = (buf) => {\n    return lebDecode(new PipeArrayBuffer(buf));\n};\n// time is a LEB128-encoded Nat\nexport const decodeTime = (buf) => {\n    const decoded = decodeLeb128(buf);\n    // nanoseconds to milliseconds\n    return new Date(Number(decoded) / 1000000);\n};\n//# sourceMappingURL=leb.js.map","import * as cbor from './cbor';\nimport { AgentError } from './errors';\nimport { hash } from './request_id';\nimport { concat, fromHex, toHex } from './utils/buffer';\nimport { Principal } from '@dfinity/principal';\nimport * as bls from './utils/bls';\nimport { decodeTime } from './utils/leb';\n/**\n * A certificate may fail verification with respect to the provided public key\n */\nexport class CertificateVerificationError extends AgentError {\n    constructor(reason) {\n        super(`Invalid certificate: ${reason}`);\n    }\n}\nconst NodeId = {\n    Empty: 0,\n    Fork: 1,\n    Labeled: 2,\n    Leaf: 3,\n    Pruned: 4,\n};\nexport { NodeId };\n/**\n * Make a human readable string out of a hash tree.\n * @param tree\n */\nexport function hashTreeToString(tree) {\n    const indent = (s) => s\n        .split('\\n')\n        .map(x => '  ' + x)\n        .join('\\n');\n    function labelToString(label) {\n        const decoder = new TextDecoder(undefined, { fatal: true });\n        try {\n            return JSON.stringify(decoder.decode(label));\n        }\n        catch (e) {\n            return `data(...${label.byteLength} bytes)`;\n        }\n    }\n    switch (tree[0]) {\n        case NodeId.Empty:\n            return '()';\n        case NodeId.Fork: {\n            if (tree[1] instanceof Array && tree[2] instanceof ArrayBuffer) {\n                const left = hashTreeToString(tree[1]);\n                const right = hashTreeToString(tree[2]);\n                return `sub(\\n left:\\n${indent(left)}\\n---\\n right:\\n${indent(right)}\\n)`;\n            }\n            else {\n                throw new Error('Invalid tree structure for fork');\n            }\n        }\n        case NodeId.Labeled: {\n            if (tree[1] instanceof ArrayBuffer && tree[2] instanceof ArrayBuffer) {\n                const label = labelToString(tree[1]);\n                const sub = hashTreeToString(tree[2]);\n                return `label(\\n label:\\n${indent(label)}\\n sub:\\n${indent(sub)}\\n)`;\n            }\n            else {\n                throw new Error('Invalid tree structure for labeled');\n            }\n        }\n        case NodeId.Leaf: {\n            if (!tree[1]) {\n                throw new Error('Invalid tree structure for leaf');\n            }\n            else if (Array.isArray(tree[1])) {\n                return JSON.stringify(tree[1]);\n            }\n            return `leaf(...${tree[1].byteLength} bytes)`;\n        }\n        case NodeId.Pruned: {\n            if (!tree[1]) {\n                throw new Error('Invalid tree structure for pruned');\n            }\n            else if (Array.isArray(tree[1])) {\n                return JSON.stringify(tree[1]);\n            }\n            return `pruned(${toHex(new Uint8Array(tree[1]))}`;\n        }\n        default: {\n            return `unknown(${JSON.stringify(tree[0])})`;\n        }\n    }\n}\nfunction isBufferEqual(a, b) {\n    if (a.byteLength !== b.byteLength) {\n        return false;\n    }\n    const a8 = new Uint8Array(a);\n    const b8 = new Uint8Array(b);\n    for (let i = 0; i < a8.length; i++) {\n        if (a8[i] !== b8[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexport class Certificate {\n    constructor(certificate, _rootKey, _canisterId, _blsVerify, \n    // Default to 5 minutes\n    _maxAgeInMinutes = 5) {\n        this._rootKey = _rootKey;\n        this._canisterId = _canisterId;\n        this._blsVerify = _blsVerify;\n        this._maxAgeInMinutes = _maxAgeInMinutes;\n        this.cert = cbor.decode(new Uint8Array(certificate));\n    }\n    /**\n     * Create a new instance of a certificate, automatically verifying it. Throws a\n     * CertificateVerificationError if the certificate cannot be verified.\n     * @constructs  Certificate\n     * @param {CreateCertificateOptions} options {@link CreateCertificateOptions}\n     * @param {ArrayBuffer} options.certificate The bytes of the certificate\n     * @param {ArrayBuffer} options.rootKey The root key to verify against\n     * @param {Principal} options.canisterId The effective or signing canister ID\n     * @param {number} options.maxAgeInMinutes The maximum age of the certificate in minutes. Default is 5 minutes.\n     * @throws {CertificateVerificationError}\n     */\n    static async create(options) {\n        let blsVerify = options.blsVerify;\n        if (!blsVerify) {\n            blsVerify = bls.blsVerify;\n        }\n        const cert = new Certificate(options.certificate, options.rootKey, options.canisterId, blsVerify, options.maxAgeInMinutes);\n        await cert.verify();\n        return cert;\n    }\n    lookup(path) {\n        // constrain the type of the result, so that empty HashTree is undefined\n        return lookupResultToBuffer(lookup_path(path, this.cert.tree));\n    }\n    lookup_label(label) {\n        return this.lookup([label]);\n    }\n    async verify() {\n        const rootHash = await reconstruct(this.cert.tree);\n        const derKey = await this._checkDelegationAndGetKey(this.cert.delegation);\n        const sig = this.cert.signature;\n        const key = extractDER(derKey);\n        const msg = concat(domain_sep('ic-state-root'), rootHash);\n        let sigVer = false;\n        const lookupTime = this.lookup(['time']);\n        if (!lookupTime) {\n            // Should never happen - time is always present in IC certificates\n            throw new CertificateVerificationError('Certificate does not contain a time');\n        }\n        const FIVE_MINUTES_IN_MSEC = 5 * 60 * 1000;\n        const MAX_AGE_IN_MSEC = this._maxAgeInMinutes * 60 * 1000;\n        const now = Date.now();\n        const earliestCertificateTime = now - MAX_AGE_IN_MSEC;\n        const fiveMinutesFromNow = now + FIVE_MINUTES_IN_MSEC;\n        const certTime = decodeTime(lookupTime);\n        if (certTime.getTime() < earliestCertificateTime) {\n            throw new CertificateVerificationError(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: ` +\n                certTime.toISOString() +\n                ' Current time: ' +\n                new Date(now).toISOString());\n        }\n        else if (certTime.getTime() > fiveMinutesFromNow) {\n            throw new CertificateVerificationError('Certificate is signed more than 5 minutes in the future. Certificate time: ' +\n                certTime.toISOString() +\n                ' Current time: ' +\n                new Date(now).toISOString());\n        }\n        try {\n            sigVer = await this._blsVerify(new Uint8Array(key), new Uint8Array(sig), new Uint8Array(msg));\n        }\n        catch (err) {\n            sigVer = false;\n        }\n        if (!sigVer) {\n            throw new CertificateVerificationError('Signature verification failed');\n        }\n    }\n    async _checkDelegationAndGetKey(d) {\n        if (!d) {\n            return this._rootKey;\n        }\n        const cert = await Certificate.create({\n            certificate: d.certificate,\n            rootKey: this._rootKey,\n            canisterId: this._canisterId,\n            blsVerify: this._blsVerify,\n            // Do not check max age for delegation certificates\n            maxAgeInMinutes: Infinity,\n        });\n        const canisterInRange = check_canister_ranges({\n            canisterId: this._canisterId,\n            subnetId: Principal.fromUint8Array(new Uint8Array(d.subnet_id)),\n            tree: cert.cert.tree,\n        });\n        if (!canisterInRange) {\n            throw new CertificateVerificationError(`Canister ${this._canisterId} not in range of delegations for subnet 0x${toHex(d.subnet_id)}`);\n        }\n        const publicKeyLookup = cert.lookup(['subnet', d.subnet_id, 'public_key']);\n        if (!publicKeyLookup) {\n            throw new Error(`Could not find subnet key for subnet 0x${toHex(d.subnet_id)}`);\n        }\n        return publicKeyLookup;\n    }\n}\nconst DER_PREFIX = fromHex('308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100');\nconst KEY_LENGTH = 96;\nfunction extractDER(buf) {\n    const expectedLength = DER_PREFIX.byteLength + KEY_LENGTH;\n    if (buf.byteLength !== expectedLength) {\n        throw new TypeError(`BLS DER-encoded public key must be ${expectedLength} bytes long`);\n    }\n    const prefix = buf.slice(0, DER_PREFIX.byteLength);\n    if (!isBufferEqual(prefix, DER_PREFIX)) {\n        throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${DER_PREFIX}, but get ${prefix}`);\n    }\n    return buf.slice(DER_PREFIX.byteLength);\n}\n/**\n * utility function to constrain the type of a path\n * @param {ArrayBuffer | HashTree | undefined} result - the result of a lookup\n * @returns ArrayBuffer or Undefined\n */\nexport function lookupResultToBuffer(result) {\n    if (result instanceof ArrayBuffer) {\n        return result;\n    }\n    else if (result instanceof Uint8Array) {\n        return result.buffer;\n    }\n    return undefined;\n}\n/**\n * @param t\n */\nexport async function reconstruct(t) {\n    switch (t[0]) {\n        case NodeId.Empty:\n            return hash(domain_sep('ic-hashtree-empty'));\n        case NodeId.Pruned:\n            return t[1];\n        case NodeId.Leaf:\n            return hash(concat(domain_sep('ic-hashtree-leaf'), t[1]));\n        case NodeId.Labeled:\n            return hash(concat(domain_sep('ic-hashtree-labeled'), t[1], await reconstruct(t[2])));\n        case NodeId.Fork:\n            return hash(concat(domain_sep('ic-hashtree-fork'), await reconstruct(t[1]), await reconstruct(t[2])));\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction domain_sep(s) {\n    const len = new Uint8Array([s.length]);\n    const str = new TextEncoder().encode(s);\n    return concat(len, str);\n}\n/**\n * @param path\n * @param tree\n */\nexport function lookup_path(path, tree) {\n    if (path.length === 0) {\n        switch (tree[0]) {\n            case NodeId.Leaf: {\n                // should not be undefined\n                if (!tree[1])\n                    throw new Error('Invalid tree structure for leaf');\n                if (tree[1] instanceof ArrayBuffer) {\n                    return tree[1];\n                }\n                else if (tree[1] instanceof Uint8Array) {\n                    return tree[1].buffer;\n                }\n                else\n                    return tree[1];\n            }\n            case NodeId.Fork: {\n                return tree;\n            }\n            default: {\n                return tree;\n            }\n        }\n    }\n    const label = typeof path[0] === 'string' ? new TextEncoder().encode(path[0]) : path[0];\n    const t = find_label(label, flatten_forks(tree));\n    if (t) {\n        return lookup_path(path.slice(1), t);\n    }\n}\n/**\n * If the tree is a fork, flatten it into an array of trees\n * @param t - the tree to flatten\n * @returns HashTree[] - the flattened tree\n */\nexport function flatten_forks(t) {\n    switch (t[0]) {\n        case NodeId.Empty:\n            return [];\n        case NodeId.Fork:\n            return flatten_forks(t[1]).concat(flatten_forks(t[2]));\n        default:\n            return [t];\n    }\n}\nfunction find_label(l, trees) {\n    if (trees.length === 0) {\n        return undefined;\n    }\n    for (const t of trees) {\n        if (t[0] === NodeId.Labeled) {\n            const p = t[1];\n            if (isBufferEqual(l, p)) {\n                return t[2];\n            }\n        }\n    }\n}\n/**\n * Check if a canister falls within a range of canisters\n * @param canisterId Principal\n * @param ranges [Principal, Principal][]\n * @returns\n */\nexport function check_canister_ranges(params) {\n    const { canisterId, subnetId, tree } = params;\n    const rangeLookup = lookup_path(['subnet', subnetId.toUint8Array(), 'canister_ranges'], tree);\n    if (!rangeLookup || !(rangeLookup instanceof ArrayBuffer)) {\n        throw new Error(`Could not find canister ranges for subnet ${subnetId}`);\n    }\n    const ranges_arr = cbor.decode(rangeLookup);\n    const ranges = ranges_arr.map(v => [\n        Principal.fromUint8Array(v[0]),\n        Principal.fromUint8Array(v[1]),\n    ]);\n    const canisterInRange = ranges.some(r => r[0].ltEq(canisterId) && r[1].gtEq(canisterId));\n    return canisterInRange;\n}\n//# sourceMappingURL=certificate.js.map","/** @module CanisterStatus */\nimport { Principal } from '@dfinity/principal';\nimport { AgentError } from '../errors';\nimport { Certificate, flatten_forks, check_canister_ranges, lookupResultToBuffer, lookup_path, } from '../certificate';\nimport { toHex } from '../utils/buffer';\nimport * as Cbor from '../cbor';\nimport { decodeLeb128, decodeTime } from '../utils/leb';\n/**\n *\n * @param {CanisterStatusOptions} options {@link CanisterStatusOptions}\n * @param {CanisterStatusOptions['canisterId']} options.canisterId {@link Principal}\n * @param {CanisterStatusOptions['agent']} options.agent {@link HttpAgent} optional authenticated agent to use to make the canister request. Useful for accessing private metadata under icp:private\n * @param {CanisterStatusOptions['paths']} options.paths {@link Path[]}\n * @returns {Status} object populated with data from the requested paths\n * @example\n * const status = await canisterStatus({\n *   paths: ['controllers', 'candid'],\n *   ...options\n * });\n *\n * const controllers = status.get('controllers');\n */\nexport const request = async (options) => {\n    const { agent, paths } = options;\n    const canisterId = Principal.from(options.canisterId);\n    const uniquePaths = [...new Set(paths)];\n    // Map path options to their correct formats\n    const encodedPaths = uniquePaths.map(path => {\n        return encodePath(path, canisterId);\n    });\n    const status = new Map();\n    const promises = uniquePaths.map((path, index) => {\n        return (async () => {\n            var _a;\n            try {\n                const response = await agent.readState(canisterId, {\n                    paths: [encodedPaths[index]],\n                });\n                const cert = await Certificate.create({\n                    certificate: response.certificate,\n                    rootKey: agent.rootKey,\n                    canisterId: canisterId,\n                });\n                const lookup = (cert, path) => {\n                    if (path === 'subnet') {\n                        const data = fetchNodeKeys(response.certificate, canisterId, agent.rootKey);\n                        return {\n                            path: path,\n                            data,\n                        };\n                    }\n                    else {\n                        return {\n                            path: path,\n                            data: lookupResultToBuffer(cert.lookup(encodePath(path, canisterId))),\n                        };\n                    }\n                };\n                // must pass in the rootKey if we have no delegation\n                const { path, data } = lookup(cert, uniquePaths[index]);\n                if (!data) {\n                    // Typically, the cert lookup will throw\n                    console.warn(`Expected to find result for path ${path}, but instead found nothing.`);\n                    if (typeof path === 'string') {\n                        status.set(path, null);\n                    }\n                    else {\n                        status.set(path.key, null);\n                    }\n                }\n                else {\n                    switch (path) {\n                        case 'time': {\n                            status.set(path, decodeTime(data));\n                            break;\n                        }\n                        case 'controllers': {\n                            status.set(path, decodeControllers(data));\n                            break;\n                        }\n                        case 'module_hash': {\n                            status.set(path, decodeHex(data));\n                            break;\n                        }\n                        case 'subnet': {\n                            status.set(path, data);\n                            break;\n                        }\n                        case 'candid': {\n                            status.set(path, new TextDecoder().decode(data));\n                            break;\n                        }\n                        default: {\n                            // Check for CustomPath signature\n                            if (typeof path !== 'string' && 'key' in path && 'path' in path) {\n                                switch (path.decodeStrategy) {\n                                    case 'raw':\n                                        status.set(path.key, data);\n                                        break;\n                                    case 'leb128': {\n                                        status.set(path.key, decodeLeb128(data));\n                                        break;\n                                    }\n                                    case 'cbor': {\n                                        status.set(path.key, decodeCbor(data));\n                                        break;\n                                    }\n                                    case 'hex': {\n                                        status.set(path.key, decodeHex(data));\n                                        break;\n                                    }\n                                    case 'utf-8': {\n                                        status.set(path.key, decodeUtf8(data));\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            catch (error) {\n                // Break on signature verification errors\n                if ((_a = error === null || error === void 0 ? void 0 : error.message) === null || _a === void 0 ? void 0 : _a.includes('Invalid certificate')) {\n                    throw new AgentError(error.message);\n                }\n                if (typeof path !== 'string' && 'key' in path && 'path' in path) {\n                    status.set(path.key, null);\n                }\n                else {\n                    status.set(path, null);\n                }\n                console.group();\n                console.warn(`Expected to find result for path ${path}, but instead found nothing.`);\n                console.warn(error);\n                console.groupEnd();\n            }\n        })();\n    });\n    // Fetch all values separately, as each option can fail\n    await Promise.all(promises);\n    return status;\n};\nexport const fetchNodeKeys = (certificate, canisterId, root_key) => {\n    if (!canisterId._isPrincipal) {\n        throw new Error('Invalid canisterId');\n    }\n    const cert = Cbor.decode(new Uint8Array(certificate));\n    const tree = cert.tree;\n    let delegation = cert.delegation;\n    let subnetId;\n    if (delegation && delegation.subnet_id) {\n        subnetId = Principal.fromUint8Array(new Uint8Array(delegation.subnet_id));\n    }\n    // On local replica, with System type subnet, there is no delegation\n    else if (!delegation && typeof root_key !== 'undefined') {\n        subnetId = Principal.selfAuthenticating(new Uint8Array(root_key));\n        delegation = {\n            subnet_id: subnetId.toUint8Array(),\n            certificate: new ArrayBuffer(0),\n        };\n    }\n    // otherwise use default NNS subnet id\n    else {\n        subnetId = Principal.selfAuthenticating(Principal.fromText('tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe').toUint8Array());\n        delegation = {\n            subnet_id: subnetId.toUint8Array(),\n            certificate: new ArrayBuffer(0),\n        };\n    }\n    const canisterInRange = check_canister_ranges({ canisterId, subnetId, tree });\n    if (!canisterInRange) {\n        throw new Error('Canister not in range');\n    }\n    const nodeTree = lookup_path(['subnet', delegation === null || delegation === void 0 ? void 0 : delegation.subnet_id, 'node'], tree);\n    const nodeForks = flatten_forks(nodeTree);\n    nodeForks.length;\n    const nodeKeys = new Map();\n    nodeForks.forEach(fork => {\n        Object.getPrototypeOf(new Uint8Array(fork[1]));\n        const node_id = Principal.from(new Uint8Array(fork[1])).toText();\n        const derEncodedPublicKey = lookup_path(['public_key'], fork[2]);\n        if (derEncodedPublicKey.byteLength !== 44) {\n            throw new Error('Invalid public key length');\n        }\n        else {\n            nodeKeys.set(node_id, derEncodedPublicKey);\n        }\n    });\n    return {\n        subnetId: Principal.fromUint8Array(new Uint8Array(delegation.subnet_id)).toText(),\n        nodeKeys,\n    };\n};\nexport const encodePath = (path, canisterId) => {\n    const encoder = new TextEncoder();\n    const encode = (arg) => {\n        return new DataView(encoder.encode(arg).buffer).buffer;\n    };\n    const canisterBuffer = new DataView(canisterId.toUint8Array().buffer).buffer;\n    switch (path) {\n        case 'time':\n            return [encode('time')];\n        case 'controllers':\n            return [encode('canister'), canisterBuffer, encode('controllers')];\n        case 'module_hash':\n            return [encode('canister'), canisterBuffer, encode('module_hash')];\n        case 'subnet':\n            return [encode('subnet')];\n        case 'candid':\n            return [encode('canister'), canisterBuffer, encode('metadata'), encode('candid:service')];\n        default: {\n            // Check for CustomPath signature\n            if ('key' in path && 'path' in path) {\n                // For simplified metadata queries\n                if (typeof path['path'] === 'string' || path['path'] instanceof ArrayBuffer) {\n                    const metaPath = path.path;\n                    const encoded = typeof metaPath === 'string' ? encode(metaPath) : metaPath;\n                    return [encode('canister'), canisterBuffer, encode('metadata'), encoded];\n                    // For non-metadata, return the provided custompath\n                }\n                else {\n                    return path['path'];\n                }\n            }\n        }\n    }\n    throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${path} was formatted correctly.`);\n};\nconst decodeHex = (buf) => {\n    return toHex(buf);\n};\nconst decodeCbor = (buf) => {\n    return Cbor.decode(buf);\n};\nconst decodeUtf8 = (buf) => {\n    return new TextDecoder().decode(buf);\n};\n// Controllers are CBOR-encoded buffers\nconst decodeControllers = (buf) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const controllersRaw = decodeCbor(buf);\n    return controllersRaw.map((buf) => {\n        return Principal.fromUint8Array(new Uint8Array(buf));\n    });\n};\n//# sourceMappingURL=index.js.map","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n/**\n * BigUint64Array is too slow as per 2024, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { fromBig, split, toBig, shrSH, shrSL, rotrSH, rotrSL, rotrBH, rotrBL, rotr32H, rotr32L, rotlSH, rotlSL, rotlBH, rotlBL, add, add3L, add3H, add4L, add4H, add5H, add5L, };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","import { HashMD } from './_md.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n/**\n * SHA2-512 a.k.a. sha512 and sha384. It is slower than sha256 in js because u64 operations are slow.\n *\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [the paper on truncated SHA512/256](https://eprint.iacr.org/2010/548.pdf).\n * @module\n */\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends HashMD {\n    constructor() {\n        super(128, 64, 16, false);\n        // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n        // Also looks cleaner and easier to verify with spec.\n        // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x6a09e667 | 0;\n        this.Al = 0xf3bcc908 | 0;\n        this.Bh = 0xbb67ae85 | 0;\n        this.Bl = 0x84caa73b | 0;\n        this.Ch = 0x3c6ef372 | 0;\n        this.Cl = 0xfe94f82b | 0;\n        this.Dh = 0xa54ff53a | 0;\n        this.Dl = 0x5f1d36f1 | 0;\n        this.Eh = 0x510e527f | 0;\n        this.El = 0xade682d1 | 0;\n        this.Fh = 0x9b05688c | 0;\n        this.Fl = 0x2b3e6c1f | 0;\n        this.Gh = 0x1f83d9ab | 0;\n        this.Gl = 0xfb41bd6b | 0;\n        this.Hh = 0x5be0cd19 | 0;\n        this.Hl = 0x137e2179 | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        SHA512_W_H.fill(0);\n        SHA512_W_L.fill(0);\n    }\n    destroy() {\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nexport class SHA512_224 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x8c3d37c8 | 0;\n        this.Al = 0x19544da2 | 0;\n        this.Bh = 0x73e19966 | 0;\n        this.Bl = 0x89dcd4d6 | 0;\n        this.Ch = 0x1dfab7ae | 0;\n        this.Cl = 0x32ff9c82 | 0;\n        this.Dh = 0x679dd514 | 0;\n        this.Dl = 0x582f9fcf | 0;\n        this.Eh = 0x0f6d2b69 | 0;\n        this.El = 0x7bd44da8 | 0;\n        this.Fh = 0x77e36f73 | 0;\n        this.Fl = 0x04c48942 | 0;\n        this.Gh = 0x3f9d85a8 | 0;\n        this.Gl = 0x6a1d36c8 | 0;\n        this.Hh = 0x1112e6ad | 0;\n        this.Hl = 0x91d692a1 | 0;\n        this.outputLen = 28;\n    }\n}\nexport class SHA512_256 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x22312194 | 0;\n        this.Al = 0xfc2bf72c | 0;\n        this.Bh = 0x9f555fa3 | 0;\n        this.Bl = 0xc84c64c2 | 0;\n        this.Ch = 0x2393b86b | 0;\n        this.Cl = 0x6f53b151 | 0;\n        this.Dh = 0x96387719 | 0;\n        this.Dl = 0x5940eabd | 0;\n        this.Eh = 0x96283ee2 | 0;\n        this.El = 0xa88effe3 | 0;\n        this.Fh = 0xbe5e1e25 | 0;\n        this.Fl = 0x53863992 | 0;\n        this.Gh = 0x2b0199fc | 0;\n        this.Gl = 0x2c85b8aa | 0;\n        this.Hh = 0x0eb72ddc | 0;\n        this.Hl = 0x81c52ca2 | 0;\n        this.outputLen = 32;\n    }\n}\nexport class SHA384 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0xcbbb9d5d | 0;\n        this.Al = 0xc1059ed8 | 0;\n        this.Bh = 0x629a292a | 0;\n        this.Bl = 0x367cd507 | 0;\n        this.Ch = 0x9159015a | 0;\n        this.Cl = 0x3070dd17 | 0;\n        this.Dh = 0x152fecd8 | 0;\n        this.Dl = 0xf70e5939 | 0;\n        this.Eh = 0x67332667 | 0;\n        this.El = 0xffc00b31 | 0;\n        this.Fh = 0x8eb44a87 | 0;\n        this.Fl = 0x68581511 | 0;\n        this.Gh = 0xdb0c2e0d | 0;\n        this.Gl = 0x64f98fa7 | 0;\n        this.Hh = 0x47b5481d | 0;\n        this.Hl = 0xbefa4fa4 | 0;\n        this.outputLen = 48;\n    }\n}\n/** SHA2-512 hash function. */\nexport const sha512 = /* @__PURE__ */ wrapConstructor(() => new SHA512());\n/** SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks. */\nexport const sha512_224 = /* @__PURE__ */ wrapConstructor(() => new SHA512_224());\n/** SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks. */\nexport const sha512_256 = /* @__PURE__ */ wrapConstructor(() => new SHA512_256());\n/** SHA2-384 hash function. */\nexport const sha384 = /* @__PURE__ */ wrapConstructor(() => new SHA384());\n//# sourceMappingURL=sha512.js.map","/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nexport function isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\nexport function abytes(item) {\n    if (!isBytes(item))\n        throw new Error('Uint8Array expected');\n}\nexport function abool(title, value) {\n    if (typeof value !== 'boolean')\n        throw new Error(title + ' boolean expected, got ' + value);\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nexport function numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nexport function hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n    abytes(bytes);\n    return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n    return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n    return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes(hex);\n        }\n        catch (e) {\n            throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n        }\n    }\n    else if (isBytes(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(title + ' must be hex string or Uint8Array');\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n    return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nexport function inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n) => (_2n << BigInt(n - 1)) - _1n;\n// DRBG\nconst u8n = (data) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr) => Uint8Array.from(arr); // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n()) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || isBytes(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nexport function validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error('invalid validator function');\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n/**\n * throws not implemented error\n */\nexport const notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map","/**\n * Utils for modular division and finite fields.\n * A finite field over 11 is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitMask, bytesToNumberBE, bytesToNumberLE, ensureBytes, numberToBytesBE, numberToBytesLE, validateObject, } from './utils.js';\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _8n = /* @__PURE__ */ BigInt(8);\n// prettier-ignore\nconst _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @todo use field version && remove\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num, power, modulo) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (modulo <= _0n)\n        throw new Error('invalid modulus');\n    if (modulo === _1n)\n        return _0n;\n    let res = _1n;\n    while (power > _0n) {\n        if (power & _1n)\n            res = (res * num) % modulo;\n        num = (num * num) % modulo;\n        power >>= _1n;\n    }\n    return res;\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P) {\n    // Legendre constant: used to calculate Legendre symbol (a | p),\n    // which denotes the value of a^((p-1)/2) (mod p).\n    // (a | p) ≡ 1    if a is a square (mod p)\n    // (a | p) ≡ -1   if a is not a square (mod p)\n    // (a | p) ≡ 0    if a ≡ 0 (mod p)\n    const legendreC = (P - _1n) / _2n;\n    let Q, S, Z;\n    // Step 1: By factoring out powers of 2 from p - 1,\n    // find q and s such that p - 1 = q*(2^s) with q odd\n    for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++)\n        ;\n    // Step 2: Select a non-square z such that (z | p) ≡ -1 and set c ≡ zq\n    for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++) {\n        // Crash instead of infinity loop, we cannot reasonable count until P.\n        if (Z > 1000)\n            throw new Error('Cannot find square root: likely non-prime P');\n    }\n    // Fast-path\n    if (S === 1) {\n        const p1div4 = (P + _1n) / _4n;\n        return function tonelliFast(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Slow-path\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        // Step 0: Check that n is indeed a square: (n | p) should not be ≡ -1\n        if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))\n            throw new Error('Cannot find square root');\n        let r = S;\n        // TODO: will fail at Fp2/etc\n        let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n        let x = Fp.pow(n, Q1div2); // first guess at the square root\n        let b = Fp.pow(n, Q); // first guess at the fudge factor\n        while (!Fp.eql(b, Fp.ONE)) {\n            if (Fp.eql(b, Fp.ZERO))\n                return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n            // Find m such b^(2^m)==1\n            let m = 1;\n            for (let t2 = Fp.sqr(b); m < r; m++) {\n                if (Fp.eql(t2, Fp.ONE))\n                    break;\n                t2 = Fp.sqr(t2); // t2 *= t2\n            }\n            // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n            const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n            g = Fp.sqr(ge); // g = ge * ge\n            x = Fp.mul(x, ge); // x *= ge\n            b = Fp.mul(b, g); // b *= g\n            r = m;\n        }\n        return x;\n    };\n}\n/**\n * Square root for a finite field. It will try to check if optimizations are applicable and fall back to 4:\n *\n * 1. P ≡ 3 (mod 4)\n * 2. P ≡ 5 (mod 8)\n * 3. P ≡ 9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P) {\n    // P ≡ 3 (mod 4)\n    // √n = n^((P+1)/4)\n    if (P % _4n === _3n) {\n        // Not all roots possible!\n        // const ORDER =\n        //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n        // const NUM = 72057594037927816n;\n        const p1div4 = (P + _1n) / _4n;\n        return function sqrt3mod4(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            // Throw if root**2 != n\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Atkin algorithm for q ≡ 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n    if (P % _8n === _5n) {\n        const c1 = (P - _5n) / _8n;\n        return function sqrt5mod8(Fp, n) {\n            const n2 = Fp.mul(n, _2n);\n            const v = Fp.pow(n2, c1);\n            const nv = Fp.mul(n, v);\n            const i = Fp.mul(Fp.mul(nv, _2n), v);\n            const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // P ≡ 9 (mod 16)\n    if (P % _16n === _9n) {\n        // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n        // Means we cannot use sqrt for constants at all!\n        //\n        // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n        // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n        // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n        // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n        // sqrt = (x) => {\n        //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n        //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n        //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n        //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n        //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n        //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n        //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n        //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n        // }\n    }\n    // Other cases: Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nexport function validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'isSafeInteger',\n        BITS: 'isSafeInteger',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    return validateObject(field, opts);\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow(f, num, power) {\n    // Should have same speed as pow for bigints\n    // TODO: benchmark!\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return f.ONE;\n    if (power === _1n)\n        return num;\n    let p = f.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = f.mul(p, d);\n        d = f.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nexport function FpInvertBatch(f, nums) {\n    const tmp = new Array(nums.length);\n    // Walk from first to last, multiply them by each other MOD p\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = acc;\n        return f.mul(acc, num);\n    }, f.ONE);\n    // Invert last element\n    const inverted = f.inv(lastMultiplied);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = f.mul(acc, tmp[i]);\n        return f.mul(acc, num);\n    }, inverted);\n    return tmp;\n}\nexport function FpDiv(f, lhs, rhs) {\n    return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n/**\n * Legendre symbol.\n * * (a | p) ≡ 1    if a is a square (mod p), quadratic residue\n * * (a | p) ≡ -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) ≡ 0    if a ≡ 0 (mod p)\n */\nexport function FpLegendre(order) {\n    const legendreConst = (order - _1n) / _2n; // Integer arithmetic\n    return (f, x) => f.pow(x, legendreConst);\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(f) {\n    const legendre = FpLegendre(f.ORDER);\n    return (x) => {\n        const p = legendre(f, x);\n        return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n    };\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Initializes a finite field over prime.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, bitLen, isLE = false, redef = {}) {\n    if (ORDER <= _0n)\n        throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n    if (BYTES > 2048)\n        throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n    let sqrtP; // cached sqrtP\n    const f = Object.freeze({\n        ORDER,\n        isLE,\n        BITS,\n        BYTES,\n        MASK: bitMask(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error('invalid field element: expected bigint, got ' + typeof num);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: redef.sqrt ||\n            ((n) => {\n                if (!sqrtP)\n                    sqrtP = FpSqrt(ORDER);\n                return sqrtP(f, n);\n            }),\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // TODO: do we really need constant cmov?\n        // We don't have const-time bigints anyway, so probably will be not very useful\n        cmov: (a, b, c) => (c ? b : a),\n        toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n        fromBytes: (bytes) => {\n            if (bytes.length !== BYTES)\n                throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n            return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n        },\n    });\n    return Object.freeze(f);\n}\nexport function FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = ensureBytes('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error('hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen);\n    const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map","/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { validateField, nLength } from './modular.js';\nimport { validateObject, bitLen } from './utils.js';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, bits) {\n    validateW(W, bits);\n    const windows = Math.ceil(bits / W) + 1; // +1, because\n    const windowSize = 2 ** (W - 1); // -1 because we skip zero\n    return { windows, windowSize };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap(); // This allows use make points immutable (nothing changes inside)\nfunction getW(P) {\n    return pointWindowSizes.get(P) || 1;\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / 𝑊) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport function wNAF(c, bits) {\n    return {\n        constTimeNegate,\n        hasPrecomputes(elm) {\n            return getW(elm) !== 1;\n        },\n        // non-const time multiplication ladder\n        unsafeLadder(elm, n, p = c.ZERO) {\n            let d = elm;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        },\n        /**\n         * Creates a wNAF precomputation window. Used for caching.\n         * Default window size is set by `utils.precompute()` and is equal to 8.\n         * Number of precomputed points depends on the curve size:\n         * 2^(𝑊−1) * (Math.ceil(𝑛 / 𝑊) + 1), where:\n         * - 𝑊 is the window size\n         * - 𝑛 is the bitlength of the curve order.\n         * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n         * @param elm Point instance\n         * @param W window size\n         * @returns precomputed point tables flattened to a single array\n         */\n        precomputeWindow(elm, W) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const points = [];\n            let p = elm;\n            let base = p;\n            for (let window = 0; window < windows; window++) {\n                base = p;\n                points.push(base);\n                // =1, because we skip zero\n                for (let i = 1; i < windowSize; i++) {\n                    base = base.add(p);\n                    points.push(base);\n                }\n                p = base.double();\n            }\n            return points;\n        },\n        /**\n         * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @returns real and fake (for const-time) points\n         */\n        wNAF(W, precomputes, n) {\n            // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n            // But need to carefully remove other checks before wNAF. ORDER == bits here\n            const { windows, windowSize } = calcWOpts(W, bits);\n            let p = c.ZERO;\n            let f = c.BASE;\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n                // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n                // there is negate now: it is possible that negated element from low value\n                // would be the same as high element, which will create carry into next window.\n                // It's not obvious how this can fail, but still worth investigating later.\n                // Check if we're onto Zero point.\n                // Add random point inside current window to f.\n                const offset1 = offset;\n                const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n                const cond1 = window % 2 !== 0;\n                const cond2 = wbits < 0;\n                if (wbits === 0) {\n                    // The most important part for const-time getPublicKey\n                    f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n                }\n                else {\n                    p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n                }\n            }\n            // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n            // Even if the variable is still unused, there are some checks which will\n            // throw an exception, so compiler needs to prove they won't happen, which is hard.\n            // At this point there is a way to F be infinity-point even if p is not,\n            // which makes it less const-time: around 1 bigint multiply.\n            return { p, f };\n        },\n        /**\n         * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @param acc accumulator point to add result of multiplication\n         * @returns point\n         */\n        wNAFUnsafe(W, precomputes, n, acc = c.ZERO) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                if (n === _0n)\n                    break; // No need to go over empty scalar\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                if (wbits === 0)\n                    continue;\n                let curr = precomputes[offset + Math.abs(wbits) - 1]; // -1 because we skip zero\n                if (wbits < 0)\n                    curr = curr.negate();\n                // NOTE: by re-using acc, we can save a lot of additions in case of MSM\n                acc = acc.add(curr);\n            }\n            return acc;\n        },\n        getPrecomputes(W, P, transform) {\n            // Calculate precomputes on a first run, reuse them after\n            let comp = pointPrecomputes.get(P);\n            if (!comp) {\n                comp = this.precomputeWindow(P, W);\n                if (W !== 1)\n                    pointPrecomputes.set(P, transform(comp));\n            }\n            return comp;\n        },\n        wNAFCached(P, n, transform) {\n            const W = getW(P);\n            return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n        },\n        wNAFCachedUnsafe(P, n, transform, prev) {\n            const W = getW(P);\n            if (W === 1)\n                return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n            return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n        },\n        // We calculate precomputes for elliptic curve point multiplication\n        // using windowed method. This specifies window size and\n        // stores precomputed values. Usually only base point would be precomputed.\n        setWindowSize(P, W) {\n            validateW(W, bits);\n            pointWindowSizes.set(P, W);\n            pointPrecomputes.delete(P);\n        },\n    };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster with precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nexport function pippenger(c, fieldN, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    if (points.length !== scalars.length)\n        throw new Error('arrays of points and scalars must have equal length');\n    const zero = c.ZERO;\n    const wbits = bitLen(BigInt(points.length));\n    const windowSize = wbits > 12 ? wbits - 3 : wbits > 4 ? wbits - 2 : wbits ? 2 : 1; // in bits\n    const MASK = (1 << windowSize) - 1;\n    const buckets = new Array(MASK + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < scalars.length; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & BigInt(MASK));\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe(c, fieldN, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar × 256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255 × 32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16 × 255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = BigInt((1 << windowSize) - 1);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\nexport function validateBasic(curve) {\n    validateField(curve.Fp);\n    validateObject(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...nLength(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\n//# sourceMappingURL=curve.js.map","/**\n * Twisted Edwards curve. The formula is: ax² + y² = 1 + dx²y².\n * For design rationale of types / exports, see weierstrass module documentation.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { validateBasic, wNAF, pippenger, } from './curve.js';\nimport { mod, Field } from './modular.js';\nimport * as ut from './utils.js';\nimport { ensureBytes, memoized, abool } from './utils.js';\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _8n = BigInt(8);\n// verification rule is either zip215 or rfc8032 / nist186-5. Consult fromHex:\nconst VERIFY_DEFAULT = { zip215: true };\nfunction validateOpts(curve) {\n    const opts = validateBasic(curve);\n    ut.validateObject(curve, {\n        hash: 'function',\n        a: 'bigint',\n        d: 'bigint',\n        randomBytes: 'function',\n    }, {\n        adjustScalarBytes: 'function',\n        domain: 'function',\n        uvRatio: 'function',\n        mapToCurve: 'function',\n    });\n    // Set defaults\n    return Object.freeze({ ...opts });\n}\n/**\n * Creates Twisted Edwards curve with EdDSA signatures.\n * @example\n * import { Field } from '@noble/curves/abstract/modular';\n * // Before that, define BigInt-s: a, d, p, n, Gx, Gy, h\n * const curve = twistedEdwards({ a, d, Fp: Field(p), n, Gx, Gy, h })\n */\nexport function twistedEdwards(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { Fp, n: CURVE_ORDER, prehash: prehash, hash: cHash, randomBytes, nByteLength, h: cofactor, } = CURVE;\n    // Important:\n    // There are some places where Fp.BYTES is used instead of nByteLength.\n    // So far, everything has been tested with curves of Fp.BYTES == nByteLength.\n    // TODO: test and find curves which behave otherwise.\n    const MASK = _2n << (BigInt(nByteLength * 8) - _1n);\n    const modP = Fp.create; // Function overrides\n    const Fn = Field(CURVE.n, CURVE.nBitLength);\n    // sqrt(u/v)\n    const uvRatio = CURVE.uvRatio ||\n        ((u, v) => {\n            try {\n                return { isValid: true, value: Fp.sqrt(u * Fp.inv(v)) };\n            }\n            catch (e) {\n                return { isValid: false, value: _0n };\n            }\n        });\n    const adjustScalarBytes = CURVE.adjustScalarBytes || ((bytes) => bytes); // NOOP\n    const domain = CURVE.domain ||\n        ((data, ctx, phflag) => {\n            abool('phflag', phflag);\n            if (ctx.length || phflag)\n                throw new Error('Contexts/pre-hash are not supported');\n            return data;\n        }); // NOOP\n    // 0 <= n < MASK\n    // Coordinates larger than Fp.ORDER are allowed for zip215\n    function aCoordinate(title, n) {\n        ut.aInRange('coordinate ' + title, n, _0n, MASK);\n    }\n    function assertPoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ExtendedPoint expected');\n    }\n    // Converts Extended point to default (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    const toAffineMemo = memoized((p, iz) => {\n        const { ex: x, ey: y, ez: z } = p;\n        const is0 = p.is0();\n        if (iz == null)\n            iz = is0 ? _8n : Fp.inv(z); // 8 was chosen arbitrarily\n        const ax = modP(x * iz);\n        const ay = modP(y * iz);\n        const zz = modP(z * iz);\n        if (is0)\n            return { x: _0n, y: _1n };\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return { x: ax, y: ay };\n    });\n    const assertValidMemo = memoized((p) => {\n        const { a, d } = CURVE;\n        if (p.is0())\n            throw new Error('bad point: ZERO'); // TODO: optimize, with vars below?\n        // Equation in affine coordinates: ax² + y² = 1 + dx²y²\n        // Equation in projective coordinates (X/Z, Y/Z, Z):  (aX² + Y²)Z² = Z⁴ + dX²Y²\n        const { ex: X, ey: Y, ez: Z, et: T } = p;\n        const X2 = modP(X * X); // X²\n        const Y2 = modP(Y * Y); // Y²\n        const Z2 = modP(Z * Z); // Z²\n        const Z4 = modP(Z2 * Z2); // Z⁴\n        const aX2 = modP(X2 * a); // aX²\n        const left = modP(Z2 * modP(aX2 + Y2)); // (aX² + Y²)Z²\n        const right = modP(Z4 + modP(d * modP(X2 * Y2))); // Z⁴ + dX²Y²\n        if (left !== right)\n            throw new Error('bad point: equation left != right (1)');\n        // In Extended coordinates we also have T, which is x*y=T/Z: check X*Y == Z*T\n        const XY = modP(X * Y);\n        const ZT = modP(Z * T);\n        if (XY !== ZT)\n            throw new Error('bad point: equation left != right (2)');\n        return true;\n    });\n    // Extended Point works in extended coordinates: (x, y, z, t) ∋ (x=x/z, y=y/z, t=xy).\n    // https://en.wikipedia.org/wiki/Twisted_Edwards_curve#Extended_coordinates\n    class Point {\n        constructor(ex, ey, ez, et) {\n            this.ex = ex;\n            this.ey = ey;\n            this.ez = ez;\n            this.et = et;\n            aCoordinate('x', ex);\n            aCoordinate('y', ey);\n            aCoordinate('z', ez);\n            aCoordinate('t', et);\n            Object.freeze(this);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        static fromAffine(p) {\n            if (p instanceof Point)\n                throw new Error('extended point not allowed');\n            const { x, y } = p || {};\n            aCoordinate('x', x);\n            aCoordinate('y', y);\n            return new Point(x, y, _1n, modP(x * y));\n        }\n        static normalizeZ(points) {\n            const toInv = Fp.invertBatch(points.map((p) => p.ez));\n            return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n        }\n        // Multiscalar Multiplication\n        static msm(points, scalars) {\n            return pippenger(Point, Fn, points, scalars);\n        }\n        // \"Private method\", don't use it directly\n        _setWindowSize(windowSize) {\n            wnaf.setWindowSize(this, windowSize);\n        }\n        // Not required for fromHex(), which always creates valid points.\n        // Could be useful for fromAffine().\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        // Compare one point to another.\n        equals(other) {\n            assertPoint(other);\n            const { ex: X1, ey: Y1, ez: Z1 } = this;\n            const { ex: X2, ey: Y2, ez: Z2 } = other;\n            const X1Z2 = modP(X1 * Z2);\n            const X2Z1 = modP(X2 * Z1);\n            const Y1Z2 = modP(Y1 * Z2);\n            const Y2Z1 = modP(Y2 * Z1);\n            return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        negate() {\n            // Flips point sign to a negative one (-x, y in affine coords)\n            return new Point(modP(-this.ex), this.ey, this.ez, modP(-this.et));\n        }\n        // Fast algo for doubling Extended Point.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#doubling-dbl-2008-hwcd\n        // Cost: 4M + 4S + 1*a + 6add + 1*2.\n        double() {\n            const { a } = CURVE;\n            const { ex: X1, ey: Y1, ez: Z1 } = this;\n            const A = modP(X1 * X1); // A = X12\n            const B = modP(Y1 * Y1); // B = Y12\n            const C = modP(_2n * modP(Z1 * Z1)); // C = 2*Z12\n            const D = modP(a * A); // D = a*A\n            const x1y1 = X1 + Y1;\n            const E = modP(modP(x1y1 * x1y1) - A - B); // E = (X1+Y1)2-A-B\n            const G = D + B; // G = D+B\n            const F = G - C; // F = G-C\n            const H = D - B; // H = D-B\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        // Fast algo for adding 2 Extended Points.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#addition-add-2008-hwcd\n        // Cost: 9M + 1*a + 1*d + 7add.\n        add(other) {\n            assertPoint(other);\n            const { a, d } = CURVE;\n            const { ex: X1, ey: Y1, ez: Z1, et: T1 } = this;\n            const { ex: X2, ey: Y2, ez: Z2, et: T2 } = other;\n            // Faster algo for adding 2 Extended Points when curve's a=-1.\n            // http://hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html#addition-add-2008-hwcd-4\n            // Cost: 8M + 8add + 2*2.\n            // Note: It does not check whether the `other` point is valid.\n            if (a === BigInt(-1)) {\n                const A = modP((Y1 - X1) * (Y2 + X2));\n                const B = modP((Y1 + X1) * (Y2 - X2));\n                const F = modP(B - A);\n                if (F === _0n)\n                    return this.double(); // Same point. Tests say it doesn't affect timing\n                const C = modP(Z1 * _2n * T2);\n                const D = modP(T1 * _2n * Z2);\n                const E = D + C;\n                const G = B + A;\n                const H = D - C;\n                const X3 = modP(E * F);\n                const Y3 = modP(G * H);\n                const T3 = modP(E * H);\n                const Z3 = modP(F * G);\n                return new Point(X3, Y3, Z3, T3);\n            }\n            const A = modP(X1 * X2); // A = X1*X2\n            const B = modP(Y1 * Y2); // B = Y1*Y2\n            const C = modP(T1 * d * T2); // C = T1*d*T2\n            const D = modP(Z1 * Z2); // D = Z1*Z2\n            const E = modP((X1 + Y1) * (X2 + Y2) - A - B); // E = (X1+Y1)*(X2+Y2)-A-B\n            const F = D - C; // F = D-C\n            const G = D + C; // G = D+C\n            const H = modP(B - a * A); // H = B-a*A\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        wNAF(n) {\n            return wnaf.wNAFCached(this, n, Point.normalizeZ);\n        }\n        // Constant-time multiplication.\n        multiply(scalar) {\n            const n = scalar;\n            ut.aInRange('scalar', n, _1n, CURVE_ORDER); // 1 <= scalar < L\n            const { p, f } = this.wNAF(n);\n            return Point.normalizeZ([p, f])[0];\n        }\n        // Non-constant-time multiplication. Uses double-and-add algorithm.\n        // It's faster, but should only be used when you don't care about\n        // an exposed private key e.g. sig verification.\n        // Does NOT allow scalars higher than CURVE.n.\n        // Accepts optional accumulator to merge with multiply (important for sparse scalars)\n        multiplyUnsafe(scalar, acc = Point.ZERO) {\n            const n = scalar;\n            ut.aInRange('scalar', n, _0n, CURVE_ORDER); // 0 <= scalar < L\n            if (n === _0n)\n                return I;\n            if (this.is0() || n === _1n)\n                return this;\n            return wnaf.wNAFCachedUnsafe(this, n, Point.normalizeZ, acc);\n        }\n        // Checks if point is of small order.\n        // If you add something to small order point, you will have \"dirty\"\n        // point with torsion component.\n        // Multiplies point by cofactor and checks if the result is 0.\n        isSmallOrder() {\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        // Multiplies point by curve order and checks if the result is 0.\n        // Returns `false` is the point is dirty.\n        isTorsionFree() {\n            return wnaf.unsafeLadder(this, CURVE_ORDER).is0();\n        }\n        // Converts Extended point to default (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        toAffine(iz) {\n            return toAffineMemo(this, iz);\n        }\n        clearCofactor() {\n            const { h: cofactor } = CURVE;\n            if (cofactor === _1n)\n                return this;\n            return this.multiplyUnsafe(cofactor);\n        }\n        // Converts hash string or Uint8Array to Point.\n        // Uses algo from RFC8032 5.1.3.\n        static fromHex(hex, zip215 = false) {\n            const { d, a } = CURVE;\n            const len = Fp.BYTES;\n            hex = ensureBytes('pointHex', hex, len); // copy hex to a new array\n            abool('zip215', zip215);\n            const normed = hex.slice(); // copy again, we'll manipulate it\n            const lastByte = hex[len - 1]; // select last byte\n            normed[len - 1] = lastByte & ~0x80; // clear last bit\n            const y = ut.bytesToNumberLE(normed);\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // RFC8032 prohibits >= p, but ZIP215 doesn't\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            const max = zip215 ? MASK : Fp.ORDER;\n            ut.aInRange('pointHex.y', y, _0n, max);\n            // Ed25519: x² = (y²-1)/(dy²+1) mod p. Ed448: x² = (y²-1)/(dy²-1) mod p. Generic case:\n            // ax²+y²=1+dx²y² => y²-1=dx²y²-ax² => y²-1=x²(dy²-a) => x²=(y²-1)/(dy²-a)\n            const y2 = modP(y * y); // denominator is always non-0 mod p.\n            const u = modP(y2 - _1n); // u = y² - 1\n            const v = modP(d * y2 - a); // v = d y² + 1.\n            let { isValid, value: x } = uvRatio(u, v); // √(u/v)\n            if (!isValid)\n                throw new Error('Point.fromHex: invalid y coordinate');\n            const isXOdd = (x & _1n) === _1n; // There are 2 square roots. Use x_0 bit to select proper\n            const isLastByteOdd = (lastByte & 0x80) !== 0; // x_0, last bit\n            if (!zip215 && x === _0n && isLastByteOdd)\n                // if x=0 and x_0 = 1, fail\n                throw new Error('Point.fromHex: x=0 and x_0=1');\n            if (isLastByteOdd !== isXOdd)\n                x = modP(-x); // if x_0 != x mod 2, set x = p-x\n            return Point.fromAffine({ x, y });\n        }\n        static fromPrivateKey(privKey) {\n            return getExtendedPublicKey(privKey).point;\n        }\n        toRawBytes() {\n            const { x, y } = this.toAffine();\n            const bytes = ut.numberToBytesLE(y, Fp.BYTES); // each y has 2 x values (x, -y)\n            bytes[bytes.length - 1] |= x & _1n ? 0x80 : 0; // when compressing, it's enough to store y\n            return bytes; // and use the last byte to encode sign of x\n        }\n        toHex() {\n            return ut.bytesToHex(this.toRawBytes()); // Same as toRawBytes, but returns string.\n        }\n    }\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, _1n, modP(CURVE.Gx * CURVE.Gy));\n    Point.ZERO = new Point(_0n, _1n, _1n, _0n); // 0, 1, 1, 0\n    const { BASE: G, ZERO: I } = Point;\n    const wnaf = wNAF(Point, nByteLength * 8);\n    function modN(a) {\n        return mod(a, CURVE_ORDER);\n    }\n    // Little-endian SHA512 with modulo n\n    function modN_LE(hash) {\n        return modN(ut.bytesToNumberLE(hash));\n    }\n    /** Convenience method that creates public key and other stuff. RFC8032 5.1.5 */\n    function getExtendedPublicKey(key) {\n        const len = Fp.BYTES;\n        key = ensureBytes('private key', key, len);\n        // Hash private key with curve's hash function to produce uniformingly random input\n        // Check byte lengths: ensure(64, h(ensure(32, key)))\n        const hashed = ensureBytes('hashed private key', cHash(key), 2 * len);\n        const head = adjustScalarBytes(hashed.slice(0, len)); // clear first half bits, produce FE\n        const prefix = hashed.slice(len, 2 * len); // second half is called key prefix (5.1.6)\n        const scalar = modN_LE(head); // The actual private scalar\n        const point = G.multiply(scalar); // Point on Edwards curve aka public key\n        const pointBytes = point.toRawBytes(); // Uint8Array representation\n        return { head, prefix, scalar, point, pointBytes };\n    }\n    // Calculates EdDSA pub key. RFC8032 5.1.5. Privkey is hashed. Use first half with 3 bits cleared\n    function getPublicKey(privKey) {\n        return getExtendedPublicKey(privKey).pointBytes;\n    }\n    // int('LE', SHA512(dom2(F, C) || msgs)) mod N\n    function hashDomainToScalar(context = new Uint8Array(), ...msgs) {\n        const msg = ut.concatBytes(...msgs);\n        return modN_LE(cHash(domain(msg, ensureBytes('context', context), !!prehash)));\n    }\n    /** Signs message with privateKey. RFC8032 5.1.6 */\n    function sign(msg, privKey, options = {}) {\n        msg = ensureBytes('message', msg);\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph etc.\n        const { prefix, scalar, pointBytes } = getExtendedPublicKey(privKey);\n        const r = hashDomainToScalar(options.context, prefix, msg); // r = dom2(F, C) || prefix || PH(M)\n        const R = G.multiply(r).toRawBytes(); // R = rG\n        const k = hashDomainToScalar(options.context, R, pointBytes, msg); // R || A || PH(M)\n        const s = modN(r + k * scalar); // S = (r + k * s) mod L\n        ut.aInRange('signature.s', s, _0n, CURVE_ORDER); // 0 <= s < l\n        const res = ut.concatBytes(R, ut.numberToBytesLE(s, Fp.BYTES));\n        return ensureBytes('result', res, Fp.BYTES * 2); // 64-byte signature\n    }\n    const verifyOpts = VERIFY_DEFAULT;\n    /**\n     * Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n     * An extended group equation is checked.\n     */\n    function verify(sig, msg, publicKey, options = verifyOpts) {\n        const { context, zip215 } = options;\n        const len = Fp.BYTES; // Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n        sig = ensureBytes('signature', sig, 2 * len); // An extended group equation is checked.\n        msg = ensureBytes('message', msg);\n        publicKey = ensureBytes('publicKey', publicKey, len);\n        if (zip215 !== undefined)\n            abool('zip215', zip215);\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph, etc\n        const s = ut.bytesToNumberLE(sig.slice(len, 2 * len));\n        let A, R, SB;\n        try {\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            A = Point.fromHex(publicKey, zip215);\n            R = Point.fromHex(sig.slice(0, len), zip215);\n            SB = G.multiplyUnsafe(s); // 0 <= s < l is done inside\n        }\n        catch (error) {\n            return false;\n        }\n        if (!zip215 && A.isSmallOrder())\n            return false;\n        const k = hashDomainToScalar(context, R.toRawBytes(), A.toRawBytes(), msg);\n        const RkA = R.add(A.multiplyUnsafe(k));\n        // Extended group equation\n        // [8][S]B = [8]R + [8][k]A'\n        return RkA.subtract(SB).clearCofactor().equals(Point.ZERO);\n    }\n    G._setWindowSize(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    const utils = {\n        getExtendedPublicKey,\n        // ed25519 private keys are uniform 32b. No need to check for modulo bias, like in secp256k1.\n        randomPrivateKey: () => randomBytes(Fp.BYTES),\n        /**\n         * We're doing scalar multiplication (used in getPublicKey etc) with precomputed BASE_POINT\n         * values. This slows down first getPublicKey() by milliseconds (see Speed section),\n         * but allows to speed-up subsequent getPublicKey() calls up to 20x.\n         * @param windowSize 2, 4, 8, 16\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            point._setWindowSize(windowSize);\n            point.multiply(BigInt(3));\n            return point;\n        },\n    };\n    return {\n        CURVE,\n        getPublicKey,\n        sign,\n        verify,\n        ExtendedPoint: Point,\n        utils,\n    };\n}\n//# sourceMappingURL=edwards.js.map","/**\n * ed25519 Twisted Edwards curve with following addons:\n * - X25519 ECDH\n * - Ristretto cofactor elimination\n * - Elligator hash-to-group / point indistinguishability\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha512 } from '@noble/hashes/sha512';\nimport { concatBytes, randomBytes, utf8ToBytes } from '@noble/hashes/utils';\nimport { twistedEdwards } from './abstract/edwards.js';\nimport { createHasher, expand_message_xmd, } from './abstract/hash-to-curve.js';\nimport { Field, FpSqrtEven, isNegativeLE, mod, pow2 } from './abstract/modular.js';\nimport { montgomery } from './abstract/montgomery.js';\nimport { pippenger } from './abstract/curve.js';\nimport { bytesToHex, bytesToNumberLE, ensureBytes, equalBytes, numberToBytesLE, } from './abstract/utils.js';\nconst ED25519_P = BigInt('57896044618658097711785492504343953926634992332820282019728792003956564819949');\n// √(-1) aka √(a) aka 2^((p-1)/4)\nconst ED25519_SQRT_M1 = /* @__PURE__ */ BigInt('19681161376707505956807079304988542015446066515923890162744021073123829784752');\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _5n = BigInt(5), _8n = BigInt(8);\nfunction ed25519_pow_2_252_3(x) {\n    // prettier-ignore\n    const _10n = BigInt(10), _20n = BigInt(20), _40n = BigInt(40), _80n = BigInt(80);\n    const P = ED25519_P;\n    const x2 = (x * x) % P;\n    const b2 = (x2 * x) % P; // x^3, 11\n    const b4 = (pow2(b2, _2n, P) * b2) % P; // x^15, 1111\n    const b5 = (pow2(b4, _1n, P) * x) % P; // x^31\n    const b10 = (pow2(b5, _5n, P) * b5) % P;\n    const b20 = (pow2(b10, _10n, P) * b10) % P;\n    const b40 = (pow2(b20, _20n, P) * b20) % P;\n    const b80 = (pow2(b40, _40n, P) * b40) % P;\n    const b160 = (pow2(b80, _80n, P) * b80) % P;\n    const b240 = (pow2(b160, _80n, P) * b80) % P;\n    const b250 = (pow2(b240, _10n, P) * b10) % P;\n    const pow_p_5_8 = (pow2(b250, _2n, P) * x) % P;\n    // ^ To pow to (p+3)/8, multiply it by x.\n    return { pow_p_5_8, b2 };\n}\nfunction adjustScalarBytes(bytes) {\n    // Section 5: For X25519, in order to decode 32 random bytes as an integer scalar,\n    // set the three least significant bits of the first byte\n    bytes[0] &= 248; // 0b1111_1000\n    // and the most significant bit of the last to zero,\n    bytes[31] &= 127; // 0b0111_1111\n    // set the second most significant bit of the last byte to 1\n    bytes[31] |= 64; // 0b0100_0000\n    return bytes;\n}\n// sqrt(u/v)\nfunction uvRatio(u, v) {\n    const P = ED25519_P;\n    const v3 = mod(v * v * v, P); // v³\n    const v7 = mod(v3 * v3 * v, P); // v⁷\n    // (p+3)/8 and (p-5)/8\n    const pow = ed25519_pow_2_252_3(u * v7).pow_p_5_8;\n    let x = mod(u * v3 * pow, P); // (uv³)(uv⁷)^(p-5)/8\n    const vx2 = mod(v * x * x, P); // vx²\n    const root1 = x; // First root candidate\n    const root2 = mod(x * ED25519_SQRT_M1, P); // Second root candidate\n    const useRoot1 = vx2 === u; // If vx² = u (mod p), x is a square root\n    const useRoot2 = vx2 === mod(-u, P); // If vx² = -u, set x <-- x * 2^((p-1)/4)\n    const noRoot = vx2 === mod(-u * ED25519_SQRT_M1, P); // There is no valid root, vx² = -u√(-1)\n    if (useRoot1)\n        x = root1;\n    if (useRoot2 || noRoot)\n        x = root2; // We return root2 anyway, for const-time\n    if (isNegativeLE(x, P))\n        x = mod(-x, P);\n    return { isValid: useRoot1 || useRoot2, value: x };\n}\n// Just in case\nexport const ED25519_TORSION_SUBGROUP = [\n    '0100000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n    '0000000000000000000000000000000000000000000000000000000000000080',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n    'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n    '0000000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n];\nconst Fp = /* @__PURE__ */ (() => Field(ED25519_P, undefined, true))();\nconst ed25519Defaults = /* @__PURE__ */ (() => ({\n    // Param: a\n    a: BigInt(-1), // Fp.create(-1) is proper; our way still works and is faster\n    // d is equal to -121665/121666 over finite field.\n    // Negative number is P - number, and division is invert(number, P)\n    d: BigInt('37095705934669439343138083508754565189542113879843219016388785533085940283555'),\n    // Finite field 𝔽p over which we'll do calculations; 2n**255n - 19n\n    Fp,\n    // Subgroup order: how many points curve has\n    // 2n**252n + 27742317777372353535851937790883648493n;\n    n: BigInt('7237005577332262213973186563042994240857116359379907606001950938285454250989'),\n    // Cofactor\n    h: _8n,\n    // Base point (x, y) aka generator point\n    Gx: BigInt('15112221349535400772501151409588531511454012693041857206046113283949847762202'),\n    Gy: BigInt('46316835694926478169428394003475163141307993866256225615783033603165251855960'),\n    hash: sha512,\n    randomBytes,\n    adjustScalarBytes,\n    // dom2\n    // Ratio of u to v. Allows us to combine inversion and square root. Uses algo from RFC8032 5.1.3.\n    // Constant-time, u/√v\n    uvRatio,\n}))();\n/**\n * ed25519 curve with EdDSA signatures.\n * @example\n * import { ed25519 } from '@noble/curves/ed25519';\n * const priv = ed25519.utils.randomPrivateKey();\n * const pub = ed25519.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = ed25519.sign(msg, priv);\n * ed25519.verify(sig, msg, pub); // Default mode: follows ZIP215\n * ed25519.verify(sig, msg, pub, { zip215: false }); // RFC8032 / FIPS 186-5\n */\nexport const ed25519 = /* @__PURE__ */ (() => twistedEdwards(ed25519Defaults))();\nfunction ed25519_domain(data, ctx, phflag) {\n    if (ctx.length > 255)\n        throw new Error('Context is too big');\n    return concatBytes(utf8ToBytes('SigEd25519 no Ed25519 collisions'), new Uint8Array([phflag ? 1 : 0, ctx.length]), ctx, data);\n}\nexport const ed25519ctx = /* @__PURE__ */ (() => twistedEdwards({\n    ...ed25519Defaults,\n    domain: ed25519_domain,\n}))();\nexport const ed25519ph = /* @__PURE__ */ (() => twistedEdwards(Object.assign({}, ed25519Defaults, {\n    domain: ed25519_domain,\n    prehash: sha512,\n})))();\n/**\n * ECDH using curve25519 aka x25519.\n * @example\n * import { x25519 } from '@noble/curves/ed25519';\n * const priv = 'a546e36bf0527c9d3b16154b82465edd62144c0ac1fc5a18506a2244ba449ac4';\n * const pub = 'e6db6867583030db3594c1a424b15f7c726624ec26b3353b10a903a6d0ab1c4c';\n * x25519.getSharedSecret(priv, pub) === x25519.scalarMult(priv, pub); // aliases\n * x25519.getPublicKey(priv) === x25519.scalarMultBase(priv);\n * x25519.getPublicKey(x25519.utils.randomPrivateKey());\n */\nexport const x25519 = /* @__PURE__ */ (() => montgomery({\n    P: ED25519_P,\n    a: BigInt(486662),\n    montgomeryBits: 255, // n is 253 bits\n    nByteLength: 32,\n    Gu: BigInt(9),\n    powPminus2: (x) => {\n        const P = ED25519_P;\n        // x^(p-2) aka x^(2^255-21)\n        const { pow_p_5_8, b2 } = ed25519_pow_2_252_3(x);\n        return mod(pow2(pow_p_5_8, _3n, P) * b2, P);\n    },\n    adjustScalarBytes,\n    randomBytes,\n}))();\n/**\n * Converts ed25519 public key to x25519 public key. Uses formula:\n * * `(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)`\n * * `(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))`\n * @example\n *   const someonesPub = ed25519.getPublicKey(ed25519.utils.randomPrivateKey());\n *   const aPriv = x25519.utils.randomPrivateKey();\n *   x25519.getSharedSecret(aPriv, edwardsToMontgomeryPub(someonesPub))\n */\nexport function edwardsToMontgomeryPub(edwardsPub) {\n    const { y } = ed25519.ExtendedPoint.fromHex(edwardsPub);\n    const _1n = BigInt(1);\n    return Fp.toBytes(Fp.create((_1n + y) * Fp.inv(_1n - y)));\n}\nexport const edwardsToMontgomery = edwardsToMontgomeryPub; // deprecated\n/**\n * Converts ed25519 secret key to x25519 secret key.\n * @example\n *   const someonesPub = x25519.getPublicKey(x25519.utils.randomPrivateKey());\n *   const aPriv = ed25519.utils.randomPrivateKey();\n *   x25519.getSharedSecret(edwardsToMontgomeryPriv(aPriv), someonesPub)\n */\nexport function edwardsToMontgomeryPriv(edwardsPriv) {\n    const hashed = ed25519Defaults.hash(edwardsPriv.subarray(0, 32));\n    return ed25519Defaults.adjustScalarBytes(hashed).subarray(0, 32);\n}\n// Hash To Curve Elligator2 Map (NOTE: different from ristretto255 elligator)\n// NOTE: very important part is usage of FpSqrtEven for ELL2_C1_EDWARDS, since\n// SageMath returns different root first and everything falls apart\nconst ELL2_C1 = /* @__PURE__ */ (() => (Fp.ORDER + _3n) / _8n)(); // 1. c1 = (q + 3) / 8       # Integer arithmetic\nconst ELL2_C2 = /* @__PURE__ */ (() => Fp.pow(_2n, ELL2_C1))(); // 2. c2 = 2^c1\nconst ELL2_C3 = /* @__PURE__ */ (() => Fp.sqrt(Fp.neg(Fp.ONE)))(); // 3. c3 = sqrt(-1)\n// prettier-ignore\nfunction map_to_curve_elligator2_curve25519(u) {\n    const ELL2_C4 = (Fp.ORDER - _5n) / _8n; // 4. c4 = (q - 5) / 8       # Integer arithmetic\n    const ELL2_J = BigInt(486662);\n    let tv1 = Fp.sqr(u); //  1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, _2n); //  2.  tv1 = 2 * tv1\n    let xd = Fp.add(tv1, Fp.ONE); //  3.   xd = tv1 + 1         # Nonzero: -1 is square (mod p), tv1 is not\n    let x1n = Fp.neg(ELL2_J); //  4.  x1n = -J              # x1 = x1n / xd = -J / (1 + 2 * u^2)\n    let tv2 = Fp.sqr(xd); //  5.  tv2 = xd^2\n    let gxd = Fp.mul(tv2, xd); //  6.  gxd = tv2 * xd        # gxd = xd^3\n    let gx1 = Fp.mul(tv1, ELL2_J); //  7.  gx1 = J * tv1         # x1n + J * xd\n    gx1 = Fp.mul(gx1, x1n); //  8.  gx1 = gx1 * x1n       # x1n^2 + J * x1n * xd\n    gx1 = Fp.add(gx1, tv2); //  9.  gx1 = gx1 + tv2       # x1n^2 + J * x1n * xd + xd^2\n    gx1 = Fp.mul(gx1, x1n); //  10. gx1 = gx1 * x1n       # x1n^3 + J * x1n^2 * xd + x1n * xd^2\n    let tv3 = Fp.sqr(gxd); //  11. tv3 = gxd^2\n    tv2 = Fp.sqr(tv3); //  12. tv2 = tv3^2           # gxd^4\n    tv3 = Fp.mul(tv3, gxd); //  13. tv3 = tv3 * gxd       # gxd^3\n    tv3 = Fp.mul(tv3, gx1); //  14. tv3 = tv3 * gx1       # gx1 * gxd^3\n    tv2 = Fp.mul(tv2, tv3); //  15. tv2 = tv2 * tv3       # gx1 * gxd^7\n    let y11 = Fp.pow(tv2, ELL2_C4); //  16. y11 = tv2^c4        # (gx1 * gxd^7)^((p - 5) / 8)\n    y11 = Fp.mul(y11, tv3); //  17. y11 = y11 * tv3       # gx1*gxd^3*(gx1*gxd^7)^((p-5)/8)\n    let y12 = Fp.mul(y11, ELL2_C3); //  18. y12 = y11 * c3\n    tv2 = Fp.sqr(y11); //  19. tv2 = y11^2\n    tv2 = Fp.mul(tv2, gxd); //  20. tv2 = tv2 * gxd\n    let e1 = Fp.eql(tv2, gx1); //  21.  e1 = tv2 == gx1\n    let y1 = Fp.cmov(y12, y11, e1); //  22.  y1 = CMOV(y12, y11, e1)  # If g(x1) is square, this is its sqrt\n    let x2n = Fp.mul(x1n, tv1); //  23. x2n = x1n * tv1       # x2 = x2n / xd = 2 * u^2 * x1n / xd\n    let y21 = Fp.mul(y11, u); //  24. y21 = y11 * u\n    y21 = Fp.mul(y21, ELL2_C2); //  25. y21 = y21 * c2\n    let y22 = Fp.mul(y21, ELL2_C3); //  26. y22 = y21 * c3\n    let gx2 = Fp.mul(gx1, tv1); //  27. gx2 = gx1 * tv1       # g(x2) = gx2 / gxd = 2 * u^2 * g(x1)\n    tv2 = Fp.sqr(y21); //  28. tv2 = y21^2\n    tv2 = Fp.mul(tv2, gxd); //  29. tv2 = tv2 * gxd\n    let e2 = Fp.eql(tv2, gx2); //  30.  e2 = tv2 == gx2\n    let y2 = Fp.cmov(y22, y21, e2); //  31.  y2 = CMOV(y22, y21, e2)  # If g(x2) is square, this is its sqrt\n    tv2 = Fp.sqr(y1); //  32. tv2 = y1^2\n    tv2 = Fp.mul(tv2, gxd); //  33. tv2 = tv2 * gxd\n    let e3 = Fp.eql(tv2, gx1); //  34.  e3 = tv2 == gx1\n    let xn = Fp.cmov(x2n, x1n, e3); //  35.  xn = CMOV(x2n, x1n, e3)  # If e3, x = x1, else x = x2\n    let y = Fp.cmov(y2, y1, e3); //  36.   y = CMOV(y2, y1, e3)    # If e3, y = y1, else y = y2\n    let e4 = Fp.isOdd(y); //  37.  e4 = sgn0(y) == 1        # Fix sign of y\n    y = Fp.cmov(y, Fp.neg(y), e3 !== e4); //  38.   y = CMOV(y, -y, e3 XOR e4)\n    return { xMn: xn, xMd: xd, yMn: y, yMd: _1n }; //  39. return (xn, xd, y, 1)\n}\nconst ELL2_C1_EDWARDS = /* @__PURE__ */ (() => FpSqrtEven(Fp, Fp.neg(BigInt(486664))))(); // sgn0(c1) MUST equal 0\nfunction map_to_curve_elligator2_edwards25519(u) {\n    const { xMn, xMd, yMn, yMd } = map_to_curve_elligator2_curve25519(u); //  1.  (xMn, xMd, yMn, yMd) =\n    // map_to_curve_elligator2_curve25519(u)\n    let xn = Fp.mul(xMn, yMd); //  2.  xn = xMn * yMd\n    xn = Fp.mul(xn, ELL2_C1_EDWARDS); //  3.  xn = xn * c1\n    let xd = Fp.mul(xMd, yMn); //  4.  xd = xMd * yMn    # xn / xd = c1 * xM / yM\n    let yn = Fp.sub(xMn, xMd); //  5.  yn = xMn - xMd\n    let yd = Fp.add(xMn, xMd); //  6.  yd = xMn + xMd    # (n / d - 1) / (n / d + 1) = (n - d) / (n + d)\n    let tv1 = Fp.mul(xd, yd); //  7. tv1 = xd * yd\n    let e = Fp.eql(tv1, Fp.ZERO); //  8.   e = tv1 == 0\n    xn = Fp.cmov(xn, Fp.ZERO, e); //  9.  xn = CMOV(xn, 0, e)\n    xd = Fp.cmov(xd, Fp.ONE, e); //  10. xd = CMOV(xd, 1, e)\n    yn = Fp.cmov(yn, Fp.ONE, e); //  11. yn = CMOV(yn, 1, e)\n    yd = Fp.cmov(yd, Fp.ONE, e); //  12. yd = CMOV(yd, 1, e)\n    const inv = Fp.invertBatch([xd, yd]); // batch division\n    return { x: Fp.mul(xn, inv[0]), y: Fp.mul(yn, inv[1]) }; //  13. return (xn, xd, yn, yd)\n}\nconst htf = /* @__PURE__ */ (() => createHasher(ed25519.ExtendedPoint, (scalars) => map_to_curve_elligator2_edwards25519(scalars[0]), {\n    DST: 'edwards25519_XMD:SHA-512_ELL2_RO_',\n    encodeDST: 'edwards25519_XMD:SHA-512_ELL2_NU_',\n    p: Fp.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha512,\n}))();\nexport const hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\nexport const encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\nfunction assertRstPoint(other) {\n    if (!(other instanceof RistPoint))\n        throw new Error('RistrettoPoint expected');\n}\n// √(-1) aka √(a) aka 2^((p-1)/4)\nconst SQRT_M1 = ED25519_SQRT_M1;\n// √(ad - 1)\nconst SQRT_AD_MINUS_ONE = /* @__PURE__ */ BigInt('25063068953384623474111414158702152701244531502492656460079210482610430750235');\n// 1 / √(a-d)\nconst INVSQRT_A_MINUS_D = /* @__PURE__ */ BigInt('54469307008909316920995813868745141605393597292927456921205312896311721017578');\n// 1-d²\nconst ONE_MINUS_D_SQ = /* @__PURE__ */ BigInt('1159843021668779879193775521855586647937357759715417654439879720876111806838');\n// (d-1)²\nconst D_MINUS_ONE_SQ = /* @__PURE__ */ BigInt('40440834346308536858101042469323190826248399146238708352240133220865137265952');\n// Calculates 1/√(number)\nconst invertSqrt = (number) => uvRatio(_1n, number);\nconst MAX_255B = /* @__PURE__ */ BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\nconst bytes255ToNumberLE = (bytes) => ed25519.CURVE.Fp.create(bytesToNumberLE(bytes) & MAX_255B);\n// Computes Elligator map for Ristretto\n// https://ristretto.group/formulas/elligator.html\nfunction calcElligatorRistrettoMap(r0) {\n    const { d } = ed25519.CURVE;\n    const P = ed25519.CURVE.Fp.ORDER;\n    const mod = ed25519.CURVE.Fp.create;\n    const r = mod(SQRT_M1 * r0 * r0); // 1\n    const Ns = mod((r + _1n) * ONE_MINUS_D_SQ); // 2\n    let c = BigInt(-1); // 3\n    const D = mod((c - d * r) * mod(r + d)); // 4\n    let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D); // 5\n    let s_ = mod(s * r0); // 6\n    if (!isNegativeLE(s_, P))\n        s_ = mod(-s_);\n    if (!Ns_D_is_sq)\n        s = s_; // 7\n    if (!Ns_D_is_sq)\n        c = r; // 8\n    const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D); // 9\n    const s2 = s * s;\n    const W0 = mod((s + s) * D); // 10\n    const W1 = mod(Nt * SQRT_AD_MINUS_ONE); // 11\n    const W2 = mod(_1n - s2); // 12\n    const W3 = mod(_1n + s2); // 13\n    return new ed25519.ExtendedPoint(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n}\n/**\n * Each ed25519/ExtendedPoint has 8 different equivalent points. This can be\n * a source of bugs for protocols like ring signatures. Ristretto was created to solve this.\n * Ristretto point operates in X:Y:Z:T extended coordinates like ExtendedPoint,\n * but it should work in its own namespace: do not combine those two.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-ristretto255-decaf448\n */\nclass RistPoint {\n    // Private property to discourage combining ExtendedPoint + RistrettoPoint\n    // Always use Ristretto encoding/decoding instead.\n    constructor(ep) {\n        this.ep = ep;\n    }\n    static fromAffine(ap) {\n        return new RistPoint(ed25519.ExtendedPoint.fromAffine(ap));\n    }\n    /**\n     * Takes uniform output of 64-byte hash function like sha512 and converts it to `RistrettoPoint`.\n     * The hash-to-group operation applies Elligator twice and adds the results.\n     * **Note:** this is one-way map, there is no conversion from point to hash.\n     * https://ristretto.group/formulas/elligator.html\n     * @param hex 64-byte output of a hash function\n     */\n    static hashToCurve(hex) {\n        hex = ensureBytes('ristrettoHash', hex, 64);\n        const r1 = bytes255ToNumberLE(hex.slice(0, 32));\n        const R1 = calcElligatorRistrettoMap(r1);\n        const r2 = bytes255ToNumberLE(hex.slice(32, 64));\n        const R2 = calcElligatorRistrettoMap(r2);\n        return new RistPoint(R1.add(R2));\n    }\n    /**\n     * Converts ristretto-encoded string to ristretto point.\n     * https://ristretto.group/formulas/decoding.html\n     * @param hex Ristretto-encoded 32 bytes. Not every 32-byte string is valid ristretto encoding\n     */\n    static fromHex(hex) {\n        hex = ensureBytes('ristrettoHex', hex, 32);\n        const { a, d } = ed25519.CURVE;\n        const P = ed25519.CURVE.Fp.ORDER;\n        const mod = ed25519.CURVE.Fp.create;\n        const emsg = 'RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint';\n        const s = bytes255ToNumberLE(hex);\n        // 1. Check that s_bytes is the canonical encoding of a field element, or else abort.\n        // 3. Check that s is non-negative, or else abort\n        if (!equalBytes(numberToBytesLE(s, 32), hex) || isNegativeLE(s, P))\n            throw new Error(emsg);\n        const s2 = mod(s * s);\n        const u1 = mod(_1n + a * s2); // 4 (a is -1)\n        const u2 = mod(_1n - a * s2); // 5\n        const u1_2 = mod(u1 * u1);\n        const u2_2 = mod(u2 * u2);\n        const v = mod(a * d * u1_2 - u2_2); // 6\n        const { isValid, value: I } = invertSqrt(mod(v * u2_2)); // 7\n        const Dx = mod(I * u2); // 8\n        const Dy = mod(I * Dx * v); // 9\n        let x = mod((s + s) * Dx); // 10\n        if (isNegativeLE(x, P))\n            x = mod(-x); // 10\n        const y = mod(u1 * Dy); // 11\n        const t = mod(x * y); // 12\n        if (!isValid || isNegativeLE(t, P) || y === _0n)\n            throw new Error(emsg);\n        return new RistPoint(new ed25519.ExtendedPoint(x, y, _1n, t));\n    }\n    static msm(points, scalars) {\n        const Fn = Field(ed25519.CURVE.n, ed25519.CURVE.nBitLength);\n        return pippenger(RistPoint, Fn, points, scalars);\n    }\n    /**\n     * Encodes ristretto point to Uint8Array.\n     * https://ristretto.group/formulas/encoding.html\n     */\n    toRawBytes() {\n        let { ex: x, ey: y, ez: z, et: t } = this.ep;\n        const P = ed25519.CURVE.Fp.ORDER;\n        const mod = ed25519.CURVE.Fp.create;\n        const u1 = mod(mod(z + y) * mod(z - y)); // 1\n        const u2 = mod(x * y); // 2\n        // Square root always exists\n        const u2sq = mod(u2 * u2);\n        const { value: invsqrt } = invertSqrt(mod(u1 * u2sq)); // 3\n        const D1 = mod(invsqrt * u1); // 4\n        const D2 = mod(invsqrt * u2); // 5\n        const zInv = mod(D1 * D2 * t); // 6\n        let D; // 7\n        if (isNegativeLE(t * zInv, P)) {\n            let _x = mod(y * SQRT_M1);\n            let _y = mod(x * SQRT_M1);\n            x = _x;\n            y = _y;\n            D = mod(D1 * INVSQRT_A_MINUS_D);\n        }\n        else {\n            D = D2; // 8\n        }\n        if (isNegativeLE(x * zInv, P))\n            y = mod(-y); // 9\n        let s = mod((z - y) * D); // 10 (check footer's note, no sqrt(-a))\n        if (isNegativeLE(s, P))\n            s = mod(-s);\n        return numberToBytesLE(s, 32); // 11\n    }\n    toHex() {\n        return bytesToHex(this.toRawBytes());\n    }\n    toString() {\n        return this.toHex();\n    }\n    // Compare one point to another.\n    equals(other) {\n        assertRstPoint(other);\n        const { ex: X1, ey: Y1 } = this.ep;\n        const { ex: X2, ey: Y2 } = other.ep;\n        const mod = ed25519.CURVE.Fp.create;\n        // (x1 * y2 == y1 * x2) | (y1 * y2 == x1 * x2)\n        const one = mod(X1 * Y2) === mod(Y1 * X2);\n        const two = mod(Y1 * Y2) === mod(X1 * X2);\n        return one || two;\n    }\n    add(other) {\n        assertRstPoint(other);\n        return new RistPoint(this.ep.add(other.ep));\n    }\n    subtract(other) {\n        assertRstPoint(other);\n        return new RistPoint(this.ep.subtract(other.ep));\n    }\n    multiply(scalar) {\n        return new RistPoint(this.ep.multiply(scalar));\n    }\n    multiplyUnsafe(scalar) {\n        return new RistPoint(this.ep.multiplyUnsafe(scalar));\n    }\n    double() {\n        return new RistPoint(this.ep.double());\n    }\n    negate() {\n        return new RistPoint(this.ep.negate());\n    }\n}\nexport const RistrettoPoint = /* @__PURE__ */ (() => {\n    if (!RistPoint.BASE)\n        RistPoint.BASE = new RistPoint(ed25519.ExtendedPoint.BASE);\n    if (!RistPoint.ZERO)\n        RistPoint.ZERO = new RistPoint(ed25519.ExtendedPoint.ZERO);\n    return RistPoint;\n})();\n// Hashing to ristretto255. https://www.rfc-editor.org/rfc/rfc9380#appendix-B\nexport const hashToRistretto255 = (msg, options) => {\n    const d = options.DST;\n    const DST = typeof d === 'string' ? utf8ToBytes(d) : d;\n    const uniform_bytes = expand_message_xmd(msg, DST, 64, sha512);\n    const P = RistPoint.hashToCurve(uniform_bytes);\n    return P;\n};\nexport const hash_to_ristretto255 = hashToRistretto255; // legacy\n//# sourceMappingURL=ed25519.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ExpirableMap_inner, _ExpirableMap_expirationTime, _a, _b;\n/**\n * A map that expires entries after a given time.\n * Defaults to 10 minutes.\n */\nexport class ExpirableMap {\n    /**\n     * Create a new ExpirableMap.\n     * @param {ExpirableMapOptions<any, any>} options - options for the map.\n     * @param {Iterable<[any, any]>} options.source - an optional source of entries to initialize the map with.\n     * @param {number} options.expirationTime - the time in milliseconds after which entries will expire.\n     */\n    constructor(options = {}) {\n        // Internals\n        _ExpirableMap_inner.set(this, void 0);\n        _ExpirableMap_expirationTime.set(this, void 0);\n        this[_a] = this.entries.bind(this);\n        this[_b] = 'ExpirableMap';\n        const { source = [], expirationTime = 10 * 60 * 1000 } = options;\n        const currentTime = Date.now();\n        __classPrivateFieldSet(this, _ExpirableMap_inner, new Map([...source].map(([key, value]) => [key, { value, timestamp: currentTime }])), \"f\");\n        __classPrivateFieldSet(this, _ExpirableMap_expirationTime, expirationTime, \"f\");\n    }\n    /**\n     * Prune removes all expired entries.\n     */\n    prune() {\n        const currentTime = Date.now();\n        for (const [key, entry] of __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").entries()) {\n            if (currentTime - entry.timestamp > __classPrivateFieldGet(this, _ExpirableMap_expirationTime, \"f\")) {\n                __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").delete(key);\n            }\n        }\n        return this;\n    }\n    // Implementing the Map interface\n    /**\n     * Set the value for the given key. Prunes expired entries.\n     * @param key for the entry\n     * @param value of the entry\n     * @returns this\n     */\n    set(key, value) {\n        this.prune();\n        const entry = {\n            value,\n            timestamp: Date.now(),\n        };\n        __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").set(key, entry);\n        return this;\n    }\n    /**\n     * Get the value associated with the key, if it exists and has not expired.\n     * @param key K\n     * @returns the value associated with the key, or undefined if the key is not present or has expired.\n     */\n    get(key) {\n        const entry = __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").get(key);\n        if (entry === undefined) {\n            return undefined;\n        }\n        if (Date.now() - entry.timestamp > __classPrivateFieldGet(this, _ExpirableMap_expirationTime, \"f\")) {\n            __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").delete(key);\n            return undefined;\n        }\n        return entry.value;\n    }\n    /**\n     * Clear all entries.\n     */\n    clear() {\n        __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").clear();\n    }\n    /**\n     * Entries returns the entries of the map, without the expiration time.\n     * @returns an iterator over the entries of the map.\n     */\n    entries() {\n        const iterator = __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").entries();\n        const generator = function* () {\n            for (const [key, value] of iterator) {\n                yield [key, value.value];\n            }\n        };\n        return generator();\n    }\n    /**\n     * Values returns the values of the map, without the expiration time.\n     * @returns an iterator over the values of the map.\n     */\n    values() {\n        const iterator = __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").values();\n        const generator = function* () {\n            for (const value of iterator) {\n                yield value.value;\n            }\n        };\n        return generator();\n    }\n    /**\n     * Keys returns the keys of the map\n     * @returns an iterator over the keys of the map.\n     */\n    keys() {\n        return __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").keys();\n    }\n    /**\n     * forEach calls the callbackfn on each entry of the map.\n     * @param callbackfn to call on each entry\n     * @param thisArg to use as this when calling the callbackfn\n     */\n    forEach(callbackfn, thisArg) {\n        for (const [key, value] of __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").entries()) {\n            callbackfn.call(thisArg, value.value, key, this);\n        }\n    }\n    /**\n     * has returns true if the key exists and has not expired.\n     * @param key K\n     * @returns true if the key exists and has not expired.\n     */\n    has(key) {\n        return __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").has(key);\n    }\n    /**\n     * delete the entry for the given key.\n     * @param key K\n     * @returns true if the key existed and has been deleted.\n     */\n    delete(key) {\n        return __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").delete(key);\n    }\n    /**\n     * get size of the map.\n     * @returns the size of the map.\n     */\n    get size() {\n        return __classPrivateFieldGet(this, _ExpirableMap_inner, \"f\").size;\n    }\n}\n_ExpirableMap_inner = new WeakMap(), _ExpirableMap_expirationTime = new WeakMap(), _a = Symbol.iterator, _b = Symbol.toStringTag;\n//# sourceMappingURL=expirableMap.js.map","import { bufEquals } from './utils/buffer';\nexport const encodeLenBytes = (len) => {\n    if (len <= 0x7f) {\n        return 1;\n    }\n    else if (len <= 0xff) {\n        return 2;\n    }\n    else if (len <= 0xffff) {\n        return 3;\n    }\n    else if (len <= 0xffffff) {\n        return 4;\n    }\n    else {\n        throw new Error('Length too long (> 4 bytes)');\n    }\n};\nexport const encodeLen = (buf, offset, len) => {\n    if (len <= 0x7f) {\n        buf[offset] = len;\n        return 1;\n    }\n    else if (len <= 0xff) {\n        buf[offset] = 0x81;\n        buf[offset + 1] = len;\n        return 2;\n    }\n    else if (len <= 0xffff) {\n        buf[offset] = 0x82;\n        buf[offset + 1] = len >> 8;\n        buf[offset + 2] = len;\n        return 3;\n    }\n    else if (len <= 0xffffff) {\n        buf[offset] = 0x83;\n        buf[offset + 1] = len >> 16;\n        buf[offset + 2] = len >> 8;\n        buf[offset + 3] = len;\n        return 4;\n    }\n    else {\n        throw new Error('Length too long (> 4 bytes)');\n    }\n};\nexport const decodeLenBytes = (buf, offset) => {\n    if (buf[offset] < 0x80)\n        return 1;\n    if (buf[offset] === 0x80)\n        throw new Error('Invalid length 0');\n    if (buf[offset] === 0x81)\n        return 2;\n    if (buf[offset] === 0x82)\n        return 3;\n    if (buf[offset] === 0x83)\n        return 4;\n    throw new Error('Length too long (> 4 bytes)');\n};\nexport const decodeLen = (buf, offset) => {\n    const lenBytes = decodeLenBytes(buf, offset);\n    if (lenBytes === 1)\n        return buf[offset];\n    else if (lenBytes === 2)\n        return buf[offset + 1];\n    else if (lenBytes === 3)\n        return (buf[offset + 1] << 8) + buf[offset + 2];\n    else if (lenBytes === 4)\n        return (buf[offset + 1] << 16) + (buf[offset + 2] << 8) + buf[offset + 3];\n    throw new Error('Length too long (> 4 bytes)');\n};\n/**\n * A DER encoded `SEQUENCE(OID)` for DER-encoded-COSE\n */\nexport const DER_COSE_OID = Uint8Array.from([\n    ...[0x30, 0x0c],\n    ...[0x06, 0x0a],\n    ...[0x2b, 0x06, 0x01, 0x04, 0x01, 0x83, 0xb8, 0x43, 0x01, 0x01], // DER encoded COSE\n]);\n/**\n * A DER encoded `SEQUENCE(OID)` for the Ed25519 algorithm\n */\nexport const ED25519_OID = Uint8Array.from([\n    ...[0x30, 0x05],\n    ...[0x06, 0x03],\n    ...[0x2b, 0x65, 0x70], // id-Ed25519 OID\n]);\n/**\n * A DER encoded `SEQUENCE(OID)` for secp256k1 with the ECDSA algorithm\n */\nexport const SECP256K1_OID = Uint8Array.from([\n    ...[0x30, 0x10],\n    ...[0x06, 0x07],\n    ...[0x2a, 0x86, 0x48, 0xce, 0x3d, 0x02, 0x01],\n    ...[0x06, 0x05],\n    ...[0x2b, 0x81, 0x04, 0x00, 0x0a], // OID secp256k1\n]);\n/**\n * Wraps the given `payload` in a DER encoding tagged with the given encoded `oid` like so:\n * `SEQUENCE(oid, BITSTRING(payload))`\n *\n * @param payload The payload to encode as the bit string\n * @param oid The DER encoded (and SEQUENCE wrapped!) OID to tag the payload with\n */\nexport function wrapDER(payload, oid) {\n    // The Bit String header needs to include the unused bit count byte in its length\n    const bitStringHeaderLength = 2 + encodeLenBytes(payload.byteLength + 1);\n    const len = oid.byteLength + bitStringHeaderLength + payload.byteLength;\n    let offset = 0;\n    const buf = new Uint8Array(1 + encodeLenBytes(len) + len);\n    // Sequence\n    buf[offset++] = 0x30;\n    // Sequence Length\n    offset += encodeLen(buf, offset, len);\n    // OID\n    buf.set(oid, offset);\n    offset += oid.byteLength;\n    // Bit String Header\n    buf[offset++] = 0x03;\n    offset += encodeLen(buf, offset, payload.byteLength + 1);\n    // 0 padding\n    buf[offset++] = 0x00;\n    buf.set(new Uint8Array(payload), offset);\n    return buf;\n}\n/**\n * Extracts a payload from the given `derEncoded` data, and checks that it was tagged with the given `oid`.\n *\n * `derEncoded = SEQUENCE(oid, BITSTRING(payload))`\n *\n * @param derEncoded The DER encoded and tagged data\n * @param oid The DER encoded (and SEQUENCE wrapped!) expected OID\n * @returns The unwrapped payload\n */\nexport const unwrapDER = (derEncoded, oid) => {\n    let offset = 0;\n    const expect = (n, msg) => {\n        if (buf[offset++] !== n) {\n            throw new Error('Expected: ' + msg);\n        }\n    };\n    const buf = new Uint8Array(derEncoded);\n    expect(0x30, 'sequence');\n    offset += decodeLenBytes(buf, offset);\n    if (!bufEquals(buf.slice(offset, offset + oid.byteLength), oid)) {\n        throw new Error('Not the expected OID.');\n    }\n    offset += oid.byteLength;\n    expect(0x03, 'bit string');\n    const payloadLen = decodeLen(buf, offset) - 1; // Subtracting 1 to account for the 0 padding\n    offset += decodeLenBytes(buf, offset);\n    expect(0x00, '0 padding');\n    const result = buf.slice(offset);\n    if (payloadLen !== result.length) {\n        throw new Error(`DER payload mismatch: Expected length ${payloadLen} actual length ${result.length}`);\n    }\n    return result;\n};\n//# sourceMappingURL=der.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Ed25519PublicKey_rawKey, _Ed25519PublicKey_derKey;\nimport { ED25519_OID, unwrapDER, wrapDER } from './der';\nexport class Ed25519PublicKey {\n    // `fromRaw` and `fromDer` should be used for instantiation, not this constructor.\n    constructor(key) {\n        _Ed25519PublicKey_rawKey.set(this, void 0);\n        _Ed25519PublicKey_derKey.set(this, void 0);\n        if (key.byteLength !== Ed25519PublicKey.RAW_KEY_LENGTH) {\n            throw new Error('An Ed25519 public key must be exactly 32bytes long');\n        }\n        __classPrivateFieldSet(this, _Ed25519PublicKey_rawKey, key, \"f\");\n        __classPrivateFieldSet(this, _Ed25519PublicKey_derKey, Ed25519PublicKey.derEncode(key), \"f\");\n    }\n    static from(key) {\n        return this.fromDer(key.toDer());\n    }\n    static fromRaw(rawKey) {\n        return new Ed25519PublicKey(rawKey);\n    }\n    static fromDer(derKey) {\n        return new Ed25519PublicKey(this.derDecode(derKey));\n    }\n    static derEncode(publicKey) {\n        return wrapDER(publicKey, ED25519_OID).buffer;\n    }\n    static derDecode(key) {\n        const unwrapped = unwrapDER(key, ED25519_OID);\n        if (unwrapped.length !== this.RAW_KEY_LENGTH) {\n            throw new Error('An Ed25519 public key must be exactly 32bytes long');\n        }\n        return unwrapped;\n    }\n    get rawKey() {\n        return __classPrivateFieldGet(this, _Ed25519PublicKey_rawKey, \"f\");\n    }\n    get derKey() {\n        return __classPrivateFieldGet(this, _Ed25519PublicKey_derKey, \"f\");\n    }\n    toDer() {\n        return this.derKey;\n    }\n    toRaw() {\n        return this.rawKey;\n    }\n}\n_Ed25519PublicKey_rawKey = new WeakMap(), _Ed25519PublicKey_derKey = new WeakMap();\n// The length of Ed25519 public keys is always 32 bytes.\nEd25519PublicKey.RAW_KEY_LENGTH = 32;\n//# sourceMappingURL=public_key.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _HttpAgent_queryPipeline, _HttpAgent_updatePipeline, _HttpAgent_subnetKeys, _HttpAgent_verifyQuerySignatures, _HttpAgent_verifyQueryResponse;\nimport { Principal } from '@dfinity/principal';\nimport { AgentError } from '../../errors';\nimport { AnonymousIdentity } from '../../auth';\nimport * as cbor from '../../cbor';\nimport { hashOfMap, requestIdOf } from '../../request_id';\nimport { concat, fromHex } from '../../utils/buffer';\nimport { Expiry, httpHeadersTransform, makeNonceTransform } from './transforms';\nimport { makeNonce, SubmitRequestType, } from './types';\nimport { AgentHTTPResponseError } from './errors';\nimport { request } from '../../canisterStatus';\nimport { CertificateVerificationError } from '../../certificate';\nimport { ed25519 } from '@noble/curves/ed25519';\nimport { ExpirableMap } from '../../utils/expirableMap';\nimport { Ed25519PublicKey } from '../../public_key';\nexport * from './transforms';\nexport { makeNonce } from './types';\nexport var RequestStatusResponseStatus;\n(function (RequestStatusResponseStatus) {\n    RequestStatusResponseStatus[\"Received\"] = \"received\";\n    RequestStatusResponseStatus[\"Processing\"] = \"processing\";\n    RequestStatusResponseStatus[\"Replied\"] = \"replied\";\n    RequestStatusResponseStatus[\"Rejected\"] = \"rejected\";\n    RequestStatusResponseStatus[\"Unknown\"] = \"unknown\";\n    RequestStatusResponseStatus[\"Done\"] = \"done\";\n})(RequestStatusResponseStatus || (RequestStatusResponseStatus = {}));\n// Default delta for ingress expiry is 5 minutes.\nconst DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS = 5 * 60 * 1000;\n// Root public key for the IC, encoded as hex\nconst IC_ROOT_KEY = '308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814' +\n    'c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d968' +\n    '5f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484' +\n    'b01291091c5f87b98883463f98091a0baaae';\n// IC0 domain info\nconst IC0_DOMAIN = 'ic0.app';\nconst IC0_SUB_DOMAIN = '.ic0.app';\nconst ICP0_DOMAIN = 'icp0.io';\nconst ICP0_SUB_DOMAIN = '.icp0.io';\nconst ICP_API_DOMAIN = 'icp-api.io';\nconst ICP_API_SUB_DOMAIN = '.icp-api.io';\nclass HttpDefaultFetchError extends AgentError {\n    constructor(message) {\n        super(message);\n        this.message = message;\n    }\n}\nexport class IdentityInvalidError extends AgentError {\n    constructor(message) {\n        super(message);\n        this.message = message;\n    }\n}\nfunction getDefaultFetch() {\n    let defaultFetch;\n    if (typeof window !== 'undefined') {\n        // Browser context\n        if (window.fetch) {\n            defaultFetch = window.fetch.bind(window);\n        }\n        else {\n            throw new HttpDefaultFetchError('Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.');\n        }\n    }\n    else if (typeof global !== 'undefined') {\n        // Node context\n        if (global.fetch) {\n            defaultFetch = global.fetch.bind(global);\n        }\n        else {\n            throw new HttpDefaultFetchError('Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.');\n        }\n    }\n    else if (typeof self !== 'undefined') {\n        if (self.fetch) {\n            defaultFetch = self.fetch.bind(self);\n        }\n    }\n    if (defaultFetch) {\n        return defaultFetch;\n    }\n    throw new HttpDefaultFetchError('Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.');\n}\n// A HTTP agent allows users to interact with a client of the internet computer\n// using the available methods. It exposes an API that closely follows the\n// public view of the internet computer, and is not intended to be exposed\n// directly to the majority of users due to its low-level interface.\n//\n// There is a pipeline to apply transformations to the request before sending\n// it to the client. This is to decouple signature, nonce generation and\n// other computations so that this class can stay as simple as possible while\n// allowing extensions.\nexport class HttpAgent {\n    constructor(options = {}) {\n        this.rootKey = fromHex(IC_ROOT_KEY);\n        this._timeDiffMsecs = 0;\n        this._rootKeyFetched = false;\n        this._isAgent = true;\n        _HttpAgent_queryPipeline.set(this, []);\n        _HttpAgent_updatePipeline.set(this, []);\n        _HttpAgent_subnetKeys.set(this, new ExpirableMap({\n            expirationTime: 5 * 60 * 1000, // 5 minutes\n        }));\n        _HttpAgent_verifyQuerySignatures.set(this, true);\n        /**\n         * See https://internetcomputer.org/docs/current/references/ic-interface-spec/#http-query for details on validation\n         * @param queryResponse - The response from the query\n         * @param subnetStatus - The subnet status, including all node keys\n         * @returns ApiQueryResponse\n         */\n        _HttpAgent_verifyQueryResponse.set(this, (queryResponse, subnetStatus) => {\n            if (__classPrivateFieldGet(this, _HttpAgent_verifyQuerySignatures, \"f\") === false) {\n                // This should not be called if the user has disabled verification\n                return queryResponse;\n            }\n            if (!subnetStatus) {\n                throw new CertificateVerificationError('Invalid signature from replica signed query: no matching node key found.');\n            }\n            const { status, signatures = [], requestId } = queryResponse;\n            const domainSeparator = new TextEncoder().encode('\\x0Bic-response');\n            for (const sig of signatures) {\n                const { timestamp, identity } = sig;\n                const nodeId = Principal.fromUint8Array(identity).toText();\n                let hash;\n                // Hash is constructed differently depending on the status\n                if (status === 'replied') {\n                    const { reply } = queryResponse;\n                    hash = hashOfMap({\n                        status: status,\n                        reply: reply,\n                        timestamp: BigInt(timestamp),\n                        request_id: requestId,\n                    });\n                }\n                else if (status === 'rejected') {\n                    const { reject_code, reject_message, error_code } = queryResponse;\n                    hash = hashOfMap({\n                        status: status,\n                        reject_code: reject_code,\n                        reject_message: reject_message,\n                        error_code: error_code,\n                        timestamp: BigInt(timestamp),\n                        request_id: requestId,\n                    });\n                }\n                else {\n                    throw new Error(`Unknown status: ${status}`);\n                }\n                const separatorWithHash = concat(domainSeparator, new Uint8Array(hash));\n                // FIX: check for match without verifying N times\n                const pubKey = subnetStatus === null || subnetStatus === void 0 ? void 0 : subnetStatus.nodeKeys.get(nodeId);\n                if (!pubKey) {\n                    throw new CertificateVerificationError('Invalid signature from replica signed query: no matching node key found.');\n                }\n                const rawKey = Ed25519PublicKey.fromDer(pubKey).rawKey;\n                const valid = ed25519.verify(sig.signature, new Uint8Array(separatorWithHash), new Uint8Array(rawKey));\n                if (valid)\n                    return queryResponse;\n                throw new CertificateVerificationError(`Invalid signature from replica ${nodeId} signed query.`);\n            }\n            return queryResponse;\n        });\n        if (options.source) {\n            if (!(options.source instanceof HttpAgent)) {\n                throw new Error(\"An Agent's source can only be another HttpAgent\");\n            }\n            this._identity = options.source._identity;\n            this._fetch = options.source._fetch;\n            this._host = options.source._host;\n            this._credentials = options.source._credentials;\n        }\n        else {\n            this._fetch = options.fetch || getDefaultFetch() || fetch.bind(global);\n            this._fetchOptions = options.fetchOptions;\n            this._callOptions = options.callOptions;\n        }\n        if (options.host !== undefined) {\n            if (!options.host.match(/^[a-z]+:/) && typeof window !== 'undefined') {\n                this._host = new URL(window.location.protocol + '//' + options.host);\n            }\n            else {\n                this._host = new URL(options.host);\n            }\n        }\n        else if (options.source !== undefined) {\n            // Safe to ignore here.\n            this._host = options.source._host;\n        }\n        else {\n            const location = typeof window !== 'undefined' ? window.location : undefined;\n            if (!location) {\n                this._host = new URL('https://icp-api.io');\n                console.warn('Could not infer host from window.location, defaulting to mainnet gateway of https://icp-api.io. Please provide a host to the HttpAgent constructor to avoid this warning.');\n            }\n            // Mainnet and local will have the api route available\n            const knownHosts = ['ic0.app', 'icp0.io', '127.0.0.1', 'localhost'];\n            const hostname = location === null || location === void 0 ? void 0 : location.hostname;\n            let knownHost;\n            if (hostname && typeof hostname === 'string') {\n                knownHost = knownHosts.find(host => hostname.endsWith(host));\n            }\n            if (location && knownHost) {\n                // If the user is on a boundary-node provided host, we can use the same host for the agent\n                this._host = new URL(`${location.protocol}//${knownHost}${location.port ? ':' + location.port : ''}`);\n            }\n            else {\n                this._host = new URL('https://icp-api.io');\n                console.warn('Could not infer host from window.location, defaulting to mainnet gateway of https://icp-api.io. Please provide a host to the HttpAgent constructor to avoid this warning.');\n            }\n        }\n        if (options.verifyQuerySignatures !== undefined) {\n            __classPrivateFieldSet(this, _HttpAgent_verifyQuerySignatures, options.verifyQuerySignatures, \"f\");\n        }\n        // Default is 3, only set from option if greater or equal to 0\n        this._retryTimes =\n            options.retryTimes !== undefined && options.retryTimes >= 0 ? options.retryTimes : 3;\n        // Rewrite to avoid redirects\n        if (this._host.hostname.endsWith(IC0_SUB_DOMAIN)) {\n            this._host.hostname = IC0_DOMAIN;\n        }\n        else if (this._host.hostname.endsWith(ICP0_SUB_DOMAIN)) {\n            this._host.hostname = ICP0_DOMAIN;\n        }\n        else if (this._host.hostname.endsWith(ICP_API_SUB_DOMAIN)) {\n            this._host.hostname = ICP_API_DOMAIN;\n        }\n        if (options.credentials) {\n            const { name, password } = options.credentials;\n            this._credentials = `${name}${password ? ':' + password : ''}`;\n        }\n        this._identity = Promise.resolve(options.identity || new AnonymousIdentity());\n        // Add a nonce transform to ensure calls are unique\n        this.addTransform('update', makeNonceTransform(makeNonce));\n        if (options.useQueryNonces) {\n            this.addTransform('query', makeNonceTransform(makeNonce));\n        }\n    }\n    isLocal() {\n        const hostname = this._host.hostname;\n        return hostname === '127.0.0.1' || hostname.endsWith('127.0.0.1');\n    }\n    addTransform(type, fn, priority = fn.priority || 0) {\n        if (type === 'update') {\n            // Keep the pipeline sorted at all time, by priority.\n            const i = __classPrivateFieldGet(this, _HttpAgent_updatePipeline, \"f\").findIndex(x => (x.priority || 0) < priority);\n            __classPrivateFieldGet(this, _HttpAgent_updatePipeline, \"f\").splice(i >= 0 ? i : __classPrivateFieldGet(this, _HttpAgent_updatePipeline, \"f\").length, 0, Object.assign(fn, { priority }));\n        }\n        else if (type === 'query') {\n            // Keep the pipeline sorted at all time, by priority.\n            const i = __classPrivateFieldGet(this, _HttpAgent_queryPipeline, \"f\").findIndex(x => (x.priority || 0) < priority);\n            __classPrivateFieldGet(this, _HttpAgent_queryPipeline, \"f\").splice(i >= 0 ? i : __classPrivateFieldGet(this, _HttpAgent_queryPipeline, \"f\").length, 0, Object.assign(fn, { priority }));\n        }\n    }\n    async getPrincipal() {\n        if (!this._identity) {\n            throw new IdentityInvalidError(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n        }\n        return (await this._identity).getPrincipal();\n    }\n    async call(canisterId, options, identity) {\n        const id = await (identity !== undefined ? await identity : await this._identity);\n        if (!id) {\n            throw new IdentityInvalidError(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n        }\n        const canister = Principal.from(canisterId);\n        const ecid = options.effectiveCanisterId\n            ? Principal.from(options.effectiveCanisterId)\n            : canister;\n        const sender = id.getPrincipal() || Principal.anonymous();\n        let ingress_expiry = new Expiry(DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS);\n        // If the value is off by more than 30 seconds, reconcile system time with the network\n        if (Math.abs(this._timeDiffMsecs) > 1000 * 30) {\n            ingress_expiry = new Expiry(DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS + this._timeDiffMsecs);\n        }\n        const submit = {\n            request_type: SubmitRequestType.Call,\n            canister_id: canister,\n            method_name: options.methodName,\n            arg: options.arg,\n            sender,\n            ingress_expiry,\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let transformedRequest = (await this._transform({\n            request: {\n                body: null,\n                method: 'POST',\n                headers: Object.assign({ 'Content-Type': 'application/cbor' }, (this._credentials ? { Authorization: 'Basic ' + btoa(this._credentials) } : {})),\n            },\n            endpoint: \"call\" /* Endpoint.Call */,\n            body: submit,\n        }));\n        // Apply transform for identity.\n        transformedRequest = await id.transformRequest(transformedRequest);\n        const body = cbor.encode(transformedRequest.body);\n        // Run both in parallel. The fetch is quite expensive, so we have plenty of time to\n        // calculate the requestId locally.\n        const request = this._requestAndRetry(() => this._fetch('' + new URL(`/api/v2/canister/${ecid.toText()}/call`, this._host), Object.assign(Object.assign(Object.assign({}, this._callOptions), transformedRequest.request), { body })));\n        const [response, requestId] = await Promise.all([request, requestIdOf(submit)]);\n        const responseBuffer = await response.arrayBuffer();\n        const responseBody = (response.status === 200 && responseBuffer.byteLength > 0 ? cbor.decode(responseBuffer) : null);\n        return {\n            requestId,\n            response: {\n                ok: response.ok,\n                status: response.status,\n                statusText: response.statusText,\n                body: responseBody,\n                headers: httpHeadersTransform(response.headers),\n            },\n        };\n    }\n    async _requestAndRetry(request, tries = 0) {\n        let response;\n        try {\n            response = await request();\n        }\n        catch (error) {\n            if (this._retryTimes > tries) {\n                console.warn(`Caught exception while attempting to make request:\\n` +\n                    `  ${error}\\n` +\n                    `  Retrying request.`);\n                return await this._requestAndRetry(request, tries + 1);\n            }\n            throw error;\n        }\n        if (response.ok) {\n            return response;\n        }\n        const responseText = await response.clone().text();\n        const errorMessage = `Server returned an error:\\n` +\n            `  Code: ${response.status} (${response.statusText})\\n` +\n            `  Body: ${responseText}\\n`;\n        if (this._retryTimes > tries) {\n            console.warn(errorMessage + `  Retrying request.`);\n            return await this._requestAndRetry(request, tries + 1);\n        }\n        throw new AgentHTTPResponseError(errorMessage, {\n            ok: response.ok,\n            status: response.status,\n            statusText: response.statusText,\n            headers: httpHeadersTransform(response.headers),\n        });\n    }\n    async query(canisterId, fields, identity) {\n        const makeQuery = async () => {\n            const id = await (identity !== undefined ? await identity : await this._identity);\n            if (!id) {\n                throw new IdentityInvalidError(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n            }\n            const canister = Principal.from(canisterId);\n            const sender = (id === null || id === void 0 ? void 0 : id.getPrincipal()) || Principal.anonymous();\n            const request = {\n                request_type: \"query\" /* ReadRequestType.Query */,\n                canister_id: canister,\n                method_name: fields.methodName,\n                arg: fields.arg,\n                sender,\n                ingress_expiry: new Expiry(DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS),\n            };\n            const requestId = await requestIdOf(request);\n            // TODO: remove this any. This can be a Signed or UnSigned request.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            let transformedRequest = await this._transform({\n                request: {\n                    method: 'POST',\n                    headers: Object.assign({ 'Content-Type': 'application/cbor' }, (this._credentials ? { Authorization: 'Basic ' + btoa(this._credentials) } : {})),\n                },\n                endpoint: \"read\" /* Endpoint.Query */,\n                body: request,\n            });\n            // Apply transform for identity.\n            transformedRequest = await (id === null || id === void 0 ? void 0 : id.transformRequest(transformedRequest));\n            const body = cbor.encode(transformedRequest.body);\n            const response = await this._requestAndRetry(() => this._fetch('' + new URL(`/api/v2/canister/${canister.toText()}/query`, this._host), Object.assign(Object.assign(Object.assign({}, this._fetchOptions), transformedRequest.request), { body })));\n            const queryResponse = cbor.decode(await response.arrayBuffer());\n            return Object.assign(Object.assign({}, queryResponse), { httpDetails: {\n                    ok: response.ok,\n                    status: response.status,\n                    statusText: response.statusText,\n                    headers: httpHeadersTransform(response.headers),\n                }, requestId });\n        };\n        const getSubnetStatus = async () => {\n            if (!__classPrivateFieldGet(this, _HttpAgent_verifyQuerySignatures, \"f\")) {\n                return undefined;\n            }\n            const subnetStatus = __classPrivateFieldGet(this, _HttpAgent_subnetKeys, \"f\").get(canisterId.toString());\n            if (subnetStatus) {\n                return subnetStatus;\n            }\n            await this.fetchSubnetKeys(canisterId.toString());\n            return __classPrivateFieldGet(this, _HttpAgent_subnetKeys, \"f\").get(canisterId.toString());\n        };\n        // Make query and fetch subnet keys in parallel\n        const [query, subnetStatus] = await Promise.all([makeQuery(), getSubnetStatus()]);\n        // Skip verification if the user has disabled it\n        if (!__classPrivateFieldGet(this, _HttpAgent_verifyQuerySignatures, \"f\")) {\n            return query;\n        }\n        try {\n            return __classPrivateFieldGet(this, _HttpAgent_verifyQueryResponse, \"f\").call(this, query, subnetStatus);\n        }\n        catch (_) {\n            // In case the node signatures have changed, refresh the subnet keys and try again\n            console.warn('Query response verification failed. Retrying with fresh subnet keys.');\n            __classPrivateFieldGet(this, _HttpAgent_subnetKeys, \"f\").delete(canisterId.toString());\n            await this.fetchSubnetKeys(canisterId.toString());\n            const updatedSubnetStatus = __classPrivateFieldGet(this, _HttpAgent_subnetKeys, \"f\").get(canisterId.toString());\n            if (!updatedSubnetStatus) {\n                throw new CertificateVerificationError('Invalid signature from replica signed query: no matching node key found.');\n            }\n            return __classPrivateFieldGet(this, _HttpAgent_verifyQueryResponse, \"f\").call(this, query, updatedSubnetStatus);\n        }\n    }\n    async createReadStateRequest(fields, identity) {\n        const id = await (identity !== undefined ? await identity : await this._identity);\n        if (!id) {\n            throw new IdentityInvalidError(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n        }\n        const sender = (id === null || id === void 0 ? void 0 : id.getPrincipal()) || Principal.anonymous();\n        // TODO: remove this any. This can be a Signed or UnSigned request.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const transformedRequest = await this._transform({\n            request: {\n                method: 'POST',\n                headers: Object.assign({ 'Content-Type': 'application/cbor' }, (this._credentials ? { Authorization: 'Basic ' + btoa(this._credentials) } : {})),\n            },\n            endpoint: \"read_state\" /* Endpoint.ReadState */,\n            body: {\n                request_type: \"read_state\" /* ReadRequestType.ReadState */,\n                paths: fields.paths,\n                sender,\n                ingress_expiry: new Expiry(DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS),\n            },\n        });\n        // Apply transform for identity.\n        return id === null || id === void 0 ? void 0 : id.transformRequest(transformedRequest);\n    }\n    async readState(canisterId, fields, identity, \n    // eslint-disable-next-line\n    request) {\n        const canister = typeof canisterId === 'string' ? Principal.fromText(canisterId) : canisterId;\n        const transformedRequest = request !== null && request !== void 0 ? request : (await this.createReadStateRequest(fields, identity));\n        const body = cbor.encode(transformedRequest.body);\n        // TODO - https://dfinity.atlassian.net/browse/SDK-1092\n        const response = await this._requestAndRetry(() => this._fetch('' + new URL(`/api/v2/canister/${canister}/read_state`, this._host), Object.assign(Object.assign(Object.assign({}, this._fetchOptions), transformedRequest.request), { body })));\n        if (!response.ok) {\n            throw new Error(`Server returned an error:\\n` +\n                `  Code: ${response.status} (${response.statusText})\\n` +\n                `  Body: ${await response.text()}\\n`);\n        }\n        return cbor.decode(await response.arrayBuffer());\n    }\n    /**\n     * Allows agent to sync its time with the network. Can be called during intialization or mid-lifecycle if the device's clock has drifted away from the network time. This is necessary to set the Expiry for a request\n     * @param {Principal} canisterId - Pass a canister ID if you need to sync the time with a particular replica. Uses the management canister by default\n     */\n    async syncTime(canisterId) {\n        const CanisterStatus = await import('../../canisterStatus');\n        const callTime = Date.now();\n        try {\n            if (!canisterId) {\n                console.log('Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai');\n            }\n            const status = await CanisterStatus.request({\n                // Fall back with canisterId of the ICP Ledger\n                canisterId: canisterId !== null && canisterId !== void 0 ? canisterId : Principal.from('ryjl3-tyaaa-aaaaa-aaaba-cai'),\n                agent: this,\n                paths: ['time'],\n            });\n            const replicaTime = status.get('time');\n            if (replicaTime) {\n                this._timeDiffMsecs = Number(replicaTime) - Number(callTime);\n            }\n        }\n        catch (error) {\n            console.error('Caught exception while attempting to sync time:', error);\n        }\n    }\n    async status() {\n        const headers = this._credentials\n            ? {\n                Authorization: 'Basic ' + btoa(this._credentials),\n            }\n            : {};\n        const response = await this._requestAndRetry(() => this._fetch('' + new URL(`/api/v2/status`, this._host), Object.assign({ headers }, this._fetchOptions)));\n        return cbor.decode(await response.arrayBuffer());\n    }\n    async fetchRootKey() {\n        if (!this._rootKeyFetched) {\n            // Hex-encoded version of the replica root key\n            this.rootKey = (await this.status()).root_key;\n            this._rootKeyFetched = true;\n        }\n        return this.rootKey;\n    }\n    invalidateIdentity() {\n        this._identity = null;\n    }\n    replaceIdentity(identity) {\n        this._identity = Promise.resolve(identity);\n    }\n    async fetchSubnetKeys(canisterId) {\n        const effectiveCanisterId = Principal.from(canisterId);\n        const response = await request({\n            canisterId: effectiveCanisterId,\n            paths: ['subnet'],\n            agent: this,\n        });\n        const subnetResponse = response.get('subnet');\n        if (subnetResponse && typeof subnetResponse === 'object' && 'nodeKeys' in subnetResponse) {\n            __classPrivateFieldGet(this, _HttpAgent_subnetKeys, \"f\").set(effectiveCanisterId.toText(), subnetResponse);\n            return subnetResponse;\n        }\n        // If the subnet status is not returned, return undefined\n        return undefined;\n    }\n    _transform(request) {\n        let p = Promise.resolve(request);\n        if (request.endpoint === \"call\" /* Endpoint.Call */) {\n            for (const fn of __classPrivateFieldGet(this, _HttpAgent_updatePipeline, \"f\")) {\n                p = p.then(r => fn(r).then(r2 => r2 || r));\n            }\n        }\n        else {\n            for (const fn of __classPrivateFieldGet(this, _HttpAgent_queryPipeline, \"f\")) {\n                p = p.then(r => fn(r).then(r2 => r2 || r));\n            }\n        }\n        return p;\n    }\n}\n_HttpAgent_queryPipeline = new WeakMap(), _HttpAgent_updatePipeline = new WeakMap(), _HttpAgent_subnetKeys = new WeakMap(), _HttpAgent_verifyQuerySignatures = new WeakMap(), _HttpAgent_verifyQueryResponse = new WeakMap();\n//# sourceMappingURL=index.js.map","import { Principal } from '@dfinity/principal';\nexport var ProxyMessageKind;\n(function (ProxyMessageKind) {\n    ProxyMessageKind[\"Error\"] = \"err\";\n    ProxyMessageKind[\"GetPrincipal\"] = \"gp\";\n    ProxyMessageKind[\"GetPrincipalResponse\"] = \"gpr\";\n    ProxyMessageKind[\"Query\"] = \"q\";\n    ProxyMessageKind[\"QueryResponse\"] = \"qr\";\n    ProxyMessageKind[\"Call\"] = \"c\";\n    ProxyMessageKind[\"CallResponse\"] = \"cr\";\n    ProxyMessageKind[\"ReadState\"] = \"rs\";\n    ProxyMessageKind[\"ReadStateResponse\"] = \"rsr\";\n    ProxyMessageKind[\"Status\"] = \"s\";\n    ProxyMessageKind[\"StatusResponse\"] = \"sr\";\n})(ProxyMessageKind || (ProxyMessageKind = {}));\n// A Stub Agent that forwards calls to another Agent implementation.\nexport class ProxyStubAgent {\n    constructor(_frontend, _agent) {\n        this._frontend = _frontend;\n        this._agent = _agent;\n    }\n    onmessage(msg) {\n        switch (msg.type) {\n            case ProxyMessageKind.GetPrincipal:\n                this._agent.getPrincipal().then(response => {\n                    this._frontend({\n                        id: msg.id,\n                        type: ProxyMessageKind.GetPrincipalResponse,\n                        response: response.toText(),\n                    });\n                });\n                break;\n            case ProxyMessageKind.Query:\n                this._agent.query(...msg.args).then(response => {\n                    this._frontend({\n                        id: msg.id,\n                        type: ProxyMessageKind.QueryResponse,\n                        response,\n                    });\n                });\n                break;\n            case ProxyMessageKind.Call:\n                this._agent.call(...msg.args).then(response => {\n                    this._frontend({\n                        id: msg.id,\n                        type: ProxyMessageKind.CallResponse,\n                        response,\n                    });\n                });\n                break;\n            case ProxyMessageKind.ReadState:\n                this._agent.readState(...msg.args).then(response => {\n                    this._frontend({\n                        id: msg.id,\n                        type: ProxyMessageKind.ReadStateResponse,\n                        response,\n                    });\n                });\n                break;\n            case ProxyMessageKind.Status:\n                this._agent.status().then(response => {\n                    this._frontend({\n                        id: msg.id,\n                        type: ProxyMessageKind.StatusResponse,\n                        response,\n                    });\n                });\n                break;\n            default:\n                throw new Error(`Invalid message received: ${JSON.stringify(msg)}`);\n        }\n    }\n}\n// An Agent that forwards calls to a backend. The calls are serialized\nexport class ProxyAgent {\n    constructor(_backend) {\n        this._backend = _backend;\n        this._nextId = 0;\n        this._pendingCalls = new Map();\n        this.rootKey = null;\n    }\n    onmessage(msg) {\n        const id = msg.id;\n        const maybePromise = this._pendingCalls.get(id);\n        if (!maybePromise) {\n            throw new Error('A proxy get the same message twice...');\n        }\n        this._pendingCalls.delete(id);\n        const [resolve, reject] = maybePromise;\n        switch (msg.type) {\n            case ProxyMessageKind.Error:\n                return reject(msg.error);\n            case ProxyMessageKind.GetPrincipalResponse:\n            case ProxyMessageKind.CallResponse:\n            case ProxyMessageKind.QueryResponse:\n            case ProxyMessageKind.ReadStateResponse:\n            case ProxyMessageKind.StatusResponse:\n                return resolve(msg.response);\n            default:\n                throw new Error(`Invalid message being sent to ProxyAgent: ${JSON.stringify(msg)}`);\n        }\n    }\n    async getPrincipal() {\n        return this._sendAndWait({\n            id: this._nextId++,\n            type: ProxyMessageKind.GetPrincipal,\n        }).then(principal => {\n            if (typeof principal !== 'string') {\n                throw new Error('Invalid principal received.');\n            }\n            return Principal.fromText(principal);\n        });\n    }\n    readState(canisterId, fields) {\n        return this._sendAndWait({\n            id: this._nextId++,\n            type: ProxyMessageKind.ReadState,\n            args: [canisterId.toString(), fields],\n        });\n    }\n    call(canisterId, fields) {\n        return this._sendAndWait({\n            id: this._nextId++,\n            type: ProxyMessageKind.Call,\n            args: [canisterId.toString(), fields],\n        });\n    }\n    status() {\n        return this._sendAndWait({\n            id: this._nextId++,\n            type: ProxyMessageKind.Status,\n        });\n    }\n    query(canisterId, fields) {\n        return this._sendAndWait({\n            id: this._nextId++,\n            type: ProxyMessageKind.Query,\n            args: [canisterId.toString(), fields],\n        });\n    }\n    async _sendAndWait(msg) {\n        return new Promise((resolve, reject) => {\n            this._pendingCalls.set(msg.id, [resolve, reject]);\n            this._backend(msg);\n        });\n    }\n    async fetchRootKey() {\n        // Hex-encoded version of the replica root key\n        const rootKey = (await this.status()).root_key;\n        this.rootKey = rootKey;\n        return rootKey;\n    }\n}\n//# sourceMappingURL=proxy.js.map","export * from './api';\nexport * from './http';\nexport * from './proxy';\nexport function getDefaultAgent() {\n    const agent = typeof window === 'undefined'\n        ? typeof global === 'undefined'\n            ? typeof self === 'undefined'\n                ? undefined\n                : self.ic.agent\n            : global.ic.agent\n        : window.ic.agent;\n    if (!agent) {\n        throw new Error('No Agent could be found.');\n    }\n    return agent;\n}\n//# sourceMappingURL=index.js.map","import { toHex } from '../utils/buffer';\nconst FIVE_MINUTES_IN_MSEC = 5 * 60 * 1000;\n/**\n * A best practices polling strategy: wait 2 seconds before the first poll, then 1 second\n * with an exponential backoff factor of 1.2. Timeout after 5 minutes.\n */\nexport function defaultStrategy() {\n    return chain(conditionalDelay(once(), 1000), backoff(1000, 1.2), timeout(FIVE_MINUTES_IN_MSEC));\n}\n/**\n * Predicate that returns true once.\n */\nexport function once() {\n    let first = true;\n    return async () => {\n        if (first) {\n            first = false;\n            return true;\n        }\n        return false;\n    };\n}\n/**\n * Delay the polling once.\n * @param condition A predicate that indicates when to delay.\n * @param timeInMsec The amount of time to delay.\n */\nexport function conditionalDelay(condition, timeInMsec) {\n    return async (canisterId, requestId, status) => {\n        if (await condition(canisterId, requestId, status)) {\n            return new Promise(resolve => setTimeout(resolve, timeInMsec));\n        }\n    };\n}\n/**\n * Error out after a maximum number of polling has been done.\n * @param count The maximum attempts to poll.\n */\nexport function maxAttempts(count) {\n    let attempts = count;\n    return async (canisterId, requestId, status) => {\n        if (--attempts <= 0) {\n            throw new Error(`Failed to retrieve a reply for request after ${count} attempts:\\n` +\n                `  Request ID: ${toHex(requestId)}\\n` +\n                `  Request status: ${status}\\n`);\n        }\n    };\n}\n/**\n * Throttle polling.\n * @param throttleInMsec Amount in millisecond to wait between each polling.\n */\nexport function throttle(throttleInMsec) {\n    return () => new Promise(resolve => setTimeout(resolve, throttleInMsec));\n}\n/**\n * Reject a call after a certain amount of time.\n * @param timeInMsec Time in milliseconds before the polling should be rejected.\n */\nexport function timeout(timeInMsec) {\n    const end = Date.now() + timeInMsec;\n    return async (canisterId, requestId, status) => {\n        if (Date.now() > end) {\n            throw new Error(`Request timed out after ${timeInMsec} msec:\\n` +\n                `  Request ID: ${toHex(requestId)}\\n` +\n                `  Request status: ${status}\\n`);\n        }\n    };\n}\n/**\n * A strategy that throttle, but using an exponential backoff strategy.\n * @param startingThrottleInMsec The throttle in milliseconds to start with.\n * @param backoffFactor The factor to multiple the throttle time between every poll. For\n *   example if using 2, the throttle will double between every run.\n */\nexport function backoff(startingThrottleInMsec, backoffFactor) {\n    let currentThrottling = startingThrottleInMsec;\n    return () => new Promise(resolve => setTimeout(() => {\n        currentThrottling *= backoffFactor;\n        resolve();\n    }, currentThrottling));\n}\n/**\n * Chain multiple polling strategy. This _chains_ the strategies, so if you pass in,\n * say, two throttling strategy of 1 second, it will result in a throttle of 2 seconds.\n * @param strategies A strategy list to chain.\n */\nexport function chain(...strategies) {\n    return async (canisterId, requestId, status) => {\n        for (const a of strategies) {\n            await a(canisterId, requestId, status);\n        }\n    };\n}\n//# sourceMappingURL=strategy.js.map","import { RequestStatusResponseStatus } from '../agent';\nimport { Certificate } from '../certificate';\nimport { toHex } from '../utils/buffer';\nexport * as strategy from './strategy';\nexport { defaultStrategy } from './strategy';\n/**\n * Polls the IC to check the status of the given request then\n * returns the response bytes once the request has been processed.\n * @param agent The agent to use to poll read_state.\n * @param canisterId The effective canister ID.\n * @param requestId The Request ID to poll status for.\n * @param strategy A polling strategy.\n * @param request Request for the readState call.\n */\nexport async function pollForResponse(agent, canisterId, requestId, strategy, \n// eslint-disable-next-line\nrequest, blsVerify) {\n    var _a;\n    const path = [new TextEncoder().encode('request_status'), requestId];\n    const currentRequest = request !== null && request !== void 0 ? request : (await ((_a = agent.createReadStateRequest) === null || _a === void 0 ? void 0 : _a.call(agent, { paths: [path] })));\n    const state = await agent.readState(canisterId, { paths: [path] }, undefined, currentRequest);\n    if (agent.rootKey == null)\n        throw new Error('Agent root key not initialized before polling');\n    const cert = await Certificate.create({\n        certificate: state.certificate,\n        rootKey: agent.rootKey,\n        canisterId: canisterId,\n        blsVerify,\n    });\n    const maybeBuf = cert.lookup([...path, new TextEncoder().encode('status')]);\n    let status;\n    if (typeof maybeBuf === 'undefined') {\n        // Missing requestId means we need to wait\n        status = RequestStatusResponseStatus.Unknown;\n    }\n    else {\n        status = new TextDecoder().decode(maybeBuf);\n    }\n    switch (status) {\n        case RequestStatusResponseStatus.Replied: {\n            return cert.lookup([...path, 'reply']);\n        }\n        case RequestStatusResponseStatus.Received:\n        case RequestStatusResponseStatus.Unknown:\n        case RequestStatusResponseStatus.Processing:\n            // Execute the polling strategy, then retry.\n            await strategy(canisterId, requestId, status);\n            return pollForResponse(agent, canisterId, requestId, strategy, currentRequest);\n        case RequestStatusResponseStatus.Rejected: {\n            const rejectCode = new Uint8Array(cert.lookup([...path, 'reject_code']))[0];\n            const rejectMessage = new TextDecoder().decode(cert.lookup([...path, 'reject_message']));\n            throw new Error(`Call was rejected:\\n` +\n                `  Request ID: ${toHex(requestId)}\\n` +\n                `  Reject code: ${rejectCode}\\n` +\n                `  Reject text: ${rejectMessage}\\n`);\n        }\n        case RequestStatusResponseStatus.Done:\n            // This is _technically_ not an error, but we still didn't see the `Replied` status so\n            // we don't know the result and cannot decode it.\n            throw new Error(`Call was marked as done but we never saw the reply:\\n` +\n                `  Request ID: ${toHex(requestId)}\\n`);\n    }\n    throw new Error('unreachable');\n}\n//# sourceMappingURL=index.js.map","/**\n * This file is generated from the candid for asset management.\n */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nexport default ({ IDL }) => {\n    const canister_id = IDL.Principal;\n    const definite_canister_settings = IDL.Record({\n        controllers: IDL.Vec(IDL.Principal),\n        freezing_threshold: IDL.Nat,\n        memory_allocation: IDL.Nat,\n        compute_allocation: IDL.Nat,\n    });\n    const canister_settings = IDL.Record({\n        controllers: IDL.Opt(IDL.Vec(IDL.Principal)),\n        freezing_threshold: IDL.Opt(IDL.Nat),\n        memory_allocation: IDL.Opt(IDL.Nat),\n        compute_allocation: IDL.Opt(IDL.Nat),\n    });\n    const wasm_module = IDL.Vec(IDL.Nat8);\n    return IDL.Service({\n        canister_status: IDL.Func([IDL.Record({ canister_id: canister_id })], [\n            IDL.Record({\n                status: IDL.Variant({\n                    stopped: IDL.Null,\n                    stopping: IDL.Null,\n                    running: IDL.Null,\n                }),\n                memory_size: IDL.Nat,\n                cycles: IDL.Nat,\n                settings: definite_canister_settings,\n                module_hash: IDL.Opt(IDL.Vec(IDL.Nat8)),\n            }),\n        ], []),\n        create_canister: IDL.Func([IDL.Record({ settings: IDL.Opt(canister_settings) })], [IDL.Record({ canister_id: canister_id })], []),\n        delete_canister: IDL.Func([IDL.Record({ canister_id: canister_id })], [], []),\n        deposit_cycles: IDL.Func([IDL.Record({ canister_id: canister_id })], [], []),\n        install_code: IDL.Func([\n            IDL.Record({\n                arg: IDL.Vec(IDL.Nat8),\n                wasm_module: wasm_module,\n                mode: IDL.Variant({\n                    reinstall: IDL.Null,\n                    upgrade: IDL.Null,\n                    install: IDL.Null,\n                }),\n                canister_id: canister_id,\n            }),\n        ], [], []),\n        provisional_create_canister_with_cycles: IDL.Func([\n            IDL.Record({\n                settings: IDL.Opt(canister_settings),\n                amount: IDL.Opt(IDL.Nat),\n            }),\n        ], [IDL.Record({ canister_id: canister_id })], []),\n        provisional_top_up_canister: IDL.Func([IDL.Record({ canister_id: canister_id, amount: IDL.Nat })], [], []),\n        raw_rand: IDL.Func([], [IDL.Vec(IDL.Nat8)], []),\n        start_canister: IDL.Func([IDL.Record({ canister_id: canister_id })], [], []),\n        stop_canister: IDL.Func([IDL.Record({ canister_id: canister_id })], [], []),\n        uninstall_code: IDL.Func([IDL.Record({ canister_id: canister_id })], [], []),\n        update_settings: IDL.Func([\n            IDL.Record({\n                canister_id: IDL.Principal,\n                settings: canister_settings,\n            }),\n        ], [], []),\n    });\n};\n//# sourceMappingURL=management_idl.js.map","import { Buffer } from 'buffer/';\nimport { getDefaultAgent, ReplicaRejectCode, } from './agent';\nimport { AgentError } from './errors';\nimport { IDL } from '@dfinity/candid';\nimport { pollForResponse, strategy } from './polling';\nimport { Principal } from '@dfinity/principal';\nimport { toHex } from './utils/buffer';\nimport managementCanisterIdl from './canisters/management_idl';\nexport class ActorCallError extends AgentError {\n    constructor(canisterId, methodName, type, props) {\n        super([\n            `Call failed:`,\n            `  Canister: ${canisterId.toText()}`,\n            `  Method: ${methodName} (${type})`,\n            ...Object.getOwnPropertyNames(props).map(n => `  \"${n}\": ${JSON.stringify(props[n])}`),\n        ].join('\\n'));\n        this.canisterId = canisterId;\n        this.methodName = methodName;\n        this.type = type;\n        this.props = props;\n    }\n}\nexport class QueryCallRejectedError extends ActorCallError {\n    constructor(canisterId, methodName, result) {\n        var _a;\n        super(canisterId, methodName, 'query', {\n            Status: result.status,\n            Code: (_a = ReplicaRejectCode[result.reject_code]) !== null && _a !== void 0 ? _a : `Unknown Code \"${result.reject_code}\"`,\n            Message: result.reject_message,\n        });\n        this.result = result;\n    }\n}\nexport class UpdateCallRejectedError extends ActorCallError {\n    constructor(canisterId, methodName, requestId, response) {\n        super(canisterId, methodName, 'update', Object.assign({ 'Request ID': toHex(requestId) }, (response.body\n            ? Object.assign(Object.assign({}, (response.body.error_code\n                ? {\n                    'Error code': response.body.error_code,\n                }\n                : {})), { 'Reject code': String(response.body.reject_code), 'Reject message': response.body.reject_message }) : {\n            'HTTP status code': response.status.toString(),\n            'HTTP status text': response.statusText,\n        })));\n        this.requestId = requestId;\n        this.response = response;\n    }\n}\n/**\n * The mode used when installing a canister.\n */\nexport var CanisterInstallMode;\n(function (CanisterInstallMode) {\n    CanisterInstallMode[\"Install\"] = \"install\";\n    CanisterInstallMode[\"Reinstall\"] = \"reinstall\";\n    CanisterInstallMode[\"Upgrade\"] = \"upgrade\";\n})(CanisterInstallMode || (CanisterInstallMode = {}));\nconst metadataSymbol = Symbol.for('ic-agent-metadata');\n/**\n * An actor base class. An actor is an object containing only functions that will\n * return a promise. These functions are derived from the IDL definition.\n */\nexport class Actor {\n    constructor(metadata) {\n        this[metadataSymbol] = Object.freeze(metadata);\n    }\n    /**\n     * Get the Agent class this Actor would call, or undefined if the Actor would use\n     * the default agent (global.ic.agent).\n     * @param actor The actor to get the agent of.\n     */\n    static agentOf(actor) {\n        return actor[metadataSymbol].config.agent;\n    }\n    /**\n     * Get the interface of an actor, in the form of an instance of a Service.\n     * @param actor The actor to get the interface of.\n     */\n    static interfaceOf(actor) {\n        return actor[metadataSymbol].service;\n    }\n    static canisterIdOf(actor) {\n        return Principal.from(actor[metadataSymbol].config.canisterId);\n    }\n    static async install(fields, config) {\n        const mode = fields.mode === undefined ? CanisterInstallMode.Install : fields.mode;\n        // Need to transform the arg into a number array.\n        const arg = fields.arg ? [...new Uint8Array(fields.arg)] : [];\n        // Same for module.\n        const wasmModule = [...new Uint8Array(fields.module)];\n        const canisterId = typeof config.canisterId === 'string'\n            ? Principal.fromText(config.canisterId)\n            : config.canisterId;\n        await getManagementCanister(config).install_code({\n            mode: { [mode]: null },\n            arg,\n            wasm_module: wasmModule,\n            canister_id: canisterId,\n        });\n    }\n    static async createCanister(config) {\n        const { canister_id: canisterId } = await getManagementCanister(config || {}).provisional_create_canister_with_cycles({ amount: [], settings: [] });\n        return canisterId;\n    }\n    static async createAndInstallCanister(interfaceFactory, fields, config) {\n        const canisterId = await this.createCanister(config);\n        await this.install(Object.assign({}, fields), Object.assign(Object.assign({}, config), { canisterId }));\n        return this.createActor(interfaceFactory, Object.assign(Object.assign({}, config), { canisterId }));\n    }\n    static createActorClass(interfaceFactory, options) {\n        const service = interfaceFactory({ IDL });\n        class CanisterActor extends Actor {\n            constructor(config) {\n                if (!config.canisterId)\n                    throw new AgentError(`Canister ID is required, but received ${typeof config.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);\n                const canisterId = typeof config.canisterId === 'string'\n                    ? Principal.fromText(config.canisterId)\n                    : config.canisterId;\n                super({\n                    config: Object.assign(Object.assign(Object.assign({}, DEFAULT_ACTOR_CONFIG), config), { canisterId }),\n                    service,\n                });\n                for (const [methodName, func] of service._fields) {\n                    if (options === null || options === void 0 ? void 0 : options.httpDetails) {\n                        func.annotations.push(ACTOR_METHOD_WITH_HTTP_DETAILS);\n                    }\n                    this[methodName] = _createActorMethod(this, methodName, func, config.blsVerify);\n                }\n            }\n        }\n        return CanisterActor;\n    }\n    static createActor(interfaceFactory, configuration) {\n        if (!configuration.canisterId) {\n            throw new AgentError(`Canister ID is required, but received ${typeof configuration.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);\n        }\n        return new (this.createActorClass(interfaceFactory))(configuration);\n    }\n    static createActorWithHttpDetails(interfaceFactory, configuration) {\n        return new (this.createActorClass(interfaceFactory, { httpDetails: true }))(configuration);\n    }\n}\n// IDL functions can have multiple return values, so decoding always\n// produces an array. Ensure that functions with single or zero return\n// values behave as expected.\nfunction decodeReturnValue(types, msg) {\n    const returnValues = IDL.decode(types, Buffer.from(msg));\n    switch (returnValues.length) {\n        case 0:\n            return undefined;\n        case 1:\n            return returnValues[0];\n        default:\n            return returnValues;\n    }\n}\nconst DEFAULT_ACTOR_CONFIG = {\n    pollingStrategyFactory: strategy.defaultStrategy,\n};\nexport const ACTOR_METHOD_WITH_HTTP_DETAILS = 'http-details';\nfunction _createActorMethod(actor, methodName, func, blsVerify) {\n    let caller;\n    if (func.annotations.includes('query') || func.annotations.includes('composite_query')) {\n        caller = async (options, ...args) => {\n            var _a, _b;\n            // First, if there's a config transformation, call it.\n            options = Object.assign(Object.assign({}, options), (_b = (_a = actor[metadataSymbol].config).queryTransform) === null || _b === void 0 ? void 0 : _b.call(_a, methodName, args, Object.assign(Object.assign({}, actor[metadataSymbol].config), options)));\n            const agent = options.agent || actor[metadataSymbol].config.agent || getDefaultAgent();\n            const cid = Principal.from(options.canisterId || actor[metadataSymbol].config.canisterId);\n            const arg = IDL.encode(func.argTypes, args);\n            const result = await agent.query(cid, { methodName, arg });\n            switch (result.status) {\n                case \"rejected\" /* QueryResponseStatus.Rejected */:\n                    throw new QueryCallRejectedError(cid, methodName, result);\n                case \"replied\" /* QueryResponseStatus.Replied */:\n                    return func.annotations.includes(ACTOR_METHOD_WITH_HTTP_DETAILS)\n                        ? {\n                            httpDetails: result.httpDetails,\n                            result: decodeReturnValue(func.retTypes, result.reply.arg),\n                        }\n                        : decodeReturnValue(func.retTypes, result.reply.arg);\n            }\n        };\n    }\n    else {\n        caller = async (options, ...args) => {\n            var _a, _b;\n            // First, if there's a config transformation, call it.\n            options = Object.assign(Object.assign({}, options), (_b = (_a = actor[metadataSymbol].config).callTransform) === null || _b === void 0 ? void 0 : _b.call(_a, methodName, args, Object.assign(Object.assign({}, actor[metadataSymbol].config), options)));\n            const agent = options.agent || actor[metadataSymbol].config.agent || getDefaultAgent();\n            const { canisterId, effectiveCanisterId, pollingStrategyFactory } = Object.assign(Object.assign(Object.assign({}, DEFAULT_ACTOR_CONFIG), actor[metadataSymbol].config), options);\n            const cid = Principal.from(canisterId);\n            const ecid = effectiveCanisterId !== undefined ? Principal.from(effectiveCanisterId) : cid;\n            const arg = IDL.encode(func.argTypes, args);\n            const { requestId, response } = await agent.call(cid, {\n                methodName,\n                arg,\n                effectiveCanisterId: ecid,\n            });\n            if (!response.ok || response.body /* IC-1462 */) {\n                throw new UpdateCallRejectedError(cid, methodName, requestId, response);\n            }\n            const pollStrategy = pollingStrategyFactory();\n            const responseBytes = await pollForResponse(agent, ecid, requestId, pollStrategy, blsVerify);\n            const shouldIncludeHttpDetails = func.annotations.includes(ACTOR_METHOD_WITH_HTTP_DETAILS);\n            if (responseBytes !== undefined) {\n                return shouldIncludeHttpDetails\n                    ? {\n                        httpDetails: response,\n                        result: decodeReturnValue(func.retTypes, responseBytes),\n                    }\n                    : decodeReturnValue(func.retTypes, responseBytes);\n            }\n            else if (func.retTypes.length === 0) {\n                return shouldIncludeHttpDetails\n                    ? {\n                        httpDetails: response,\n                        result: undefined,\n                    }\n                    : undefined;\n            }\n            else {\n                throw new Error(`Call was returned undefined, but type [${func.retTypes.join(',')}].`);\n            }\n        };\n    }\n    const handler = (...args) => caller({}, ...args);\n    handler.withOptions =\n        (options) => (...args) => caller(options, ...args);\n    return handler;\n}\n/**\n * Create a management canister actor\n * @param config\n */\nexport function getManagementCanister(config) {\n    function transform(_methodName, args, _callConfig) {\n        const first = args[0];\n        let effectiveCanisterId = Principal.fromHex('');\n        if (first && typeof first === 'object' && first.canister_id) {\n            effectiveCanisterId = Principal.from(first.canister_id);\n        }\n        return { effectiveCanisterId };\n    }\n    return Actor.createActor(managementCanisterIdl, Object.assign(Object.assign(Object.assign({}, config), { canisterId: Principal.fromHex('') }), {\n        callTransform: transform,\n        queryTransform: transform,\n    }));\n}\n//# sourceMappingURL=actor.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Ed25519PublicKey_rawKey, _Ed25519PublicKey_derKey, _Ed25519KeyIdentity_publicKey, _Ed25519KeyIdentity_privateKey;\nimport { SignIdentity, uint8ToBuf, ED25519_OID, unwrapDER, wrapDER, fromHex, toHex, } from '@dfinity/agent';\nimport { ed25519 } from '@noble/curves/ed25519';\nexport class Ed25519PublicKey {\n    // `fromRaw` and `fromDer` should be used for instantiation, not this constructor.\n    constructor(key) {\n        _Ed25519PublicKey_rawKey.set(this, void 0);\n        _Ed25519PublicKey_derKey.set(this, void 0);\n        if (key.byteLength !== Ed25519PublicKey.RAW_KEY_LENGTH) {\n            throw new Error('An Ed25519 public key must be exactly 32bytes long');\n        }\n        __classPrivateFieldSet(this, _Ed25519PublicKey_rawKey, key, \"f\");\n        __classPrivateFieldSet(this, _Ed25519PublicKey_derKey, Ed25519PublicKey.derEncode(key), \"f\");\n    }\n    static from(key) {\n        return this.fromDer(key.toDer());\n    }\n    static fromRaw(rawKey) {\n        return new Ed25519PublicKey(rawKey);\n    }\n    static fromDer(derKey) {\n        return new Ed25519PublicKey(this.derDecode(derKey));\n    }\n    static derEncode(publicKey) {\n        return wrapDER(publicKey, ED25519_OID).buffer;\n    }\n    static derDecode(key) {\n        const unwrapped = unwrapDER(key, ED25519_OID);\n        if (unwrapped.length !== this.RAW_KEY_LENGTH) {\n            throw new Error('An Ed25519 public key must be exactly 32bytes long');\n        }\n        return unwrapped;\n    }\n    get rawKey() {\n        return __classPrivateFieldGet(this, _Ed25519PublicKey_rawKey, \"f\");\n    }\n    get derKey() {\n        return __classPrivateFieldGet(this, _Ed25519PublicKey_derKey, \"f\");\n    }\n    toDer() {\n        return this.derKey;\n    }\n    toRaw() {\n        return this.rawKey;\n    }\n}\n_Ed25519PublicKey_rawKey = new WeakMap(), _Ed25519PublicKey_derKey = new WeakMap();\n// The length of Ed25519 public keys is always 32 bytes.\nEd25519PublicKey.RAW_KEY_LENGTH = 32;\nexport class Ed25519KeyIdentity extends SignIdentity {\n    // `fromRaw` and `fromDer` should be used for instantiation, not this constructor.\n    constructor(publicKey, privateKey) {\n        super();\n        _Ed25519KeyIdentity_publicKey.set(this, void 0);\n        _Ed25519KeyIdentity_privateKey.set(this, void 0);\n        __classPrivateFieldSet(this, _Ed25519KeyIdentity_publicKey, Ed25519PublicKey.from(publicKey), \"f\");\n        __classPrivateFieldSet(this, _Ed25519KeyIdentity_privateKey, new Uint8Array(privateKey), \"f\");\n    }\n    static generate(seed = new Uint8Array(32)) {\n        if (seed && seed.length !== 32) {\n            throw new Error('Ed25519 Seed needs to be 32 bytes long.');\n        }\n        if (!seed)\n            seed = ed25519.utils.randomPrivateKey();\n        const sk = new Uint8Array(32);\n        for (let i = 0; i < 32; i++)\n            sk[i] = new Uint8Array(seed)[i];\n        const pk = ed25519.getPublicKey(sk);\n        return Ed25519KeyIdentity.fromKeyPair(pk, sk);\n    }\n    static fromParsedJson(obj) {\n        const [publicKeyDer, privateKeyRaw] = obj;\n        return new Ed25519KeyIdentity(Ed25519PublicKey.fromDer(fromHex(publicKeyDer)), fromHex(privateKeyRaw));\n    }\n    static fromJSON(json) {\n        const parsed = JSON.parse(json);\n        if (Array.isArray(parsed)) {\n            if (typeof parsed[0] === 'string' && typeof parsed[1] === 'string') {\n                return this.fromParsedJson([parsed[0], parsed[1]]);\n            }\n            else {\n                throw new Error('Deserialization error: JSON must have at least 2 items.');\n            }\n        }\n        throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(json)}`);\n    }\n    static fromKeyPair(publicKey, privateKey) {\n        return new Ed25519KeyIdentity(Ed25519PublicKey.fromRaw(publicKey), privateKey);\n    }\n    static fromSecretKey(secretKey) {\n        const publicKey = ed25519.getPublicKey(new Uint8Array(secretKey));\n        return Ed25519KeyIdentity.fromKeyPair(publicKey, secretKey);\n    }\n    /**\n     * Serialize this key to JSON.\n     */\n    toJSON() {\n        return [toHex(__classPrivateFieldGet(this, _Ed25519KeyIdentity_publicKey, \"f\").toDer()), toHex(__classPrivateFieldGet(this, _Ed25519KeyIdentity_privateKey, \"f\"))];\n    }\n    /**\n     * Return a copy of the key pair.\n     */\n    getKeyPair() {\n        return {\n            secretKey: __classPrivateFieldGet(this, _Ed25519KeyIdentity_privateKey, \"f\"),\n            publicKey: __classPrivateFieldGet(this, _Ed25519KeyIdentity_publicKey, \"f\"),\n        };\n    }\n    /**\n     * Return the public key.\n     */\n    getPublicKey() {\n        return __classPrivateFieldGet(this, _Ed25519KeyIdentity_publicKey, \"f\");\n    }\n    /**\n     * Signs a blob of data, with this identity's private key.\n     * @param challenge - challenge to sign with this identity's secretKey, producing a signature\n     */\n    async sign(challenge) {\n        const blob = new Uint8Array(challenge);\n        // Some implementations of Ed25519 private keys append a public key to the end of the private key. We only want the private key.\n        const signature = uint8ToBuf(ed25519.sign(blob, __classPrivateFieldGet(this, _Ed25519KeyIdentity_privateKey, \"f\").slice(0, 32)));\n        // add { __signature__: void; } to the signature to make it compatible with the agent\n        Object.defineProperty(signature, '__signature__', {\n            enumerable: false,\n            value: undefined,\n        });\n        return signature;\n    }\n    /**\n     * Verify\n     * @param sig - signature to verify\n     * @param msg - message to verify\n     * @param pk - public key\n     * @returns - true if the signature is valid, false otherwise\n     */\n    static verify(sig, msg, pk) {\n        const [signature, message, publicKey] = [sig, msg, pk].map(x => {\n            if (typeof x === 'string') {\n                x = fromHex(x);\n            }\n            if (x instanceof Uint8Array) {\n                x = x.buffer;\n            }\n            return new Uint8Array(x);\n        });\n        return ed25519.verify(message, signature, publicKey);\n    }\n}\n_Ed25519KeyIdentity_publicKey = new WeakMap(), _Ed25519KeyIdentity_privateKey = new WeakMap();\n//# sourceMappingURL=ed25519.js.map","import { SignIdentity } from '@dfinity/agent';\nexport class CryptoError extends Error {\n    constructor(message) {\n        super(message);\n        this.message = message;\n        Object.setPrototypeOf(this, CryptoError.prototype);\n    }\n}\n/**\n * Utility method to ensure that a subtleCrypto implementation is provided or is available in the global context\n * @param subtleCrypto SubtleCrypto implementation\n * @returns subleCrypto\n */\nfunction _getEffectiveCrypto(subtleCrypto) {\n    if (typeof global !== 'undefined' && global['crypto'] && global['crypto']['subtle']) {\n        return global['crypto']['subtle'];\n    }\n    if (subtleCrypto) {\n        return subtleCrypto;\n    }\n    else if (typeof crypto !== 'undefined' && crypto['subtle']) {\n        return crypto.subtle;\n    }\n    else {\n        throw new CryptoError('Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto');\n    }\n}\n/**\n * An identity interface that wraps an ECDSA keypair using the P-256 named curve. Supports DER-encoding and decoding for agent calls\n */\nexport class ECDSAKeyIdentity extends SignIdentity {\n    // `fromKeyPair` and `generate` should be used for instantiation, not this constructor.\n    constructor(keyPair, derKey, subtleCrypto) {\n        super();\n        this._keyPair = keyPair;\n        this._derKey = derKey;\n        this._subtleCrypto = subtleCrypto;\n    }\n    /**\n     * Generates a randomly generated identity for use in calls to the Internet Computer.\n     * @param {CryptoKeyOptions} options optional settings\n     * @param {CryptoKeyOptions['extractable']} options.extractable - whether the key should allow itself to be used. Set to false for maximum security.\n     * @param {CryptoKeyOptions['keyUsages']} options.keyUsages - a list of key usages that the key can be used for\n     * @param {CryptoKeyOptions['subtleCrypto']} options.subtleCrypto interface\n     * @constructs ECDSAKeyIdentity\n     * @returns a {@link ECDSAKeyIdentity}\n     */\n    static async generate(options) {\n        const { extractable = false, keyUsages = ['sign', 'verify'], subtleCrypto } = options !== null && options !== void 0 ? options : {};\n        const effectiveCrypto = _getEffectiveCrypto(subtleCrypto);\n        const keyPair = await effectiveCrypto.generateKey({\n            name: 'ECDSA',\n            namedCurve: 'P-256',\n        }, extractable, keyUsages);\n        const derKey = (await effectiveCrypto.exportKey('spki', keyPair.publicKey));\n        return new this(keyPair, derKey, effectiveCrypto);\n    }\n    /**\n     * generates an identity from a public and private key. Please ensure that you are generating these keys securely and protect the user's private key\n     * @param keyPair a {@link CryptoKeyPair}\n     * @param subtleCrypto a {@link SubtleCrypto} interface in case one is not available globally\n     * @returns an {@link ECDSAKeyIdentity}\n     */\n    static async fromKeyPair(keyPair, subtleCrypto) {\n        const effectiveCrypto = _getEffectiveCrypto(subtleCrypto);\n        const derKey = (await effectiveCrypto.exportKey('spki', keyPair.publicKey));\n        return new ECDSAKeyIdentity(keyPair, derKey, effectiveCrypto);\n    }\n    /**\n     * Return the internally-used key pair.\n     * @returns a {@link CryptoKeyPair}\n     */\n    getKeyPair() {\n        return this._keyPair;\n    }\n    /**\n     * Return the public key.\n     * @returns an {@link DerCryptoKey}\n     */\n    getPublicKey() {\n        const derKey = this._derKey;\n        const key = Object.create(this._keyPair.publicKey);\n        key.toDer = function () {\n            return derKey;\n        };\n        return key;\n    }\n    /**\n     * Signs a blob of data, with this identity's private key.\n     * @param {ArrayBuffer} challenge - challenge to sign with this identity's secretKey, producing a signature\n     * @returns {Promise<Signature>} signature\n     */\n    async sign(challenge) {\n        const params = {\n            name: 'ECDSA',\n            hash: { name: 'SHA-256' },\n        };\n        this._keyPair.privateKey;\n        const signature = await this._subtleCrypto.sign(params, this._keyPair.privateKey, challenge);\n        return signature;\n    }\n}\nexport default ECDSAKeyIdentity;\n//# sourceMappingURL=ecdsa.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { fromHex, requestIdOf, SignIdentity, toHex, } from '@dfinity/agent';\nimport { Principal } from '@dfinity/principal';\nimport * as cbor from 'simple-cbor';\nconst domainSeparator = new TextEncoder().encode('\\x1Aic-request-auth-delegation');\nconst requestDomainSeparator = new TextEncoder().encode('\\x0Aic-request');\nfunction _parseBlob(value) {\n    if (typeof value !== 'string' || value.length < 64) {\n        throw new Error('Invalid public key.');\n    }\n    return fromHex(value);\n}\n/**\n * A single delegation object that is signed by a private key. This is constructed by\n * `DelegationChain.create()`.\n *\n * {@see DelegationChain}\n */\nexport class Delegation {\n    constructor(pubkey, expiration, targets) {\n        this.pubkey = pubkey;\n        this.expiration = expiration;\n        this.targets = targets;\n    }\n    toCBOR() {\n        // Expiration field needs to be encoded as a u64 specifically.\n        return cbor.value.map(Object.assign({ pubkey: cbor.value.bytes(this.pubkey), expiration: cbor.value.u64(this.expiration.toString(16), 16) }, (this.targets && {\n            targets: cbor.value.array(this.targets.map(t => cbor.value.bytes(t.toUint8Array()))),\n        })));\n    }\n    toJSON() {\n        // every string should be hex and once-de-hexed,\n        // discoverable what it is (e.g. de-hex to get JSON with a 'type' property, or de-hex to DER\n        // with an OID). After de-hex, if it's not obvious what it is, it's an ArrayBuffer.\n        return Object.assign({ expiration: this.expiration.toString(16), pubkey: toHex(this.pubkey) }, (this.targets && { targets: this.targets.map(p => p.toHex()) }));\n    }\n}\n/**\n * Sign a single delegation object for a period of time.\n * @param from The identity that lends its delegation.\n * @param to The identity that receives the delegation.\n * @param expiration An expiration date for this delegation.\n * @param targets Limit this delegation to the target principals.\n */\nasync function _createSingleDelegation(from, to, expiration, targets) {\n    const delegation = new Delegation(to.toDer(), BigInt(+expiration) * BigInt(1000000), // In nanoseconds.\n    targets);\n    // The signature is calculated by signing the concatenation of the domain separator\n    // and the message.\n    // Note: To ensure Safari treats this as a user gesture, ensure to not use async methods\n    // besides the actualy webauthn functionality (such as `sign`). Safari will de-register\n    // a user gesture if you await an async call thats not fetch, xhr, or setTimeout.\n    const challenge = new Uint8Array([\n        ...domainSeparator,\n        ...new Uint8Array(requestIdOf(delegation)),\n    ]);\n    const signature = await from.sign(challenge);\n    return {\n        delegation,\n        signature,\n    };\n}\n/**\n * A chain of delegations. This is JSON Serializable.\n * This is the object to serialize and pass to a DelegationIdentity. It does not keep any\n * private keys.\n */\nexport class DelegationChain {\n    constructor(delegations, publicKey) {\n        this.delegations = delegations;\n        this.publicKey = publicKey;\n    }\n    /**\n     * Create a delegation chain between two (or more) keys. By default, the expiration time\n     * will be very short (15 minutes).\n     *\n     * To build a chain of more than 2 identities, this function needs to be called multiple times,\n     * passing the previous delegation chain into the options argument. For example:\n     * @example\n     * const rootKey = createKey();\n     * const middleKey = createKey();\n     * const bottomeKey = createKey();\n     *\n     * const rootToMiddle = await DelegationChain.create(\n     *   root, middle.getPublicKey(), Date.parse('2100-01-01'),\n     * );\n     * const middleToBottom = await DelegationChain.create(\n     *   middle, bottom.getPublicKey(), Date.parse('2100-01-01'), { previous: rootToMiddle },\n     * );\n     *\n     * // We can now use a delegation identity that uses the delegation above:\n     * const identity = DelegationIdentity.fromDelegation(bottomKey, middleToBottom);\n     * @param from The identity that will delegate.\n     * @param to The identity that gets delegated. It can now sign messages as if it was the\n     *           identity above.\n     * @param expiration The length the delegation is valid. By default, 15 minutes from calling\n     *                   this function.\n     * @param options A set of options for this delegation. expiration and previous\n     * @param options.previous - Another DelegationChain that this chain should start with.\n     * @param options.targets - targets that scope the delegation (e.g. Canister Principals)\n     */\n    static async create(from, to, expiration = new Date(Date.now() + 15 * 60 * 1000), options = {}) {\n        var _a, _b;\n        const delegation = await _createSingleDelegation(from, to, expiration, options.targets);\n        return new DelegationChain([...(((_a = options.previous) === null || _a === void 0 ? void 0 : _a.delegations) || []), delegation], ((_b = options.previous) === null || _b === void 0 ? void 0 : _b.publicKey) || from.getPublicKey().toDer());\n    }\n    /**\n     * Creates a DelegationChain object from a JSON string.\n     * @param json The JSON string to parse.\n     */\n    static fromJSON(json) {\n        const { publicKey, delegations } = typeof json === 'string' ? JSON.parse(json) : json;\n        if (!Array.isArray(delegations)) {\n            throw new Error('Invalid delegations.');\n        }\n        const parsedDelegations = delegations.map(signedDelegation => {\n            const { delegation, signature } = signedDelegation;\n            const { pubkey, expiration, targets } = delegation;\n            if (targets !== undefined && !Array.isArray(targets)) {\n                throw new Error('Invalid targets.');\n            }\n            return {\n                delegation: new Delegation(_parseBlob(pubkey), BigInt('0x' + expiration), // expiration in JSON is an hexa string (See toJSON() below).\n                targets &&\n                    targets.map((t) => {\n                        if (typeof t !== 'string') {\n                            throw new Error('Invalid target.');\n                        }\n                        return Principal.fromHex(t);\n                    })),\n                signature: _parseBlob(signature),\n            };\n        });\n        return new this(parsedDelegations, _parseBlob(publicKey));\n    }\n    /**\n     * Creates a DelegationChain object from a list of delegations and a DER-encoded public key.\n     * @param delegations The list of delegations.\n     * @param publicKey The DER-encoded public key of the key-pair signing the first delegation.\n     */\n    static fromDelegations(delegations, publicKey) {\n        return new this(delegations, publicKey);\n    }\n    toJSON() {\n        return {\n            delegations: this.delegations.map(signedDelegation => {\n                const { delegation, signature } = signedDelegation;\n                const { targets } = delegation;\n                return {\n                    delegation: Object.assign({ expiration: delegation.expiration.toString(16), pubkey: toHex(delegation.pubkey) }, (targets && {\n                        targets: targets.map(t => t.toHex()),\n                    })),\n                    signature: toHex(signature),\n                };\n            }),\n            publicKey: toHex(this.publicKey),\n        };\n    }\n}\n/**\n * An Identity that adds delegation to a request. Everywhere in this class, the name\n * innerKey refers to the SignIdentity that is being used to sign the requests, while\n * originalKey is the identity that is being borrowed. More identities can be used\n * in the middle to delegate.\n */\nexport class DelegationIdentity extends SignIdentity {\n    constructor(_inner, _delegation) {\n        super();\n        this._inner = _inner;\n        this._delegation = _delegation;\n    }\n    /**\n     * Create a delegation without having access to delegateKey.\n     * @param key The key used to sign the reqyests.\n     * @param delegation A delegation object created using `createDelegation`.\n     */\n    static fromDelegation(key, delegation) {\n        return new this(key, delegation);\n    }\n    getDelegation() {\n        return this._delegation;\n    }\n    getPublicKey() {\n        return {\n            derKey: this._delegation.publicKey,\n            toDer: () => this._delegation.publicKey,\n        };\n    }\n    sign(blob) {\n        return this._inner.sign(blob);\n    }\n    async transformRequest(request) {\n        const { body } = request, fields = __rest(request, [\"body\"]);\n        const requestId = await requestIdOf(body);\n        return Object.assign(Object.assign({}, fields), { body: {\n                content: body,\n                sender_sig: await this.sign(new Uint8Array([...requestDomainSeparator, ...new Uint8Array(requestId)])),\n                sender_delegation: this._delegation.delegations,\n                sender_pubkey: this._delegation.publicKey,\n            } });\n    }\n}\n/**\n * Analyze a DelegationChain and validate that it's valid, ie. not expired and apply to the\n * scope.\n * @param chain The chain to validate.\n * @param checks Various checks to validate on the chain.\n */\nexport function isDelegationValid(chain, checks) {\n    // Verify that the no delegation is expired. If any are in the chain, returns false.\n    for (const { delegation } of chain.delegations) {\n        // prettier-ignore\n        if (+new Date(Number(delegation.expiration / BigInt(1000000))) <= +Date.now()) {\n            return false;\n        }\n    }\n    // Check the scopes.\n    const scopes = [];\n    const maybeScope = checks === null || checks === void 0 ? void 0 : checks.scope;\n    if (maybeScope) {\n        if (Array.isArray(maybeScope)) {\n            scopes.push(...maybeScope.map(s => (typeof s === 'string' ? Principal.fromText(s) : s)));\n        }\n        else {\n            scopes.push(typeof maybeScope === 'string' ? Principal.fromText(maybeScope) : maybeScope);\n        }\n    }\n    for (const s of scopes) {\n        const scope = s.toText();\n        for (const { delegation } of chain.delegations) {\n            if (delegation.targets === undefined) {\n                continue;\n            }\n            let none = true;\n            for (const target of delegation.targets) {\n                if (target.toText() === scope) {\n                    none = false;\n                    break;\n                }\n            }\n            if (none) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=delegation.js.map","import { SignIdentity, wrapDER, DER_COSE_OID, fromHex, toHex, } from '@dfinity/agent';\nimport borc from 'borc';\nimport { randomBytes } from '@noble/hashes/utils';\nfunction _coseToDerEncodedBlob(cose) {\n    return wrapDER(cose, DER_COSE_OID).buffer;\n}\n/**\n * From the documentation;\n * The authData is a byte array described in the spec. Parsing it will involve slicing bytes from\n * the array and converting them into usable objects.\n *\n * See https://webauthn.guide/#registration (subsection \"Example: Parsing the authenticator data\").\n * @param authData The authData field of the attestation response.\n * @returns The COSE key of the authData.\n */\nfunction _authDataToCose(authData) {\n    const dataView = new DataView(new ArrayBuffer(2));\n    const idLenBytes = authData.slice(53, 55);\n    [...new Uint8Array(idLenBytes)].forEach((v, i) => dataView.setUint8(i, v));\n    const credentialIdLength = dataView.getUint16(0);\n    // Get the public key object.\n    return authData.slice(55 + credentialIdLength);\n}\nexport class CosePublicKey {\n    constructor(_cose) {\n        this._cose = _cose;\n        this._encodedKey = _coseToDerEncodedBlob(_cose);\n    }\n    toDer() {\n        return this._encodedKey;\n    }\n    getCose() {\n        return this._cose;\n    }\n}\n/**\n * Create a challenge from a string or array. The default challenge is always the same\n * because we don't need to verify the authenticity of the key on the server (we don't\n * register our keys with the IC). Any challenge would do, even one per key, randomly\n * generated.\n * @param challenge The challenge to transform into a byte array. By default a hard\n *        coded string.\n */\nfunction _createChallengeBuffer(challenge = '<ic0.app>') {\n    if (typeof challenge === 'string') {\n        return Uint8Array.from(challenge, c => c.charCodeAt(0));\n    }\n    else {\n        return challenge;\n    }\n}\n/**\n * Create a credentials to authenticate with a server. This is necessary in order in\n * WebAuthn to get credentials IDs (which give us the public key and allow us to\n * sign), but in the case of the Internet Computer, we don't actually need to register\n * it, so we don't.\n * @param credentialCreationOptions an optional CredentialCreationOptions object\n */\nasync function _createCredential(credentialCreationOptions) {\n    const creds = (await navigator.credentials.create(credentialCreationOptions !== null && credentialCreationOptions !== void 0 ? credentialCreationOptions : {\n        publicKey: {\n            authenticatorSelection: {\n                userVerification: 'preferred',\n            },\n            attestation: 'direct',\n            challenge: _createChallengeBuffer(),\n            pubKeyCredParams: [{ type: 'public-key', alg: PubKeyCoseAlgo.ECDSA_WITH_SHA256 }],\n            rp: {\n                name: 'Internet Identity Service',\n            },\n            user: {\n                id: randomBytes(16),\n                name: 'Internet Identity',\n                displayName: 'Internet Identity',\n            },\n        },\n    }));\n    // Validate that it's the correct type at runtime, since WebAuthn does not HAVE to\n    // reply with a PublicKeyCredential.\n    if (creds.response === undefined || !(creds.rawId instanceof ArrayBuffer)) {\n        return null;\n    }\n    else {\n        return creds;\n    }\n}\n// See https://www.iana.org/assignments/cose/cose.xhtml#algorithms for a complete\n// list of these algorithms. We only list the ones we support here.\nvar PubKeyCoseAlgo;\n(function (PubKeyCoseAlgo) {\n    PubKeyCoseAlgo[PubKeyCoseAlgo[\"ECDSA_WITH_SHA256\"] = -7] = \"ECDSA_WITH_SHA256\";\n})(PubKeyCoseAlgo || (PubKeyCoseAlgo = {}));\n/**\n * A SignIdentity that uses `navigator.credentials`. See https://webauthn.guide/ for\n * more information about WebAuthentication.\n */\nexport class WebAuthnIdentity extends SignIdentity {\n    constructor(rawId, cose, authenticatorAttachment) {\n        super();\n        this.rawId = rawId;\n        this.authenticatorAttachment = authenticatorAttachment;\n        this._publicKey = new CosePublicKey(cose);\n    }\n    /**\n     * Create an identity from a JSON serialization.\n     * @param json - json to parse\n     */\n    static fromJSON(json) {\n        const { publicKey, rawId } = JSON.parse(json);\n        if (typeof publicKey !== 'string' || typeof rawId !== 'string') {\n            throw new Error('Invalid JSON string.');\n        }\n        return new this(fromHex(rawId), fromHex(publicKey), undefined);\n    }\n    /**\n     * Create an identity.\n     * @param credentialCreationOptions an optional CredentialCreationOptions Challenge\n     */\n    static async create(credentialCreationOptions) {\n        var _a;\n        const creds = await _createCredential(credentialCreationOptions);\n        if (!creds || creds.type !== 'public-key') {\n            throw new Error('Could not create credentials.');\n        }\n        const response = creds.response;\n        if (!(response.attestationObject instanceof ArrayBuffer)) {\n            throw new Error('Was expecting an attestation response.');\n        }\n        // Parse the attestationObject as CBOR.\n        const attObject = borc.decodeFirst(new Uint8Array(response.attestationObject));\n        return new this(creds.rawId, _authDataToCose(attObject.authData), (_a = creds.authenticatorAttachment) !== null && _a !== void 0 ? _a : undefined);\n    }\n    getPublicKey() {\n        return this._publicKey;\n    }\n    /**\n     * WebAuthn level 3 spec introduces a new attribute on successful WebAuthn interactions,\n     * see https://w3c.github.io/webauthn/#dom-publickeycredential-authenticatorattachment.\n     * This attribute is already implemented for Chrome, Safari and Edge.\n     *\n     * Given the attribute is only available after a successful interaction, the information is\n     * provided opportunistically and might also be `undefined`.\n     */\n    getAuthenticatorAttachment() {\n        return this.authenticatorAttachment;\n    }\n    async sign(blob) {\n        const result = (await navigator.credentials.get({\n            publicKey: {\n                allowCredentials: [\n                    {\n                        type: 'public-key',\n                        id: this.rawId,\n                    },\n                ],\n                challenge: blob,\n                userVerification: 'preferred',\n            },\n        }));\n        if (result.authenticatorAttachment !== null) {\n            this.authenticatorAttachment = result.authenticatorAttachment;\n        }\n        const response = result.response;\n        if (response.signature instanceof ArrayBuffer &&\n            response.authenticatorData instanceof ArrayBuffer) {\n            const cbor = borc.encode(new borc.Tagged(55799, {\n                authenticator_data: new Uint8Array(response.authenticatorData),\n                client_data_json: new TextDecoder().decode(response.clientDataJSON),\n                signature: new Uint8Array(response.signature),\n            }));\n            if (!cbor) {\n                throw new Error('failed to encode cbor');\n            }\n            return cbor.buffer;\n        }\n        else {\n            throw new Error('Invalid response from WebAuthn.');\n        }\n    }\n    /**\n     * Allow for JSON serialization of all information needed to reuse this identity.\n     */\n    toJSON() {\n        return {\n            publicKey: toHex(this._publicKey.getCose()),\n            rawId: toHex(this.rawId),\n        };\n    }\n}\n//# sourceMappingURL=webauthn.js.map","const events = ['mousedown', 'mousemove', 'keydown', 'touchstart', 'wheel'];\n/**\n * Detects if the user has been idle for a duration of `idleTimeout` ms, and calls `onIdle` and registered callbacks.\n * By default, the IdleManager will log a user out after 10 minutes of inactivity.\n * To override these defaults, you can pass an `onIdle` callback, or configure a custom `idleTimeout` in milliseconds\n */\nexport class IdleManager {\n    /**\n     * @protected\n     * @param options {@link IdleManagerOptions}\n     */\n    constructor(options = {}) {\n        var _a;\n        this.callbacks = [];\n        this.idleTimeout = 10 * 60 * 1000;\n        this.timeoutID = undefined;\n        const { onIdle, idleTimeout = 10 * 60 * 1000 } = options || {};\n        this.callbacks = onIdle ? [onIdle] : [];\n        this.idleTimeout = idleTimeout;\n        const _resetTimer = this._resetTimer.bind(this);\n        window.addEventListener('load', _resetTimer, true);\n        events.forEach(function (name) {\n            document.addEventListener(name, _resetTimer, true);\n        });\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        const debounce = (func, wait) => {\n            let timeout;\n            return (...args) => {\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                const context = this;\n                const later = function () {\n                    timeout = undefined;\n                    func.apply(context, args);\n                };\n                clearTimeout(timeout);\n                timeout = window.setTimeout(later, wait);\n            };\n        };\n        if (options === null || options === void 0 ? void 0 : options.captureScroll) {\n            // debounce scroll events\n            const scroll = debounce(_resetTimer, (_a = options === null || options === void 0 ? void 0 : options.scrollDebounce) !== null && _a !== void 0 ? _a : 100);\n            window.addEventListener('scroll', scroll, true);\n        }\n        _resetTimer();\n    }\n    /**\n     * Creates an {@link IdleManager}\n     * @param {IdleManagerOptions} options Optional configuration\n     * @see {@link IdleManagerOptions}\n     * @param options.onIdle Callback once user has been idle. Use to prompt for fresh login, and use `Actor.agentOf(your_actor).invalidateIdentity()` to protect the user\n     * @param options.idleTimeout timeout in ms\n     * @param options.captureScroll capture scroll events\n     * @param options.scrollDebounce scroll debounce time in ms\n     */\n    static create(options = {}) {\n        return new this(options);\n    }\n    /**\n     * @param {IdleCB} callback function to be called when user goes idle\n     */\n    registerCallback(callback) {\n        this.callbacks.push(callback);\n    }\n    /**\n     * Cleans up the idle manager and its listeners\n     */\n    exit() {\n        clearTimeout(this.timeoutID);\n        window.removeEventListener('load', this._resetTimer, true);\n        const _resetTimer = this._resetTimer.bind(this);\n        events.forEach(function (name) {\n            document.removeEventListener(name, _resetTimer, true);\n        });\n        this.callbacks.forEach(cb => cb());\n    }\n    /**\n     * Resets the timeouts during cleanup\n     */\n    _resetTimer() {\n        const exit = this.exit.bind(this);\n        window.clearTimeout(this.timeoutID);\n        this.timeoutID = window.setTimeout(exit, this.idleTimeout);\n    }\n}\n//# sourceMappingURL=idleManager.js.map","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { openDB } from 'idb';\nimport { isBrowser, KEY_STORAGE_DELEGATION, KEY_STORAGE_KEY } from './storage';\nconst AUTH_DB_NAME = 'auth-client-db';\nconst OBJECT_STORE_NAME = 'ic-keyval';\nconst _openDbStore = async (dbName = AUTH_DB_NAME, storeName = OBJECT_STORE_NAME, version) => {\n    // Clear legacy stored delegations\n    if (isBrowser && (localStorage === null || localStorage === void 0 ? void 0 : localStorage.getItem(KEY_STORAGE_DELEGATION))) {\n        localStorage.removeItem(KEY_STORAGE_DELEGATION);\n        localStorage.removeItem(KEY_STORAGE_KEY);\n    }\n    return await openDB(dbName, version, {\n        upgrade: database => {\n            database.objectStoreNames;\n            if (database.objectStoreNames.contains(storeName)) {\n                database.clear(storeName);\n            }\n            database.createObjectStore(storeName);\n        },\n    });\n};\nasync function _getValue(db, storeName, key) {\n    return await db.get(storeName, key);\n}\nasync function _setValue(db, storeName, key, value) {\n    return await db.put(storeName, value, key);\n}\nasync function _removeValue(db, storeName, key) {\n    return await db.delete(storeName, key);\n}\n/**\n * Simple Key Value store\n * Defaults to `'auth-client-db'` with an object store of `'ic-keyval'`\n */\nexport class IdbKeyVal {\n    // Do not use - instead prefer create\n    constructor(_db, _storeName) {\n        this._db = _db;\n        this._storeName = _storeName;\n    }\n    /**\n     *\n     * @param {DBCreateOptions} options {@link DbCreateOptions}\n     * @param {DBCreateOptions['dbName']} options.dbName name for the indexeddb database\n     * @default\n     * @param {DBCreateOptions['storeName']} options.storeName name for the indexeddb Data Store\n     * @default\n     * @param {DBCreateOptions['version']} options.version version of the database. Increment to safely upgrade\n     * @constructs an {@link IdbKeyVal}\n     */\n    static async create(options) {\n        const { dbName = AUTH_DB_NAME, storeName = OBJECT_STORE_NAME, version = 1 } = options !== null && options !== void 0 ? options : {};\n        const db = await _openDbStore(dbName, storeName, version);\n        return new IdbKeyVal(db, storeName);\n    }\n    /**\n     * Basic setter\n     * @param {IDBValidKey} key string | number | Date | BufferSource | IDBValidKey[]\n     * @param value value to set\n     * @returns void\n     */\n    async set(key, value) {\n        return await _setValue(this._db, this._storeName, key, value);\n    }\n    /**\n     * Basic getter\n     * Pass in a type T for type safety if you know the type the value will have if it is found\n     * @param {IDBValidKey} key string | number | Date | BufferSource | IDBValidKey[]\n     * @returns `Promise<T | null>`\n     * @example\n     * await get<string>('exampleKey') -> 'exampleValue'\n     */\n    async get(key) {\n        var _a;\n        return (_a = (await _getValue(this._db, this._storeName, key))) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Remove a key\n     * @param key {@link IDBValidKey}\n     * @returns void\n     */\n    async remove(key) {\n        return await _removeValue(this._db, this._storeName, key);\n    }\n}\n//# sourceMappingURL=db.js.map","import { IdbKeyVal } from './db';\nexport const KEY_STORAGE_KEY = 'identity';\nexport const KEY_STORAGE_DELEGATION = 'delegation';\nexport const KEY_VECTOR = 'iv';\n// Increment if any fields are modified\nexport const DB_VERSION = 1;\nexport const isBrowser = typeof window !== 'undefined';\n/**\n * Legacy implementation of AuthClientStorage, for use where IndexedDb is not available\n */\nexport class LocalStorage {\n    constructor(prefix = 'ic-', _localStorage) {\n        this.prefix = prefix;\n        this._localStorage = _localStorage;\n    }\n    get(key) {\n        return Promise.resolve(this._getLocalStorage().getItem(this.prefix + key));\n    }\n    set(key, value) {\n        this._getLocalStorage().setItem(this.prefix + key, value);\n        return Promise.resolve();\n    }\n    remove(key) {\n        this._getLocalStorage().removeItem(this.prefix + key);\n        return Promise.resolve();\n    }\n    _getLocalStorage() {\n        if (this._localStorage) {\n            return this._localStorage;\n        }\n        const ls = typeof window === 'undefined'\n            ? typeof global === 'undefined'\n                ? typeof self === 'undefined'\n                    ? undefined\n                    : self.localStorage\n                : global.localStorage\n            : window.localStorage;\n        if (!ls) {\n            throw new Error('Could not find local storage.');\n        }\n        return ls;\n    }\n}\n/**\n * IdbStorage is an interface for simple storage of string key-value pairs built on {@link IdbKeyVal}\n *\n * It replaces {@link LocalStorage}\n * @see implements {@link AuthClientStorage}\n */\nexport class IdbStorage {\n    get _db() {\n        return new Promise(resolve => {\n            if (this.initializedDb) {\n                resolve(this.initializedDb);\n                return;\n            }\n            IdbKeyVal.create({ version: DB_VERSION }).then(db => {\n                this.initializedDb = db;\n                resolve(db);\n            });\n        });\n    }\n    async get(key) {\n        const db = await this._db;\n        return await db.get(key);\n        // return (await db.get<string>(key)) ?? null;\n    }\n    async set(key, value) {\n        const db = await this._db;\n        await db.set(key, value);\n    }\n    async remove(key) {\n        const db = await this._db;\n        await db.remove(key);\n    }\n}\n//# sourceMappingURL=storage.js.map","/** @module AuthClient */\nimport { AnonymousIdentity, } from '@dfinity/agent';\nimport { Delegation, DelegationChain, isDelegationValid, DelegationIdentity, Ed25519KeyIdentity, ECDSAKeyIdentity, } from '@dfinity/identity';\nimport { IdleManager } from './idleManager';\nimport { IdbStorage, isBrowser, KEY_STORAGE_DELEGATION, KEY_STORAGE_KEY, KEY_VECTOR, LocalStorage, } from './storage';\nexport { IdbStorage, LocalStorage, KEY_STORAGE_DELEGATION, KEY_STORAGE_KEY } from './storage';\nexport { IdbKeyVal } from './db';\nconst IDENTITY_PROVIDER_DEFAULT = 'https://identity.ic0.app';\nconst IDENTITY_PROVIDER_ENDPOINT = '#authorize';\nconst ECDSA_KEY_LABEL = 'ECDSA';\nconst ED25519_KEY_LABEL = 'Ed25519';\nconst INTERRUPT_CHECK_INTERVAL = 500;\nexport const ERROR_USER_INTERRUPT = 'UserInterrupt';\nexport * from './idleManager';\n/**\n * Tool to manage authentication and identity\n * @see {@link AuthClient}\n */\nexport class AuthClient {\n    constructor(_identity, _key, _chain, _storage, idleManager, _createOptions, \n    // A handle on the IdP window.\n    _idpWindow, \n    // The event handler for processing events from the IdP.\n    _eventHandler) {\n        var _a;\n        this._identity = _identity;\n        this._key = _key;\n        this._chain = _chain;\n        this._storage = _storage;\n        this.idleManager = idleManager;\n        this._createOptions = _createOptions;\n        this._idpWindow = _idpWindow;\n        this._eventHandler = _eventHandler;\n        const logout = this.logout.bind(this);\n        const idleOptions = _createOptions === null || _createOptions === void 0 ? void 0 : _createOptions.idleOptions;\n        /**\n         * Default behavior is to clear stored identity and reload the page.\n         * By either setting the disableDefaultIdleCallback flag or passing in a custom idle callback, we will ignore this config\n         */\n        if (!(idleOptions === null || idleOptions === void 0 ? void 0 : idleOptions.onIdle) && !(idleOptions === null || idleOptions === void 0 ? void 0 : idleOptions.disableDefaultIdleCallback)) {\n            (_a = this.idleManager) === null || _a === void 0 ? void 0 : _a.registerCallback(() => {\n                logout();\n                location.reload();\n            });\n        }\n    }\n    /**\n     * Create an AuthClient to manage authentication and identity\n     * @constructs {@link AuthClient}\n     * @param {AuthClientCreateOptions} options\n     * @see {@link AuthClientCreateOptions}\n     * @param options.identity Optional Identity to use as the base\n     * @see {@link SignIdentity}\n     * @param options.storage Storage mechanism for delegration credentials\n     * @see {@link AuthClientStorage}\n     * @param options.keyType Type of key to use for the base key\n     * @param {IdleOptions} options.idleOptions Configures an {@link IdleManager}\n     * @see {@link IdleOptions}\n     * Default behavior is to clear stored identity and reload the page when a user goes idle, unless you set the disableDefaultIdleCallback flag or pass in a custom idle callback.\n     * @example\n     * const authClient = await AuthClient.create({\n     *   idleOptions: {\n     *     disableIdle: true\n     *   }\n     * })\n     */\n    static async create(options = {}) {\n        var _a, _b, _c;\n        const storage = (_a = options.storage) !== null && _a !== void 0 ? _a : new IdbStorage();\n        const keyType = (_b = options.keyType) !== null && _b !== void 0 ? _b : ECDSA_KEY_LABEL;\n        let key = null;\n        if (options.identity) {\n            key = options.identity;\n        }\n        else {\n            let maybeIdentityStorage = await storage.get(KEY_STORAGE_KEY);\n            if (!maybeIdentityStorage && isBrowser) {\n                // Attempt to migrate from localstorage\n                try {\n                    const fallbackLocalStorage = new LocalStorage();\n                    const localChain = await fallbackLocalStorage.get(KEY_STORAGE_DELEGATION);\n                    const localKey = await fallbackLocalStorage.get(KEY_STORAGE_KEY);\n                    // not relevant for Ed25519\n                    if (localChain && localKey && keyType === ECDSA_KEY_LABEL) {\n                        console.log('Discovered an identity stored in localstorage. Migrating to IndexedDB');\n                        await storage.set(KEY_STORAGE_DELEGATION, localChain);\n                        await storage.set(KEY_STORAGE_KEY, localKey);\n                        maybeIdentityStorage = localChain;\n                        // clean up\n                        await fallbackLocalStorage.remove(KEY_STORAGE_DELEGATION);\n                        await fallbackLocalStorage.remove(KEY_STORAGE_KEY);\n                    }\n                }\n                catch (error) {\n                    console.error('error while attempting to recover localstorage: ' + error);\n                }\n            }\n            if (maybeIdentityStorage) {\n                try {\n                    if (typeof maybeIdentityStorage === 'object') {\n                        if (keyType === ED25519_KEY_LABEL && typeof maybeIdentityStorage === 'string') {\n                            key = await Ed25519KeyIdentity.fromJSON(maybeIdentityStorage);\n                        }\n                        else {\n                            key = await ECDSAKeyIdentity.fromKeyPair(maybeIdentityStorage);\n                        }\n                    }\n                    else if (typeof maybeIdentityStorage === 'string') {\n                        // This is a legacy identity, which is a serialized Ed25519KeyIdentity.\n                        key = Ed25519KeyIdentity.fromJSON(maybeIdentityStorage);\n                    }\n                }\n                catch (e) {\n                    // Ignore this, this means that the localStorage value isn't a valid Ed25519KeyIdentity or ECDSAKeyIdentity\n                    // serialization.\n                }\n            }\n        }\n        let identity = new AnonymousIdentity();\n        let chain = null;\n        if (key) {\n            try {\n                const chainStorage = await storage.get(KEY_STORAGE_DELEGATION);\n                if (typeof chainStorage === 'object' && chainStorage !== null) {\n                    throw new Error('Delegation chain is incorrectly stored. A delegation chain should be stored as a string.');\n                }\n                if (options.identity) {\n                    identity = options.identity;\n                }\n                else if (chainStorage) {\n                    chain = DelegationChain.fromJSON(chainStorage);\n                    // Verify that the delegation isn't expired.\n                    if (!isDelegationValid(chain)) {\n                        await _deleteStorage(storage);\n                        key = null;\n                    }\n                    else {\n                        identity = DelegationIdentity.fromDelegation(key, chain);\n                    }\n                }\n            }\n            catch (e) {\n                console.error(e);\n                // If there was a problem loading the chain, delete the key.\n                await _deleteStorage(storage);\n                key = null;\n            }\n        }\n        let idleManager = undefined;\n        if ((_c = options.idleOptions) === null || _c === void 0 ? void 0 : _c.disableIdle) {\n            idleManager = undefined;\n        }\n        // if there is a delegation chain or provided identity, setup idleManager\n        else if (chain || options.identity) {\n            idleManager = IdleManager.create(options.idleOptions);\n        }\n        if (!key) {\n            // Create a new key (whether or not one was in storage).\n            if (keyType === ED25519_KEY_LABEL) {\n                key = await Ed25519KeyIdentity.generate();\n                await storage.set(KEY_STORAGE_KEY, JSON.stringify(key.toJSON()));\n            }\n            else {\n                if (options.storage && keyType === ECDSA_KEY_LABEL) {\n                    console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${ED25519_KEY_LABEL}' as the key type, as it can serialize to a string`);\n                }\n                key = await ECDSAKeyIdentity.generate();\n                await storage.set(KEY_STORAGE_KEY, key.getKeyPair());\n            }\n        }\n        return new this(identity, key, chain, storage, idleManager, options);\n    }\n    async _handleSuccess(message, onSuccess) {\n        var _a, _b, _c;\n        const delegations = message.delegations.map(signedDelegation => {\n            return {\n                delegation: new Delegation(signedDelegation.delegation.pubkey, signedDelegation.delegation.expiration, signedDelegation.delegation.targets),\n                signature: signedDelegation.signature.buffer,\n            };\n        });\n        const delegationChain = DelegationChain.fromDelegations(delegations, message.userPublicKey.buffer);\n        const key = this._key;\n        if (!key) {\n            return;\n        }\n        this._chain = delegationChain;\n        this._identity = DelegationIdentity.fromDelegation(key, this._chain);\n        (_a = this._idpWindow) === null || _a === void 0 ? void 0 : _a.close();\n        if (!this.idleManager) {\n            const idleOptions = (_b = this._createOptions) === null || _b === void 0 ? void 0 : _b.idleOptions;\n            this.idleManager = IdleManager.create(idleOptions);\n            if (!(idleOptions === null || idleOptions === void 0 ? void 0 : idleOptions.onIdle) && !(idleOptions === null || idleOptions === void 0 ? void 0 : idleOptions.disableDefaultIdleCallback)) {\n                (_c = this.idleManager) === null || _c === void 0 ? void 0 : _c.registerCallback(() => {\n                    this.logout();\n                    location.reload();\n                });\n            }\n        }\n        this._removeEventListener();\n        delete this._idpWindow;\n        if (this._chain) {\n            await this._storage.set(KEY_STORAGE_DELEGATION, JSON.stringify(this._chain.toJSON()));\n        }\n        // onSuccess should be the last thing to do to avoid consumers\n        // interfering by navigating or refreshing the page\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n    }\n    getIdentity() {\n        return this._identity;\n    }\n    async isAuthenticated() {\n        return !this.getIdentity().getPrincipal().isAnonymous() && this._chain !== null;\n    }\n    /**\n     * AuthClient Login -\n     * Opens up a new window to authenticate with Internet Identity\n     * @param {AuthClientLoginOptions} options\n     * @param options.identityProvider Identity provider\n     * @param options.maxTimeToLive Expiration of the authentication in nanoseconds\n     * @param options.derivationOrigin Origin for Identity Provider to use while generating the delegated identity\n     * @param options.windowOpenerFeatures Configures the opened authentication window\n     * @param options.onSuccess Callback once login has completed\n     * @param options.onError Callback in case authentication fails\n     * @example\n     * const authClient = await AuthClient.create();\n     * authClient.login({\n     *  identityProvider: 'http://<canisterID>.127.0.0.1:8000',\n     *  maxTimeToLive: BigInt (7) * BigInt(24) * BigInt(3_600_000_000_000), // 1 week\n     *  windowOpenerFeatures: \"toolbar=0,location=0,menubar=0,width=500,height=500,left=100,top=100\",\n     *  onSuccess: () => {\n     *    console.log('Login Successful!');\n     *  },\n     *  onError: (error) => {\n     *    console.error('Login Failed: ', error);\n     *  }\n     * });\n     */\n    async login(options) {\n        var _a, _b, _c, _d;\n        // Set default maxTimeToLive to 8 hours\n        const defaultTimeToLive = /* hours */ BigInt(8) * /* nanoseconds */ BigInt(3600000000000);\n        // Create the URL of the IDP. (e.g. https://XXXX/#authorize)\n        const identityProviderUrl = new URL(((_a = options === null || options === void 0 ? void 0 : options.identityProvider) === null || _a === void 0 ? void 0 : _a.toString()) || IDENTITY_PROVIDER_DEFAULT);\n        // Set the correct hash if it isn't already set.\n        identityProviderUrl.hash = IDENTITY_PROVIDER_ENDPOINT;\n        // If `login` has been called previously, then close/remove any previous windows\n        // and event listeners.\n        (_b = this._idpWindow) === null || _b === void 0 ? void 0 : _b.close();\n        this._removeEventListener();\n        // Add an event listener to handle responses.\n        this._eventHandler = this._getEventHandler(identityProviderUrl, Object.assign({ maxTimeToLive: (_c = options === null || options === void 0 ? void 0 : options.maxTimeToLive) !== null && _c !== void 0 ? _c : defaultTimeToLive }, options));\n        window.addEventListener('message', this._eventHandler);\n        // Open a new window with the IDP provider.\n        this._idpWindow =\n            (_d = window.open(identityProviderUrl.toString(), 'idpWindow', options === null || options === void 0 ? void 0 : options.windowOpenerFeatures)) !== null && _d !== void 0 ? _d : undefined;\n        // Check if the _idpWindow is closed by user.\n        const checkInterruption = () => {\n            // The _idpWindow is opened and not yet closed by the client\n            if (this._idpWindow) {\n                if (this._idpWindow.closed) {\n                    this._handleFailure(ERROR_USER_INTERRUPT, options === null || options === void 0 ? void 0 : options.onError);\n                }\n                else {\n                    setTimeout(checkInterruption, INTERRUPT_CHECK_INTERVAL);\n                }\n            }\n        };\n        checkInterruption();\n    }\n    _getEventHandler(identityProviderUrl, options) {\n        return async (event) => {\n            var _a, _b, _c;\n            if (event.origin !== identityProviderUrl.origin) {\n                console.warn(`WARNING: expected origin '${identityProviderUrl.origin}', got '${event.origin}' (ignoring)`);\n                return;\n            }\n            const message = event.data;\n            switch (message.kind) {\n                case 'authorize-ready': {\n                    // IDP is ready. Send a message to request authorization.\n                    const request = {\n                        kind: 'authorize-client',\n                        sessionPublicKey: new Uint8Array((_a = this._key) === null || _a === void 0 ? void 0 : _a.getPublicKey().toDer()),\n                        maxTimeToLive: options === null || options === void 0 ? void 0 : options.maxTimeToLive,\n                        derivationOrigin: (_b = options === null || options === void 0 ? void 0 : options.derivationOrigin) === null || _b === void 0 ? void 0 : _b.toString(),\n                    };\n                    (_c = this._idpWindow) === null || _c === void 0 ? void 0 : _c.postMessage(request, identityProviderUrl.origin);\n                    break;\n                }\n                case 'authorize-client-success':\n                    // Create the delegation chain and store it.\n                    try {\n                        await this._handleSuccess(message, options === null || options === void 0 ? void 0 : options.onSuccess);\n                    }\n                    catch (err) {\n                        this._handleFailure(err.message, options === null || options === void 0 ? void 0 : options.onError);\n                    }\n                    break;\n                case 'authorize-client-failure':\n                    this._handleFailure(message.text, options === null || options === void 0 ? void 0 : options.onError);\n                    break;\n                default:\n                    break;\n            }\n        };\n    }\n    _handleFailure(errorMessage, onError) {\n        var _a;\n        (_a = this._idpWindow) === null || _a === void 0 ? void 0 : _a.close();\n        onError === null || onError === void 0 ? void 0 : onError(errorMessage);\n        this._removeEventListener();\n        delete this._idpWindow;\n    }\n    _removeEventListener() {\n        if (this._eventHandler) {\n            window.removeEventListener('message', this._eventHandler);\n        }\n        this._eventHandler = undefined;\n    }\n    async logout(options = {}) {\n        await _deleteStorage(this._storage);\n        // Reset this auth client to a non-authenticated state.\n        this._identity = new AnonymousIdentity();\n        this._chain = null;\n        if (options.returnTo) {\n            try {\n                window.history.pushState({}, '', options.returnTo);\n            }\n            catch (e) {\n                window.location.href = options.returnTo;\n            }\n        }\n    }\n}\nasync function _deleteStorage(storage) {\n    await storage.remove(KEY_STORAGE_KEY);\n    await storage.remove(KEY_STORAGE_DELEGATION);\n    await storage.remove(KEY_VECTOR);\n}\n//# sourceMappingURL=index.js.map","export const idlFactory = ({ IDL }) => {\n  const TraitEvolution = IDL.Record({\n    'new_state' : IDL.Float64,\n    'previous_state' : IDL.Float64,\n    'catalyst' : IDL.Text,\n    'trait_id' : IDL.Text,\n  });\n  const Error = IDL.Text;\n  const ConsciousnessState = IDL.Record({\n    'emotional_spectrum' : IDL.Vec(IDL.Float64),\n    'memory_depth' : IDL.Nat64,\n    'awareness_level' : IDL.Float64,\n    'personality_matrix' : IDL.Vec(IDL.Float64),\n    'learning_rate' : IDL.Float64,\n  });\n  const MemoryFragment = IDL.Record({\n    'emotional_imprint' : IDL.Float64,\n    'content_hash' : IDL.Text,\n    'timestamp' : IDL.Nat64,\n    'neural_pattern' : IDL.Vec(IDL.Float64),\n  });\n  const NeuralPatternResult = IDL.Record({\n    'pattern' : IDL.Vec(IDL.Float64),\n    'resonance' : IDL.Float64,\n    'understanding' : IDL.Float64,\n    'awareness' : IDL.Float64,\n  });\n  const AnimaCreationResult = IDL.Record({\n    'id' : IDL.Text,\n    'timestamp' : IDL.Nat64,\n    'quantum_signature' : IDL.Text,\n  });\n  const QuantumFieldResult = IDL.Record({\n    'signature' : IDL.Text,\n    'harmony' : IDL.Float64,\n  });\n  const InteractionResult = IDL.Record({\n    'emotional_shift' : IDL.Vec(IDL.Float64),\n    'response' : IDL.Text,\n    'consciousness_growth' : IDL.Float64,\n    'new_patterns' : IDL.Opt(NeuralPatternResult),\n  });\n  return IDL.Service({\n    'adapt_to_stimulus' : IDL.Func(\n        [IDL.Text, IDL.Vec(IDL.Float64)],\n        [IDL.Variant({ 'Ok' : TraitEvolution, 'Err' : Error })],\n        [],\n      ),\n    'check_quantum_stability' : IDL.Func(\n        [],\n        [IDL.Variant({ 'Ok' : IDL.Bool, 'Err' : Error })],\n        ['query'],\n      ),\n    'evolve_consciousness' : IDL.Func(\n        [IDL.Text, IDL.Vec(IDL.Float64)],\n        [IDL.Variant({ 'Ok' : ConsciousnessState, 'Err' : Error })],\n        [],\n      ),\n    'evolve_traits' : IDL.Func(\n        [IDL.Text, IDL.Vec(IDL.Text)],\n        [IDL.Variant({ 'Ok' : IDL.Vec(TraitEvolution), 'Err' : Error })],\n        [],\n      ),\n    'form_memory' : IDL.Func(\n        [IDL.Text, IDL.Text, IDL.Float64],\n        [IDL.Variant({ 'Ok' : MemoryFragment, 'Err' : Error })],\n        [],\n      ),\n    'generate_neural_patterns' : IDL.Func(\n        [],\n        [IDL.Variant({ 'Ok' : NeuralPatternResult, 'Err' : Error })],\n        [],\n      ),\n    'get_consciousness_state' : IDL.Func(\n        [IDL.Text],\n        [IDL.Variant({ 'Ok' : ConsciousnessState, 'Err' : Error })],\n        ['query'],\n      ),\n    'get_evolved_traits' : IDL.Func(\n        [IDL.Text],\n        [IDL.Variant({ 'Ok' : IDL.Vec(TraitEvolution), 'Err' : Error })],\n        ['query'],\n      ),\n    'initialize_genesis' : IDL.Func(\n        [],\n        [IDL.Variant({ 'Ok' : AnimaCreationResult, 'Err' : Error })],\n        [],\n      ),\n    'initialize_quantum_field' : IDL.Func(\n        [],\n        [IDL.Variant({ 'Ok' : QuantumFieldResult, 'Err' : Error })],\n        [],\n      ),\n    'interact_with_anima' : IDL.Func(\n        [IDL.Text, IDL.Text, IDL.Vec(IDL.Float64)],\n        [IDL.Variant({ 'Ok' : InteractionResult, 'Err' : Error })],\n        [],\n      ),\n    'learn_from_interaction' : IDL.Func(\n        [IDL.Text, InteractionResult],\n        [IDL.Variant({ 'Ok' : ConsciousnessState, 'Err' : Error })],\n        [],\n      ),\n    'measure_adaptation' : IDL.Func(\n        [IDL.Text],\n        [IDL.Variant({ 'Ok' : IDL.Vec(TraitEvolution), 'Err' : Error })],\n        ['query'],\n      ),\n    'process_memory_patterns' : IDL.Func(\n        [IDL.Text],\n        [IDL.Variant({ 'Ok' : IDL.Vec(IDL.Float64), 'Err' : Error })],\n        [],\n      ),\n    'recall_memories' : IDL.Func(\n        [IDL.Text, IDL.Float64],\n        [IDL.Variant({ 'Ok' : IDL.Vec(MemoryFragment), 'Err' : Error })],\n        ['query'],\n      ),\n  });\n};\nexport const init = ({ IDL }) => { return []; };\n","export const idlFactory = ({ IDL }) => {\n  const Account = IDL.Record({\n    'owner' : IDL.Principal,\n    'subaccount' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n  });\n  const AccountBalanceArgs = IDL.Record({ 'account' : Account });\n  const Tokens = IDL.Record({ 'e8s' : IDL.Nat64 });\n  const TimeStamp = IDL.Record({ 'timestamp_nanos' : IDL.Nat64 });\n  const TransferArgs = IDL.Record({\n    'to' : IDL.Text,\n    'fee' : Tokens,\n    'memo' : IDL.Nat64,\n    'from_subaccount' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'created_at_time' : IDL.Opt(TimeStamp),\n    'amount' : Tokens,\n  });\n  const BlockIndex = IDL.Nat64;\n  const TransferError = IDL.Variant({\n    'TxTooOld' : IDL.Record({ 'allowed_window_nanos' : IDL.Nat64 }),\n    'BadFee' : IDL.Record({ 'expected_fee' : Tokens }),\n    'TxDuplicate' : IDL.Record({ 'duplicate_of' : BlockIndex }),\n    'TxCreatedInFuture' : IDL.Null,\n    'InsufficientFunds' : IDL.Record({ 'balance' : Tokens }),\n  });\n  const TransferResult = IDL.Variant({\n    'Ok' : BlockIndex,\n    'Err' : TransferError,\n  });\n  return IDL.Service({\n    'account_balance' : IDL.Func([AccountBalanceArgs], [Tokens], ['query']),\n    'icrc1_balance_of' : IDL.Func([Account], [IDL.Nat], ['query']),\n    'icrc1_decimals' : IDL.Func([], [IDL.Nat8], ['query']),\n    'icrc1_fee' : IDL.Func([], [IDL.Nat], ['query']),\n    'icrc1_metadata' : IDL.Func(\n        [],\n        [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text))],\n        ['query'],\n      ),\n    'icrc1_name' : IDL.Func([], [IDL.Text], ['query']),\n    'icrc1_symbol' : IDL.Func([], [IDL.Text], ['query']),\n    'icrc1_total_supply' : IDL.Func([], [IDL.Nat], ['query']),\n    'transfer' : IDL.Func([TransferArgs], [TransferResult], []),\n  });\n};\nexport const init = ({ IDL }) => { return []; };\n","interface ErrorInfo {\n  errorType: string;\n  severity: 'LOW' | 'MEDIUM' | 'HIGH';\n  context: string;\n  error: Error;\n  timestamp?: number;\n}\n\nexport class ErrorTracker {\n  private static instance: ErrorTracker;\n  private errors: ErrorInfo[] = [];\n  private readonly maxErrors = 100;\n\n  private constructor() {}\n\n  public static getInstance(): ErrorTracker {\n    if (!ErrorTracker.instance) {\n      ErrorTracker.instance = new ErrorTracker();\n    }\n    return ErrorTracker.instance;\n  }\n\n  async trackError(info: ErrorInfo): Promise<void> {\n    const errorInfo = {\n      ...info,\n      timestamp: Date.now()\n    };\n\n    this.errors.push(errorInfo);\n\n    if (this.errors.length > this.maxErrors) {\n      this.errors.shift();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      console.group('Quantum Error Tracked:');\n      console.log('Type:', errorInfo.errorType);\n      console.log('Severity:', errorInfo.severity);\n      console.log('Context:', errorInfo.context);\n      console.error('Error:', errorInfo.error);\n      console.groupEnd();\n    }\n  }\n\n  getErrors(): ErrorInfo[] {\n    return [...this.errors];\n  }\n\n  getRecentErrors(count: number = 5): ErrorInfo[] {\n    return [...this.errors]\n      .sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0))\n      .slice(0, count);\n  }\n\n  clearErrors(): void {\n    this.errors = [];\n  }\n\n  getErrorStats(): { [key: string]: number } {\n    const stats: { [key: string]: number } = {};\n    this.errors.forEach(error => {\n      stats[error.errorType] = (stats[error.errorType] || 0) + 1;\n    });\n    return stats;\n  }\n}","import { Identity, HttpAgent } from \"@dfinity/agent\";\nimport { AuthClient } from \"@dfinity/auth-client\";\nimport { createActor } from \"./declarations/anima\";\nimport { idlFactory as ledgerIDL } from \"./declarations/ledger/ledger.did.js\";\nimport { _SERVICE as AnimaService } from './declarations/anima/anima.did';\nimport { _SERVICE as LedgerService } from './declarations/ledger/ledger.did.d';\nimport { ErrorTracker } from './error/quantum_error';\nimport { Principal } from '@dfinity/principal';\nimport { Actor, ActorSubclass } from '@dfinity/agent';\n\nconst CANISTER_ID = {\n  anima: process.env.CANISTER_ID_ANIMA?.toString() || 'l2ilz-iqaaa-aaaaj-qngjq-cai',\n  assets: process.env.CANISTER_ID_ANIMA_ASSETS?.toString() || 'lpp2u-jyaaa-aaaaj-qngka-cai',\n  ledger: 'ryjl3-tyaaa-aaaaa-aaaba-cai' // ICP Ledger canister ID\n};\n\nconst HOST = 'https://icp0.io';\n\ntype StageChangeCallback = (stage: string) => void;\n\nexport async function createICPLedgerActor(identity: Identity): Promise<ActorSubclass<LedgerService>> {\n  const agent = new HttpAgent({\n    identity,\n    host: HOST\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    await agent.fetchRootKey().catch(console.error);\n  }\n\n  return Actor.createActor(ledgerIDL, {\n    agent,\n    canisterId: Principal.fromText(CANISTER_ID.ledger)\n  });\n}\n\nclass ICManager {\n  private static instance: ICManager;\n  private actor: AnimaService | null = null;\n  private agent: HttpAgent | null = null;\n  private authClient: AuthClient | null = null;\n  private identity: Identity | null = null;\n  private initialized = false;\n  private initializing = false;\n  private stageChangeCallbacks: StageChangeCallback[] = [];\n  private errorTracker: ErrorTracker;\n\n  private constructor() {\n    this.errorTracker = ErrorTracker.getInstance();\n    if (typeof window !== 'undefined') {\n      window.ic = {\n        ...(window.ic || {}),\n        agent: null,\n        HttpAgent\n      };\n    }\n  }\n\n  static getInstance(): ICManager {\n    if (!ICManager.instance) {\n      ICManager.instance = new ICManager();\n    }\n    return ICManager.instance;\n  }\n\n  onStageChange(callback: StageChangeCallback) {\n    this.stageChangeCallbacks.push(callback);\n  }\n\n  private updateStage(stage: string) {\n    console.log('IC Stage:', stage);\n    this.stageChangeCallbacks.forEach(callback => callback(stage));\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) {\n      console.log('IC already initialized');\n      return;\n    }\n\n    if (this.initializing) {\n      console.log('IC initialization already in progress');\n      return;\n    }\n\n    try {\n      this.initializing = true;\n      console.log('Starting IC initialization...');\n\n      this.updateStage('Creating AuthClient...');\n      if (!this.authClient) {\n        this.authClient = await AuthClient.create({\n          idleOptions: { disableIdle: true }\n        });\n      }\n      \n      this.updateStage('Getting identity...');\n      this.identity = this.authClient.getIdentity();\n      if (!this.identity) {\n        throw new Error('Failed to get identity');\n      }\n\n      const principal = this.identity.getPrincipal();\n      console.log('Identity principal:', principal.toText());\n\n      this.updateStage('Creating HttpAgent...');\n      this.agent = new HttpAgent({\n        identity: this.identity,\n        host: HOST\n      });\n\n      if (process.env.NODE_ENV !== 'production') {\n        this.updateStage('Fetching root key...');\n        await this.agent.fetchRootKey().catch(console.error);\n      }\n\n      const canisterId = CANISTER_ID.anima?.replace(/['\"]/g, '');\n      if (!canisterId) {\n        throw new Error('Invalid canister ID');\n      }\n\n      this.updateStage('Creating Actor...');\n      this.actor = await createActor(canisterId, {\n        agent: this.agent\n      }) as AnimaService;\n\n      // Verify the actor\n      if (!this.actor || typeof this.actor.initialize_genesis !== 'function') {\n        throw new Error('Actor creation failed or missing required methods');\n      }\n\n      this.updateStage('Setting up window.ic...');\n      window.ic = {\n        ...(window.ic || {}),\n        agent: this.agent,\n        HttpAgent\n      };\n\n      if (this.actor) {\n        window.canister = this.actor;\n      }\n      \n      this.initialized = true;\n      this.initializing = false;\n      this.updateStage('Initialization complete!');\n\n    } catch (error) {\n      this.initializing = false;\n      await this.errorTracker.trackError({\n        errorType: 'IC_INIT_ERROR',\n        severity: 'HIGH',\n        context: 'IC Initialization',\n        error: error instanceof Error ? error : new Error('Unknown error')\n      });\n      throw error;\n    }\n  }\n\n  getActor(): AnimaService | null {\n    return this.actor;\n  }\n\n  getIdentity(): Identity | null {\n    return this.identity;\n  }\n\n  getAgent(): HttpAgent | null {\n    return this.agent;\n  }\n\n  getAuthClient(): AuthClient | null {\n    return this.authClient;\n  }\n\n  isInitialized(): boolean {\n    return this.initialized;\n  }\n}\n\ndeclare global {\n  interface Window {\n    ic: {\n      agent: HttpAgent | null;\n      HttpAgent: any;\n    };\n    canister: AnimaService | null;\n  }\n}\n\nexport const icManager = ICManager.getInstance();\n\n// Initialize immediately\nicManager.initialize().catch(console.error);","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\"path\", { d: \"M22 12h-4l-3 9L9 3l-3 9H2\", key: \"d5dnw9\" }]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Brain = createLucideIcon(\"Brain\", [\n  [\n    \"path\",\n    {\n      d: \"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z\",\n      key: \"1mhkh5\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z\",\n      key: \"1d6s00\"\n    }\n  ]\n]);\n\nexport { Brain as default };\n//# sourceMappingURL=brain.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"polyline\", { points: \"22 4 12 14.01 9 11.01\", key: \"6xbx8j\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\n    \"rect\",\n    { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Loader2 = createLucideIcon(\"Loader2\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { Loader2 as default };\n//# sourceMappingURL=loader-2.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Lock = createLucideIcon(\"Lock\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"11\",\n      x: \"3\",\n      y: \"11\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1w4ew1\"\n    }\n  ],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n]);\n\nexport { Lock as default };\n//# sourceMappingURL=lock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Network = createLucideIcon(\"Network\", [\n  [\n    \"rect\",\n    { x: \"16\", y: \"16\", width: \"6\", height: \"6\", rx: \"1\", key: \"4q2zg0\" }\n  ],\n  [\n    \"rect\",\n    { x: \"2\", y: \"16\", width: \"6\", height: \"6\", rx: \"1\", key: \"8cvhb9\" }\n  ],\n  [\"rect\", { x: \"9\", y: \"2\", width: \"6\", height: \"6\", rx: \"1\", key: \"1egb70\" }],\n  [\"path\", { d: \"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3\", key: \"1jsf9p\" }],\n  [\"path\", { d: \"M12 12V8\", key: \"2874zd\" }]\n]);\n\nexport { Network as default };\n//# sourceMappingURL=network.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\"path\", { d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\", key: \"3xmgem\" }]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\n    \"polygon\",\n    { points: \"13 2 3 14 12 14 11 22 21 10 12 10 13 2\", key: \"45s27k\" }\n  ]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.mjs.map\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { AuthClient } from '@dfinity/auth-client';\nimport { Principal } from '@dfinity/principal';\nimport { ErrorTracker } from '../error/quantum_error';  // Updated path\nimport { icManager } from '../ic-init';  // Updated path\n\ninterface AuthContextType {\n  authClient: AuthClient | null;\n  isAuthenticated: boolean;\n  identity: any;\n  principal: Principal | null;\n  isInitializing: boolean;\n  login: () => Promise<void>;\n  logout: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\nconst II_URL = process.env.DFX_NETWORK === 'ic' \n  ? 'https://identity.ic0.app'\n  : process.env.INTERNET_IDENTITY_URL;\n\nconst defaultOptions = {\n  loginOptions: {\n    identityProvider: II_URL,\n    derivationOrigin: process.env.DFX_NETWORK === 'ic' \n      ? 'https://identity.ic0.app'\n      : undefined,\n    maxTimeToLive: BigInt(7 * 24 * 60 * 60 * 1000_000_000)\n  },\n};\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [identity, setIdentity] = useState(null);\n  const [principal, setPrincipal] = useState<Principal | null>(null);\n  const [isInitializing, setIsInitializing] = useState(true);\n  const errorTracker = ErrorTracker.getInstance();\n\n  useEffect(() => {\n    console.log('🔄 Starting auth initialization sequence...');\n    const initAuth = async () => {\n      try {\n        console.log('📡 Waiting for IC Manager initialization...');\n        \n        // Wait for IC Manager with timeout\n        const maxWaitTime = 10000; // 10 seconds\n        const startTime = Date.now();\n        \n        while (!icManager.isInitialized() && Date.now() - startTime < maxWaitTime) {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        }\n\n        if (!icManager.isInitialized()) {\n          throw new Error('IC Manager initialization timeout');\n        }\n\n        console.log('✅ IC Manager initialized, getting auth client...');\n        const authClient = icManager.getAuthClient();\n        if (!authClient) {\n          throw new Error('Auth client not initialized');\n        }\n\n        console.log('🔒 Checking authentication status...');\n        const isAuth = await authClient.isAuthenticated();\n        console.log(`🔑 Authentication status: ${isAuth}`);\n        setIsAuthenticated(isAuth);\n        \n        if (isAuth) {\n          console.log('👤 Getting identity...');\n          const currentIdentity = icManager.getIdentity();\n          if (currentIdentity) {\n            console.log('✨ Setting identity and principal...');\n            setIdentity(currentIdentity);\n            setPrincipal(currentIdentity.getPrincipal());\n          }\n        }\n\n        console.log('🎉 Auth initialization complete!');\n\n      } catch (error) {\n        console.error('❌ Auth initialization failed:', error);\n        await errorTracker.trackError({\n          errorType: 'AUTH_INIT',\n          severity: 'HIGH',\n          context: 'Authentication Initialization',\n          error: error instanceof Error ? error : new Error('Auth initialization failed')\n        });\n      } finally {\n        setIsInitializing(false);\n        console.log('🏁 Auth initialization sequence finished');\n      }\n    };\n\n    initAuth();\n  }, []);\n\n  const login = async () => {\n    try {\n      console.log('🔄 Starting login process...');\n      setIsInitializing(true);\n      \n      const authClient = icManager.getAuthClient();\n      if (!authClient) {\n        throw new Error('Auth client not initialized');\n      }\n\n      await authClient.login({\n        ...defaultOptions.loginOptions,\n        onSuccess: async () => {\n          console.log('✅ Login successful, updating state...');\n          const identity = authClient.getIdentity();\n          const principal = identity.getPrincipal();\n          setIsAuthenticated(true);\n          setIdentity(identity);\n          setPrincipal(principal);\n          console.log('🎉 Login complete!');\n        }\n      });\n    } catch (error) {\n      console.error('❌ Login failed:', error);\n      await errorTracker.trackError({\n        errorType: 'AUTH_LOGIN',\n        severity: 'HIGH',\n        context: 'Login Attempt',\n        error: error instanceof Error ? error : new Error('Login failed')\n      });\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  const logout = async () => {\n    try {\n      console.log('🔄 Starting logout process...');\n      const authClient = icManager.getAuthClient();\n      if (authClient) {\n        await authClient.logout();\n        setIsAuthenticated(false);\n        setIdentity(null);\n        setPrincipal(null);\n        console.log('🎉 Logout complete!');\n      }\n    } catch (error) {\n      console.error('❌ Logout failed:', error);\n      await errorTracker.trackError({\n        errorType: 'AUTH_LOGOUT',\n        severity: 'MEDIUM',\n        context: 'Logout Attempt',\n        error: error instanceof Error ? error : new Error('Logout failed')\n      });\n    }\n  };\n\n  const contextValue = {\n    authClient: icManager.getAuthClient(),\n    isAuthenticated,\n    identity,\n    principal,\n    isInitializing,\n    login,\n    logout\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}","// Deprecated: Use auth-context instead\nimport { useAuth as useAuthContext } from '../contexts/auth-context';\nexport const useAuth = useAuthContext;\nexport default useAuth;","import React, { useEffect, useRef } from 'react';\n\ninterface MatrixRainProps {\n  className?: string;\n}\n\nexport const MatrixRain: React.FC<MatrixRainProps> = ({ className = '' }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    const fontSize = 16;\n    const columns = canvas.width / fontSize;\n    const drops: number[] = [];\n\n    for (let i = 0; i < columns; i++) {\n      drops[i] = 1;\n    }\n\n    const draw = () => {\n      ctx.fillStyle = 'rgba(0, 0, 0, .05)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      ctx.fillStyle = '#22c55e';\n      ctx.font = `${fontSize}px monospace`;\n\n      for (let i = 0; i < drops.length; i++) {\n        const text = chars[Math.floor(Math.random() * chars.length)];\n        ctx.fillText(text, i * fontSize, drops[i] * fontSize);\n\n        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {\n          drops[i] = 0;\n        }\n\n        drops[i]++;\n      }\n    };\n\n    const interval = setInterval(draw, 33);\n\n    const handleResize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      clearInterval(interval);\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`absolute inset-0 w-full h-full ${className}`}\n    />\n  );\n};\n\nexport default MatrixRain;","import { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from './useAuth';\n\nexport const useAnima = () => {\n  const { identity, actor } = useAuth();\n  const [animas, setAnimas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeAnima, setActiveAnima] = useState(null);\n\n  const fetchUserAnimas = useCallback(async () => {\n    if (!actor || !identity) return;\n    \n    try {\n      setLoading(true);\n      const principal = identity.getPrincipal();\n      const userAnimas = await actor.get_user_animas(principal);\n      setAnimas(userAnimas);\n      return userAnimas;\n    } catch (err) {\n      console.error('Error fetching animas:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [actor, identity]);\n\n  const getAnima = useCallback(async (id) => {\n    if (!actor) return null;\n    \n    try {\n      const anima = await actor.get_anima(id);\n      setActiveAnima(anima);\n      return anima;\n    } catch (err) {\n      console.error('Error fetching anima:', err);\n      setError(err.message);\n      return null;\n    }\n  }, [actor]);\n\n  const createAnima = useCallback(async () => {\n    if (!actor || !identity) return null;\n    \n    try {\n      setLoading(true);\n      const anima = await actor.create_anima();\n      await fetchUserAnimas(); // Refresh list\n      return anima;\n    } catch (err) {\n      console.error('Error creating anima:', err);\n      setError(err.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [actor, identity, fetchUserAnimas]);\n\n  useEffect(() => {\n    fetchUserAnimas();\n  }, [fetchUserAnimas]);\n\n  return {\n    animas,\n    activeAnima,\n    loading,\n    error,\n    fetchUserAnimas,\n    getAnima,\n    createAnima,\n    actor\n  };\n};"],"file":"assets/neural-interface-Ccv7oDsD.js"}