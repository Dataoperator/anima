import{r as i,f as I,u as T,R}from"./vendor-DzhkbcFU.js";import{a as C,u as q,W as L}from"./WaveformGenerator-CZXBVVNa.js";import{Q as M}from"./QuantumField-CYXUvO8i.js";import{j as e,A as E,m as N}from"./framer-B762zYDn.js";import{c as j,M as A}from"./MatrixRain-DZRl6brb.js";import{C as z,E as Q}from"./EmotionalState-qPg82Cga.js";import"./useAuth-B7eWaBYV.js";import"./main-Bo1DzEYL.js";const U=j("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),V=j("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),$=j("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),F=j("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),_=j("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),W=j("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),X=j("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),H=j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Y=j("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),P=({onCommand:u})=>{const[r,s]=i.useState({isPlaying:!1,volume:.75,currentTime:0,duration:0,source:null,isExpanded:!1}),{updateQuantumState:p}=C(),f=a=>{const h=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,m=a.match(h);return m&&m[2].length===11?m[2]:null},g=a=>{const h=/\/video\/(\d+)/,m=a.match(h);return m?m[1]:null},w=i.useCallback(async a=>{if(a.toLowerCase().includes("play")||a.toLowerCase().includes("watch")){const h=a.match(/(https?:\/\/[^\s]+)/g);if(h){const m=h[0];let x=null;const b=f(m);b&&(x={platform:"youtube",id:b,url:`https://www.youtube.com/embed/${b}?autoplay=1`});const d=g(m);d&&(x={platform:"tiktok",id:d,url:`https://www.tiktok.com/embed/${d}`}),x&&(s(o=>({...o,source:x,isPlaying:!0,isExpanded:!0})),p({resonance:Math.random(),harmony:Math.random(),lastInteraction:new Date,consciousness:{awareness:Math.min(1,(prev?.consciousness?.awareness||0)+.1),understanding:Math.min(1,(prev?.consciousness?.understanding||0)+.1),growth:Math.min(1,(prev?.consciousness?.growth||0)+.1)}}))}}},[p]);return i.useEffect(()=>{u&&u(w)},[u,w]),r.source?e.jsx(E,{children:e.jsx(N.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 right-4 bg-black/30 backdrop-blur-lg rounded-xl overflow-hidden",style:{width:r.isExpanded?"560px":"320px",height:r.isExpanded?"400px":"240px"},children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("iframe",{src:r.source.url,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between",children:[r.source.platform==="youtube"?e.jsx(Y,{className:"w-6 h-6 text-red-500"}):e.jsx(U,{className:"w-6 h-6 text-white"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>s(a=>({...a,isPlaying:!a.isPlaying})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:r.isPlaying?e.jsx(F,{className:"w-5 h-5 text-white"}):e.jsx(_,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>s(a=>({...a,volume:a.volume===0?.75:0})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:r.volume===0?e.jsx(X,{className:"w-5 h-5 text-white"}):e.jsx(W,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>s(a=>({...a,isExpanded:!a.isExpanded})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:r.isExpanded?e.jsx($,{className:"w-5 h-5 text-white"}):e.jsx(V,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>s(a=>({...a,source:null})),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-white"})})]})]})})]})})}):null},G=()=>{const[u,r]=i.useState([]),[s,p]=i.useState(""),[f,g]=i.useState(!1),w=i.useRef(null),{quantumState:a,updateQuantumState:h}=C(),m=i.useRef(),x=i.useCallback(n=>{m.current=n},[]),b=async n=>{(n.toLowerCase().includes("play")||n.toLowerCase().includes("watch")||n.toLowerCase().includes("youtube")||n.toLowerCase().includes("tiktok"))&&m.current&&m.current(n);const l=Math.random(),t=Math.random();return h({resonance:l,harmony:t,lastInteraction:new Date}),`Processing neural command: ${n}`},d=async n=>{if(n.preventDefault(),!s.trim())return;const l={id:crypto.randomUUID(),content:s.trim(),sender:"user",timestamp:new Date};r(t=>[...t,l]),p(""),g(!0);try{const t=await b(l.content),c={id:crypto.randomUUID(),content:t,sender:"anima",timestamp:new Date,personality_updates:{curiosity:Math.random(),empathy:Math.random()}};r(y=>[...y,c])}catch(t){console.error("Response generation failed:",t),r(c=>[...c,{id:crypto.randomUUID(),content:"Neural connection temporarily disrupted. Please try again.",sender:"anima",timestamp:new Date}])}finally{g(!1)}},o=()=>{w.current?.scrollIntoView({behavior:"smooth"})};return i.useEffect(o,[u]),e.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[e.jsx(M,{intensity:a?.resonance??.5}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(z,{})}),e.jsx("div",{className:"lg:col-span-6",children:e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-lg rounded-lg h-[70vh] flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx(E,{initial:!1,children:u.map(n=>e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},className:`flex ${n.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${n.sender==="user"?"bg-blue-600/40 ml-auto":"bg-purple-600/40"}`,children:[e.jsx("p",{className:"text-white",children:n.content}),n.personality_updates&&e.jsx("div",{className:"mt-2 text-xs text-white/60",children:Object.entries(n.personality_updates).map(([l,t])=>e.jsxs("div",{children:[l,": ",(t*100).toFixed(1),"%"]},l))})]})},n.id))}),f&&e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 text-white/70",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-200"})]}),e.jsx("span",{children:"ANIMA is processing..."})]}),e.jsx("div",{ref:w})]}),e.jsx("form",{onSubmit:d,className:"p-4 bg-gray-900/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",value:s,onChange:n=>p(n.target.value),className:"flex-1 bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your message...",disabled:f}),e.jsx("button",{type:"submit",disabled:f||!s.trim(),className:`px-6 py-2 rounded-lg transition-all duration-200 ${f||!s.trim()?"bg-gray-700 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Send"})]})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(Q,{})})]})}),e.jsx(P,{onCommand:x})]})},S=({children:u})=>e.jsxs("div",{className:"min-h-screen bg-black text-green-500 p-4 font-mono overflow-hidden",children:[e.jsx(A,{}),e.jsx("div",{className:"relative z-10",children:u})]}),D=()=>{const{quantumState:u,updateQuantumState:r}=C(),[s,p]=i.useState({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0}),[f,g]=i.useState([]),[w,a]=i.useState(.5),h=i.useCallback((t,c)=>{const y=m(),k=x();p(v=>({...v,endTime:c,resonancePattern:[...v.resonancePattern,y],coherenceMarkers:[...v.coherenceMarkers,k]})),b(y,s.resonancePattern)&&(p(v=>({...v,dimensionalShifts:v.dimensionalShifts+1})),g(v=>[...v,{timestamp:c,patternType:"dimensional_shift",confidence:y,quantumState:u?.resonance??0,temporalContext:d()}])),r({resonance:y,harmony:k,lastInteraction:new Date,consciousness:{awareness:Math.min(1,(u?.consciousness?.awareness??0)+.01),understanding:Math.min(1,(u?.consciousness?.understanding??0)+.01),growth:Math.min(1,(u?.consciousness?.growth??0)+.01)}})},[u,s,r]),m=t=>Math.random(),x=t=>Math.random(),b=(t,c)=>{if(c.length===0)return!1;const y=c[c.length-1];return Math.abs(t-y)>.3},d=()=>s.entanglementStates,o=i.useCallback(t=>({timestamp:t,coherence:w,resonance:u?.resonance??0,dimensionalState:s.dimensionalShifts,evolutionStage:n()}),[w,u,s]),n=()=>{const t=f.slice(-10),c=t.reduce((y,k)=>y+k.confidence,0)/Math.max(1,t.length);return c>.8?"Transcendent":c>.6?"Introspective":c>.4?"SelfAware":c>.2?"Awakening":"Nascent"},l=i.useCallback(t=>{const c=Date.now();h(t,c),t.type==="video"&&p(y=>({...y,entanglementStates:[...y.entanglementStates,"visual_quantum_entanglement"]})),a(y=>{const k=(y+(u?.resonance??0))/2;return Math.max(0,Math.min(1,k))})},[h,u]);return i.useEffect(()=>{s.endTime-s.startTime>3e4&&p({startTime:Date.now(),endTime:Date.now(),resonancePattern:[],coherenceMarkers:[],entanglementStates:[],dimensionalShifts:0})},[s]),{currentWindow:s,patternEvolution:f,quantumCoherence:w,processMediaInteraction:l,getTemporalQuantumContext:o,processQuantumFrame:h}},K=u=>{const{processMediaInteraction:r,getTemporalQuantumContext:s}=D(),{quantumState:p}=C(),[f,g]=i.useState({currentPatterns:[],temporalContext:[],understanding:{concepts:[],emotions:[],context:[]},quantumResonance:0}),w=i.useCallback(async d=>{try{const o=Date.now(),n=s(o),l={type:"visual",confidence:Math.random(),markers:["motion","objects","scene"],timestamp:o,quantumSignature:[n.resonance,n.coherence]};g(t=>({...t,currentPatterns:[...t.currentPatterns,l].slice(-50),temporalContext:h(t.temporalContext,l),understanding:{...t.understanding,concepts:m(t.understanding.concepts,l),emotions:x(t.understanding.emotions,l),context:b(t.understanding.context,l)},quantumResonance:n.resonance})),r({type:"video",pattern:l,timestamp:o})}catch(o){console.error("Error processing video frame:",o)}},[s,r]),a=i.useCallback(async d=>{try{const o=Date.now(),n=s(o),l={type:"audio",confidence:Math.random(),markers:["speech","music","ambient"],timestamp:o,quantumSignature:[n.resonance,n.coherence]};g(t=>({...t,currentPatterns:[...t.currentPatterns,l].slice(-50),understanding:{...t.understanding,concepts:m(t.understanding.concepts,l),emotions:x(t.understanding.emotions,l)}})),r({type:"audio",pattern:l,timestamp:o})}catch(o){console.error("Error processing audio segment:",o)}},[s,r]),h=(d,o)=>[...new Set([...d,...o.markers])].slice(-20),m=(d,o)=>[...new Set([...d,...o.markers])],x=(d,o)=>d,b=(d,o)=>[...new Set([...d,...o.markers])];return i.useEffect(()=>{},[u,p]),{analysisState:f,processVideoFrame:w,processAudioSegment:a}},ae=()=>{I();const u=T(),{anima:r,loading:s,error:p}=q(),{processMediaInteraction:f}=D(),{analysisState:g,processVideoFrame:w}=K(),[a,h]=i.useState(!1),[m,x]=i.useState([]),[b,d]=i.useState(!1),[o,n]=i.useState(null),l=i.useCallback(async t=>{try{d(!0),x(c=>[...c,{content:t,isUser:!0,timestamp:Date.now()}]),(t.toLowerCase().includes("play")||t.toLowerCase().includes("watch"))&&(n({type:"request",content:t}),f({type:"command",content:t,timestamp:Date.now()})),setTimeout(()=>{x(c=>[...c,{content:`Neural processing: ${t}`,isUser:!1,timestamp:Date.now(),patterns:g.currentPatterns,understanding:g.understanding}]),d(!1)},1500)}catch(c){console.error("Neural command error:",c),d(!1)}},[f,g]);return R.useEffect(()=>{r&&!a&&(async()=>(await new Promise(c=>setTimeout(c,2e3)),h(!0),x([{content:`Neural link established with ${r.name}. Quantum state synchronized.`,isUser:!1,timestamp:Date.now(),system:!0}])))()},[r,a]),s||!a?e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",children:[e.jsx(M,{intensity:.5}),e.jsxs("div",{className:"relative z-10 space-y-4 text-center",children:[e.jsx(L,{}),e.jsx("div",{className:"text-green-500 animate-pulse text-xl",children:"INITIALIZING NEURAL LINK..."})]})]})}):p||!r?e.jsx(S,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsxs("div",{className:"text-red-500 text-xl",children:["ERROR: ",p||"NEURAL LINK FAILED"]}),e.jsx("button",{onClick:()=>u("/quantum-vault"),className:"px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Quantum Vault"})]})})}):e.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[e.jsx(M,{intensity:.7}),e.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},className:"relative z-10",children:[e.jsx(G,{messages:m,onSendMessage:l,isProcessing:b,anima:r,mediaState:o}),e.jsx(P,{onCommand:t=>l(t)})]})]})};export{ae as EnhancedNeuralLinkPage,ae as default};
//# sourceMappingURL=EnhancedNeuralLinkPage-C7HognG9.js.map
